<?xml version="1.0" encoding="utf-8"?><fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format" font-family="CartoGothic Std" font-size="10.5pt" text-align="start" line-height="normal" font-selection-strategy="character-by-character" line-height-shift-adjustment="disregard-shifts" writing-mode="lr-tb" language="en"><fo:layout-master-set><fo:simple-page-master master-name="blank" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body display-align="center" margin-bottom="0.5in" margin-top="0.5in"/><fo:region-before region-name="xsl-region-before-blank" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-blank" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-first" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-odd" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-even" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-first" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-odd" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-even" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-first" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-odd" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-even" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-first" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-odd" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-even" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-first" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-odd" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-even" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-first" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="2"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-odd" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="2"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-even" page-width="8.5in" page-height="11in" margin-top="0.5in" margin-bottom="0.5in" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="2"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" display-align="after"/></fo:simple-page-master><fo:page-sequence-master master-name="titlepage"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="titlepage-first" page-position="first"/><fo:conditional-page-master-reference master-reference="titlepage-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="titlepage-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="lot"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="lot-first" page-position="first"/><fo:conditional-page-master-reference master-reference="lot-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="lot-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="front"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="front-first" page-position="first"/><fo:conditional-page-master-reference master-reference="front-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="front-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="body"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="body-first" page-position="first"/><fo:conditional-page-master-reference master-reference="body-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="body-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="back"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="back-first" page-position="first"/><fo:conditional-page-master-reference master-reference="back-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="back-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="index"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="index-first" page-position="first"/><fo:conditional-page-master-reference master-reference="index-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="index-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:simple-page-master master-name="cloudpage-first" page-width="8.5in" page-height="11in" margin-top="0.0in" margin-bottom="0.0in" margin-left="0.0in" margin-right="0.0in"><fo:region-body margin-bottom="0.0in" margin-top="0.0in" column-gap="0pt" column-count="1"/><fo:region-before extent="11.0in" display-align="before" background-image="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/cloud/cover.svg)" background-repeat="no-repeat" background-position-horizontal="0%" background-position-vertical="0%"/></fo:simple-page-master><fo:page-sequence-master master-name="cloud-titlepage"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="cloudpage-first" page-position="first"/><fo:conditional-page-master-reference master-reference="titlepage-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="titlepage-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master></fo:layout-master-set><fo:declarations><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xapRights="http://ns.adobe.com/xap/1.0/rights/" rdf:about=""><xapRights:Marked>True</xapRights:Marked></rdf:Description><rdf:Description xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:about=""><dc:rights><rdf:Alt><rdf:li xml:lang="x-default">Copyright © 2010, 2011 OpenStack LLC Some rights reserved.</rdf:li></rdf:Alt></dc:rights><dc:title>OpenStack Compute Administration Manual</dc:title><dc:creator/></rdf:Description><rdf:Description xmlns:pdf="http://ns.adobe.com/pdf/1.3/" rdf:about=""/><rdf:Description xmlns:xmp="http://ns.adobe.com/xap/1.0/" rdf:about=""><xmp:CreatorTool>Cloud API Docs Plugin</xmp:CreatorTool></rdf:Description></rdf:RDF></x:xmpmeta></fo:declarations><fo:bookmark-tree><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openstack-compute-admin-manual" starting-state="hide"><fo:bookmark-title>OpenStack Compute Administration Manual</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="toc...openstack-compute-admin-manual"><fo:bookmark-title>Table of Contents</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_getting-started-with-openstack" starting-state="hide"><fo:bookmark-title>1. Getting Started with OpenStack</fo:bookmark-title><fo:bookmark internal-destination="what-is-openstack" starting-state="hide"><fo:bookmark-title>What is OpenStack?</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="components-of-openstack" starting-state="hide"><fo:bookmark-title>Components of OpenStack</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openstack-architecture-overview" starting-state="hide"><fo:bookmark-title>OpenStack Project Architecture Overview</fo:bookmark-title><fo:bookmark internal-destination="cloud-provider-conceptual-architecture" starting-state="hide"><fo:bookmark-title>Cloud Provider Conceptual Architecture</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openstack-nova-logical-architecture" starting-state="hide"><fo:bookmark-title>OpenStack Compute Logical Architecture</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nova-conceptual-mapping" starting-state="hide"><fo:bookmark-title>Nova Conceptual Mapping</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="why-cloud" starting-state="hide"><fo:bookmark-title>Why Cloud?</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_introduction-to-openstack-compute" starting-state="hide"><fo:bookmark-title>2. Introduction to OpenStack Compute</fo:bookmark-title><fo:bookmark internal-destination="hypervisors" starting-state="hide"><fo:bookmark-title>Hypervisors</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="users-and-projects" starting-state="hide"><fo:bookmark-title>Users and Projects</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="images-and-instances" starting-state="hide"><fo:bookmark-title>Images and Instances</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="system-architecture" starting-state="hide"><fo:bookmark-title>System Architecture</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="storage-and-openstack-compute" starting-state="hide"><fo:bookmark-title>Storage and OpenStack Compute</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_installing-openstack-compute" starting-state="hide"><fo:bookmark-title>3. Installing OpenStack Compute</fo:bookmark-title><fo:bookmark internal-destination="compute-system-requirements" starting-state="hide"><fo:bookmark-title>System Requirements</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="example-installation-architecture" starting-state="hide"><fo:bookmark-title>Example Installation Architectures</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="service-architecture" starting-state="hide"><fo:bookmark-title>Service Architecture</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="installing-openstack-compute-on-ubuntu" starting-state="hide"><fo:bookmark-title>Installing OpenStack Compute on Ubuntu</fo:bookmark-title><fo:bookmark internal-destination="iso-ubuntu-installation" starting-state="hide"><fo:bookmark-title>ISO Distribution Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="scripted-ubuntu-installation" starting-state="hide"><fo:bookmark-title>Scripted Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="manual-ubuntu-installation" starting-state="hide"><fo:bookmark-title>Manual Installation</fo:bookmark-title><fo:bookmark internal-destination="installing-the-cloud-controller" starting-state="hide"><fo:bookmark-title>Installing the Cloud Controller</fo:bookmark-title><fo:bookmark internal-destination="setting-up-sql-database-mysql" starting-state="hide"><fo:bookmark-title>Setting up the SQL Database (MySQL) on the Cloud Controller</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="setting-up-sql-database-postgresql" starting-state="hide"><fo:bookmark-title>Setting Up PostgreSQL as the Database</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="installing-the-compute-node" starting-state="hide"><fo:bookmark-title>Installing the Compute Node</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="restart-nova-services" starting-state="hide"><fo:bookmark-title>Restart All Relevant Services on the Compute Node</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="installing-openstack-compute-on-rhel6" starting-state="hide"><fo:bookmark-title>Installing OpenStack Compute on Red Hat Enterprise Linux 6</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-openstack-compute-basics" starting-state="hide"><fo:bookmark-title>Post-Installation Configuration for OpenStack Compute</fo:bookmark-title><fo:bookmark internal-destination="setting-flags-in-nova-conf-file" starting-state="hide"><fo:bookmark-title>Setting Flags in the nova.conf File</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="setting-up-openstack-compute-environment-on-the-compute-node" starting-state="hide"><fo:bookmark-title>Setting Up OpenStack Compute Environment on the Compute Node</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="creating-certifications" starting-state="hide"><fo:bookmark-title>Creating Credentials</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="enabling-access-to-vms-on-the-compute-node" starting-state="hide"><fo:bookmark-title>Enabling Access to VMs on the Compute Node</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-multiple-compute-nodes" starting-state="hide"><fo:bookmark-title>Configuring Multiple Compute Nodes</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="determining-version-of-compute" starting-state="hide"><fo:bookmark-title>Determining the Version of Compute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="migrating-from-cactus-to-diablo" starting-state="hide"><fo:bookmark-title>Migrating from Cactus to Diablo</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_configuring-openstack-compute" starting-state="hide"><fo:bookmark-title>4. Configuring OpenStack Compute</fo:bookmark-title><fo:bookmark internal-destination="general-compute-configuration-overview" starting-state="hide"><fo:bookmark-title>General Compute Configuration Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sample-nova-configuration-files" starting-state="hide"><fo:bookmark-title>Example nova.conf Configuration Files</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-logging" starting-state="hide"><fo:bookmark-title>Configuring Logging</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-hypervisors" starting-state="hide"><fo:bookmark-title>Configuring Hypervisors</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-authentication-authorization" starting-state="hide"><fo:bookmark-title>Configuring Authentication and Authorization</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-compute-to-use-ipv6-addresses" starting-state="hide"><fo:bookmark-title>Configuring Compute to use IPv6 Addresses</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-compute-to-use-the-image-service" starting-state="hide"><fo:bookmark-title>Configuring Image Service and Storage for Compute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-live-migrations" starting-state="hide"><fo:bookmark-title>Configuring Live Migrations</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-database-connections" starting-state="hide"><fo:bookmark-title>Configuring Database Connections</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-compute-messaging" starting-state="hide"><fo:bookmark-title>Configuring the Compute Messaging System</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_hypervisors" starting-state="hide"><fo:bookmark-title>5. Hypervisors</fo:bookmark-title><fo:bookmark internal-destination="selecting-a-hypervisor" starting-state="hide"><fo:bookmark-title>Selecting a Hypervisor</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="hypervisor-configuration-basics" starting-state="hide"><fo:bookmark-title>Hypervisor Configuration Basics</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_openstack-compute-automated-installations" starting-state="hide"><fo:bookmark-title>6. OpenStack Compute Automated Installations</fo:bookmark-title><fo:bookmark internal-destination="openstack-compute-deployment-tool-with-puppet" starting-state="hide"><fo:bookmark-title>Deployment Tool for OpenStack using Puppet</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openstack-compute-installation-using-virtualbox-vagrant-and-chef" starting-state="hide"><fo:bookmark-title>OpenStack Compute Installation Using VirtualBox, Vagrant, And Chef</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_networking" starting-state="hide"><fo:bookmark-title>7. Networking</fo:bookmark-title><fo:bookmark internal-destination="networking-options" starting-state="hide"><fo:bookmark-title>Networking Options</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cloudpipe-per-project-vpns" starting-state="hide"><fo:bookmark-title>Cloudpipe — Per Project Vpns</fo:bookmark-title><fo:bookmark internal-destination="creating-a-cloudpipe-image" starting-state="hide"><fo:bookmark-title>Creating a Cloudpipe Image</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="vpn-access" starting-state="hide"><fo:bookmark-title>VPN Access</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="certificates-and-revocation" starting-state="hide"><fo:bookmark-title>Certificates and Revocation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="restarting-and-logging-into-cloudpipe-vpn" starting-state="hide"><fo:bookmark-title>Restarting and Logging into the Cloudpipe VPN</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="configuring-networking-on-the-compute-node" starting-state="hide"><fo:bookmark-title>Configuring Networking on the Compute Node</fo:bookmark-title><fo:bookmark internal-destination="configuring-flat-networking" starting-state="hide"><fo:bookmark-title>Configuring Flat Networking</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-flat-dhcp-networking" starting-state="hide"><fo:bookmark-title>Configuring Flat DHCP Networking</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="outbound-traffic-flow-with-any-flat-networking" starting-state="hide"><fo:bookmark-title>Outbound Traffic Flow with Any Flat Networking</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="configuring-vlan-networking" starting-state="hide"><fo:bookmark-title>Configuring VLAN Networking</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="enabling-ping-and-ssh-on-vms" starting-state="hide"><fo:bookmark-title>Enabling Ping and SSH on VMs</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="allocating-associating-ip-addresses" starting-state="hide"><fo:bookmark-title>Allocating and Associating IP Addresses with Instances</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="associating-public-ip" starting-state="hide"><fo:bookmark-title>Associating a Public IP Address</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="removing-network-from-project" starting-state="hide"><fo:bookmark-title>Removing a Network from a Project</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="existing-ha-networking-options" starting-state="hide"><fo:bookmark-title>Existing High Availability Options for Networking</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_system-administration-for-openstack-compute" starting-state="hide"><fo:bookmark-title>8. System Administration</fo:bookmark-title><fo:bookmark internal-destination="starting-images" starting-state="hide"><fo:bookmark-title>Starting Images</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="deleting-instances" starting-state="hide"><fo:bookmark-title>Deleting Instances</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="creating-custom-images" starting-state="hide"><fo:bookmark-title>Image management</fo:bookmark-title><fo:bookmark internal-destination="creating-a-linux-image" starting-state="hide"><fo:bookmark-title>Creating a Linux Image – Ubuntu &amp; Fedora</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="creating-a-windows-image" starting-state="hide"><fo:bookmark-title>Creating a Windows Image</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="understanding-the-compute-service-architecture" starting-state="hide"><fo:bookmark-title>Understanding the Compute Service Architecture</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="managing-the-cloud" starting-state="hide"><fo:bookmark-title>Managing the Cloud</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="managing-compute-users" starting-state="hide"><fo:bookmark-title>Managing Compute Users</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="managing-volumes" starting-state="hide"><fo:bookmark-title>Managing Volumes</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="live-migration-usage" starting-state="hide"><fo:bookmark-title>Using Live Migration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="reference-for-flags-in-nova-conf" starting-state="hide"><fo:bookmark-title>Reference for Flags in nova.conf</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_openstack-interfaces" starting-state="hide"><fo:bookmark-title>9. OpenStack Interfaces</fo:bookmark-title><fo:bookmark internal-destination="about-the-dashboard" starting-state="hide"><fo:bookmark-title>About the Dashboard</fo:bookmark-title><fo:bookmark internal-destination="dashboard-system-requirements" starting-state="hide"><fo:bookmark-title>System Requirements for the Dashboard</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="installing-openstack-dashboard" starting-state="hide"><fo:bookmark-title>Installing the OpenStack Dashboard</fo:bookmark-title><fo:bookmark internal-destination="build-and-configure-openstack-dashboard" starting-state="hide"><fo:bookmark-title>Configure Openstack-Dashboard</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="install-dashboard" starting-state="hide"><fo:bookmark-title>Install the Dashboard</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="run-the-server" starting-state="hide"><fo:bookmark-title>Run the Server</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="getting-started-with-the-vnc-proxy" starting-state="hide"><fo:bookmark-title>Getting Started with the VNC Proxy</fo:bookmark-title><fo:bookmark internal-destination="configuring-the-vnc-proxy" starting-state="hide"><fo:bookmark-title>Configuring the VNC Proxy</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="enabling-vnc-consoles-in-nova" starting-state="hide"><fo:bookmark-title>Enabling VNC Consoles in Nova</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="getting-an-instances-vnc-console" starting-state="hide"><fo:bookmark-title>Getting an Instance's VNC Console</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_openstack-compute-tutorials" starting-state="hide"><fo:bookmark-title>10. OpenStack Compute Tutorials</fo:bookmark-title><fo:bookmark internal-destination="running-elastic-web-app-cloud" starting-state="hide"><fo:bookmark-title>Running Your First Elastic Web Application on the Cloud</fo:bookmark-title><fo:bookmark internal-destination="part-i-setting-up-cloud-infrastructure" starting-state="hide"><fo:bookmark-title>Part I: Setting Up the Cloud Infrastructure</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="part-ii-getting-virtual-machines" starting-state="hide"><fo:bookmark-title>Part II: Getting Virtual Machines to Run the Virtual Servers</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="installing-needed-software-for-web-scale" starting-state="hide"><fo:bookmark-title>Part III: Installing the Needed Software for the Web-Scale Scenario</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="running-a-blog-in-the-cloud" starting-state="hide"><fo:bookmark-title>Running a Blog in the Cloud</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_support-and-troubleshooting" starting-state="hide"><fo:bookmark-title>11. Support and Troubleshooting</fo:bookmark-title><fo:bookmark internal-destination="community-support" starting-state="hide"><fo:bookmark-title>Community Support</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="troubleshooting-openstack-object-storage" starting-state="hide"><fo:bookmark-title>Troubleshooting OpenStack Object Storage</fo:bookmark-title><fo:bookmark internal-destination="handling-drive-failure" starting-state="hide"><fo:bookmark-title>Handling Drive Failure</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="handling-server-failure" starting-state="hide"><fo:bookmark-title>Handling Server Failure</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="detecting-failed-drives" starting-state="hide"><fo:bookmark-title>Detecting Failed Drives</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="troubleshooting-openstack-compute" starting-state="hide"><fo:bookmark-title>Troubleshooting OpenStack Compute</fo:bookmark-title><fo:bookmark internal-destination="log-files-for-openstack-compute" starting-state="hide"><fo:bookmark-title>Log files for OpenStack Compute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="common-errors-and-fixes-for-openstack-compute" starting-state="hide"><fo:bookmark-title>Common Errors and Fixes for OpenStack Compute</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark-tree><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openstack-compute-admin-manual"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_getting-started-with-openstack"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="what-is-openstack"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="components-of-openstack"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openstack-architecture-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cloud-provider-conceptual-architecture"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openstack-nova-logical-architecture"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nova-conceptual-mapping"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="why-cloud"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_introduction-to-openstack-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="hypervisors"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="users-and-projects"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="images-and-instances"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="system-architecture"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="storage-and-openstack-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_installing-openstack-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="compute-system-requirements"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="example-installation-architecture"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="service-architecture"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-openstack-compute-on-ubuntu"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="iso-ubuntu-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="scripted-ubuntu-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="manual-ubuntu-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-the-cloud-controller"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="setting-up-sql-database-mysql"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="setting-up-sql-database-postgresql"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-the-compute-node"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="restart-nova-services"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-openstack-compute-on-rhel6"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-openstack-compute-basics"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="setting-flags-in-nova-conf-file"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="setting-up-openstack-compute-environment-on-the-compute-node"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="creating-certifications"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="enabling-access-to-vms-on-the-compute-node"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-multiple-compute-nodes"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="determining-version-of-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="migrating-from-cactus-to-diablo"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_configuring-openstack-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="general-compute-configuration-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sample-nova-configuration-files"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-logging"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-hypervisors"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-authentication-authorization"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-compute-to-use-ipv6-addresses"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-compute-to-use-the-image-service"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-live-migrations"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-database-connections"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-compute-messaging"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_hypervisors"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="selecting-a-hypervisor"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="hypervisor-configuration-basics"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_openstack-compute-automated-installations"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openstack-compute-deployment-tool-with-puppet"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openstack-compute-installation-using-virtualbox-vagrant-and-chef"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_networking"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="networking-options"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cloudpipe-per-project-vpns"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="creating-a-cloudpipe-image"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="vpn-access"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="certificates-and-revocation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="restarting-and-logging-into-cloudpipe-vpn"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-networking-on-the-compute-node"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-flat-networking"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-flat-dhcp-networking"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="outbound-traffic-flow-with-any-flat-networking"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-vlan-networking"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="enabling-ping-and-ssh-on-vms"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="allocating-associating-ip-addresses"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="associating-public-ip"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="removing-network-from-project"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="existing-ha-networking-options"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_system-administration-for-openstack-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="starting-images"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="deleting-instances"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="creating-custom-images"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="creating-a-linux-image"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="creating-a-windows-image"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="understanding-the-compute-service-architecture"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="managing-the-cloud"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="managing-compute-users"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="managing-volumes"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="live-migration-usage"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="reference-for-flags-in-nova-conf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_openstack-interfaces"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="about-the-dashboard"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dashboard-system-requirements"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-openstack-dashboard"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="build-and-configure-openstack-dashboard"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="install-dashboard"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="run-the-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="getting-started-with-the-vnc-proxy"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuring-the-vnc-proxy"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="enabling-vnc-consoles-in-nova"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="getting-an-instances-vnc-console"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_openstack-compute-tutorials"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="running-elastic-web-app-cloud"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="part-i-setting-up-cloud-infrastructure"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="part-ii-getting-virtual-machines"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-needed-software-for-web-scale"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="running-a-blog-in-the-cloud"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ch_support-and-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="community-support"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="troubleshooting-openstack-object-storage"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="handling-drive-failure"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="handling-server-failure"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="detecting-failed-drives"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="troubleshooting-openstack-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="log-files-for-openstack-compute"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="common-errors-and-fixes-for-openstack-compute"/><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="cloud-titlepage" language="en" format="i" initial-page-number="1" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="openstack-compute-admin-manual"><fo:block><fo:block><fo:block break-after="page"/><fo:block font-size="14.4pt" font-weight="bold" font-family="CartoGothic Std"><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block><fo:block font-size="10pt"><fo:block> </fo:block></fo:block><fo:block font-size="10pt" space-before="0.5em">Diablo (2011-09-22)</fo:block><fo:block font-size="10pt">Copyright © 2010, 2011 OpenStack LLC Some rights reserved.</fo:block><fo:block font-size="10pt"><fo:block start-indent="0.0in" end-indent="0.0in"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="center"/><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack™ Compute offers open source software for cloud administration and
                management for any organization. This manual provides guidance for installing,
                managing, and understanding the software that runs OpenStack Compute. </fo:block></fo:block></fo:block><fo:block font-size="8pt" space-before="1.0em"><fo:block id="d399e17"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Licensed under the Apache License, Version 2.0 (the "License");
              you may not use this file except in compliance with the License.
              You may obtain a copy of the License at
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://www.apache.org/licenses/LICENSE-2.0"><fo:inline>http://www.apache.org/licenses/LICENSE-2.0</fo:inline></fo:basic-link></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Unless required by applicable law or agreed to in writing, software
              distributed under the License is distributed on an "AS IS" BASIS,
              WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
              See the License for the specific language governing permissions and
              limitations under the License.
          </fo:block></fo:block></fo:block><fo:block font-size="8pt" space-before="1.0em"><fo:block id="d399e20"><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:basic-link external-destination="url(http://creativecommons.org/licenses/by-sa/3.0/legalcode)"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/cc/by-sa.svg)" width="auto" height="auto" content-width="75%" content-height="75%"/></fo:basic-link></fo:block></fo:list-item-label><fo:list-item-body start-indent="1.125in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Except where otherwise noted, this document is licensed under <fo:block/><fo:basic-link external-destination="url(http://creativecommons.org/licenses/by-sa/3.0/legalcode)"><fo:inline font-weight="bold">Creative Commons Attribution ShareAlike 3.0 License</fo:inline></fo:basic-link>.<fo:block/><fo:basic-link external-destination="url(http://creativecommons.org/licenses/by-sa/3.0/legalcode)"><fo:inline>http://creativecommons.org/licenses/by-sa/3.0/legalcode</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block break-after="page"/></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="lot" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="toc...openstack-compute-admin-manual"><fo:block><fo:block><fo:block space-before.minimum="1em" space-before.optimum="1.5em" space-before.maximum="2em" space-after="0.5em" margin-left="0pt" start-indent="0pt" font-size="20.736pt" font-weight="bold" color="rgb(196,0,34)" font-family="CartoGothic Std">Table of Contents</fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_getting-started-with-openstack">1. Getting Started with OpenStack</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_getting-started-with-openstack"><fo:page-number-citation ref-id="ch_getting-started-with-openstack"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_getting-started-with-openstack" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="what-is-openstack">What is OpenStack?</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="what-is-openstack"><fo:page-number-citation ref-id="what-is-openstack"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="components-of-openstack">Components of OpenStack</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="components-of-openstack"><fo:page-number-citation ref-id="components-of-openstack"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openstack-architecture-overview">OpenStack Project Architecture Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="openstack-architecture-overview"><fo:page-number-citation ref-id="openstack-architecture-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.openstack-architecture-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cloud-provider-conceptual-architecture">Cloud Provider Conceptual Architecture</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cloud-provider-conceptual-architecture"><fo:page-number-citation ref-id="cloud-provider-conceptual-architecture"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openstack-nova-logical-architecture">OpenStack Compute Logical Architecture</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="openstack-nova-logical-architecture"><fo:page-number-citation ref-id="openstack-nova-logical-architecture"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nova-conceptual-mapping">Nova Conceptual Mapping</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nova-conceptual-mapping"><fo:page-number-citation ref-id="nova-conceptual-mapping"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="why-cloud">Why Cloud?</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="why-cloud"><fo:page-number-citation ref-id="why-cloud"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_introduction-to-openstack-compute">2. Introduction to OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_introduction-to-openstack-compute"><fo:page-number-citation ref-id="ch_introduction-to-openstack-compute"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_introduction-to-openstack-compute" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="hypervisors">Hypervisors</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="hypervisors"><fo:page-number-citation ref-id="hypervisors"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="users-and-projects">Users and Projects</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="users-and-projects"><fo:page-number-citation ref-id="users-and-projects"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="images-and-instances">Images and Instances</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="images-and-instances"><fo:page-number-citation ref-id="images-and-instances"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="system-architecture">System Architecture</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="system-architecture"><fo:page-number-citation ref-id="system-architecture"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="storage-and-openstack-compute">Storage and OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="storage-and-openstack-compute"><fo:page-number-citation ref-id="storage-and-openstack-compute"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_installing-openstack-compute">3. Installing OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_installing-openstack-compute"><fo:page-number-citation ref-id="ch_installing-openstack-compute"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_installing-openstack-compute" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="compute-system-requirements">System Requirements</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="compute-system-requirements"><fo:page-number-citation ref-id="compute-system-requirements"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="example-installation-architecture">Example Installation Architectures</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="example-installation-architecture"><fo:page-number-citation ref-id="example-installation-architecture"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="service-architecture">Service Architecture</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="service-architecture"><fo:page-number-citation ref-id="service-architecture"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="installing-openstack-compute-on-ubuntu">Installing OpenStack Compute on Ubuntu </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="installing-openstack-compute-on-ubuntu"><fo:page-number-citation ref-id="installing-openstack-compute-on-ubuntu"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.installing-openstack-compute-on-ubuntu" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="iso-ubuntu-installation">ISO Distribution Installation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="iso-ubuntu-installation"><fo:page-number-citation ref-id="iso-ubuntu-installation"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="scripted-ubuntu-installation">Scripted Installation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="scripted-ubuntu-installation"><fo:page-number-citation ref-id="scripted-ubuntu-installation"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="manual-ubuntu-installation">Manual Installation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="manual-ubuntu-installation"><fo:page-number-citation ref-id="manual-ubuntu-installation"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="installing-openstack-compute-on-rhel6">Installing OpenStack Compute on Red Hat Enterprise Linux 6 </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="installing-openstack-compute-on-rhel6"><fo:page-number-citation ref-id="installing-openstack-compute-on-rhel6"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-openstack-compute-basics">Post-Installation Configuration for OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-openstack-compute-basics"><fo:page-number-citation ref-id="configuring-openstack-compute-basics"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.configuring-openstack-compute-basics" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="setting-flags-in-nova-conf-file">Setting Flags in the nova.conf File</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="setting-flags-in-nova-conf-file"><fo:page-number-citation ref-id="setting-flags-in-nova-conf-file"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="setting-up-openstack-compute-environment-on-the-compute-node">Setting Up OpenStack Compute Environment on the Compute Node</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="setting-up-openstack-compute-environment-on-the-compute-node"><fo:page-number-citation ref-id="setting-up-openstack-compute-environment-on-the-compute-node"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="creating-certifications">Creating Credentials</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="creating-certifications"><fo:page-number-citation ref-id="creating-certifications"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="enabling-access-to-vms-on-the-compute-node">Enabling Access to VMs on the Compute Node</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="enabling-access-to-vms-on-the-compute-node"><fo:page-number-citation ref-id="enabling-access-to-vms-on-the-compute-node"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-multiple-compute-nodes">Configuring Multiple Compute Nodes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-multiple-compute-nodes"><fo:page-number-citation ref-id="configuring-multiple-compute-nodes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="determining-version-of-compute">Determining the Version of Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="determining-version-of-compute"><fo:page-number-citation ref-id="determining-version-of-compute"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="migrating-from-cactus-to-diablo">Migrating from Cactus to Diablo</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="migrating-from-cactus-to-diablo"><fo:page-number-citation ref-id="migrating-from-cactus-to-diablo"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_configuring-openstack-compute">4. Configuring OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_configuring-openstack-compute"><fo:page-number-citation ref-id="ch_configuring-openstack-compute"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_configuring-openstack-compute" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="general-compute-configuration-overview">General Compute Configuration Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="general-compute-configuration-overview"><fo:page-number-citation ref-id="general-compute-configuration-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="sample-nova-configuration-files">Example nova.conf Configuration Files</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="sample-nova-configuration-files"><fo:page-number-citation ref-id="sample-nova-configuration-files"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-logging">Configuring Logging</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-logging"><fo:page-number-citation ref-id="configuring-logging"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-hypervisors">Configuring Hypervisors </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-hypervisors"><fo:page-number-citation ref-id="configuring-hypervisors"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-authentication-authorization">Configuring Authentication and Authorization </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-authentication-authorization"><fo:page-number-citation ref-id="configuring-authentication-authorization"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-compute-to-use-ipv6-addresses">Configuring Compute to use IPv6 Addresses </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-compute-to-use-ipv6-addresses"><fo:page-number-citation ref-id="configuring-compute-to-use-ipv6-addresses"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-compute-to-use-the-image-service">Configuring Image Service and Storage for Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-compute-to-use-the-image-service"><fo:page-number-citation ref-id="configuring-compute-to-use-the-image-service"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-live-migrations">Configuring Live Migrations </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-live-migrations"><fo:page-number-citation ref-id="configuring-live-migrations"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-database-connections">Configuring Database Connections </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-database-connections"><fo:page-number-citation ref-id="configuring-database-connections"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-compute-messaging">Configuring the Compute Messaging System</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-compute-messaging"><fo:page-number-citation ref-id="configuring-compute-messaging"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_hypervisors">5. Hypervisors</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_hypervisors"><fo:page-number-citation ref-id="ch_hypervisors"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_hypervisors" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="selecting-a-hypervisor">Selecting a Hypervisor</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="selecting-a-hypervisor"><fo:page-number-citation ref-id="selecting-a-hypervisor"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="hypervisor-configuration-basics">Hypervisor Configuration Basics</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="hypervisor-configuration-basics"><fo:page-number-citation ref-id="hypervisor-configuration-basics"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_openstack-compute-automated-installations">6. OpenStack Compute Automated Installations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_openstack-compute-automated-installations"><fo:page-number-citation ref-id="ch_openstack-compute-automated-installations"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_openstack-compute-automated-installations" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openstack-compute-deployment-tool-with-puppet">Deployment Tool for OpenStack using Puppet</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="openstack-compute-deployment-tool-with-puppet"><fo:page-number-citation ref-id="openstack-compute-deployment-tool-with-puppet"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openstack-compute-installation-using-virtualbox-vagrant-and-chef">OpenStack Compute Installation Using VirtualBox, Vagrant, And Chef</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="openstack-compute-installation-using-virtualbox-vagrant-and-chef"><fo:page-number-citation ref-id="openstack-compute-installation-using-virtualbox-vagrant-and-chef"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_networking">7. Networking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_networking"><fo:page-number-citation ref-id="ch_networking"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_networking" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="networking-options">Networking Options</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="networking-options"><fo:page-number-citation ref-id="networking-options"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cloudpipe-per-project-vpns">Cloudpipe — Per Project Vpns</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cloudpipe-per-project-vpns"><fo:page-number-citation ref-id="cloudpipe-per-project-vpns"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.cloudpipe-per-project-vpns" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="creating-a-cloudpipe-image">Creating a Cloudpipe Image</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="creating-a-cloudpipe-image"><fo:page-number-citation ref-id="creating-a-cloudpipe-image"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="vpn-access">VPN Access</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="vpn-access"><fo:page-number-citation ref-id="vpn-access"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="certificates-and-revocation">Certificates and Revocation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="certificates-and-revocation"><fo:page-number-citation ref-id="certificates-and-revocation"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="restarting-and-logging-into-cloudpipe-vpn">Restarting and Logging into the Cloudpipe VPN</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="restarting-and-logging-into-cloudpipe-vpn"><fo:page-number-citation ref-id="restarting-and-logging-into-cloudpipe-vpn"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-networking-on-the-compute-node">Configuring Networking on the Compute Node</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-networking-on-the-compute-node"><fo:page-number-citation ref-id="configuring-networking-on-the-compute-node"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.configuring-networking-on-the-compute-node" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-flat-networking">Configuring Flat Networking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-flat-networking"><fo:page-number-citation ref-id="configuring-flat-networking"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-flat-dhcp-networking">Configuring Flat DHCP Networking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-flat-dhcp-networking"><fo:page-number-citation ref-id="configuring-flat-dhcp-networking"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="outbound-traffic-flow-with-any-flat-networking">Outbound Traffic Flow with Any Flat Networking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="outbound-traffic-flow-with-any-flat-networking"><fo:page-number-citation ref-id="outbound-traffic-flow-with-any-flat-networking"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-vlan-networking">Configuring VLAN Networking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-vlan-networking"><fo:page-number-citation ref-id="configuring-vlan-networking"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="enabling-ping-and-ssh-on-vms">Enabling Ping and SSH on VMs</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="enabling-ping-and-ssh-on-vms"><fo:page-number-citation ref-id="enabling-ping-and-ssh-on-vms"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="allocating-associating-ip-addresses">Allocating and Associating IP Addresses with Instances</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="allocating-associating-ip-addresses"><fo:page-number-citation ref-id="allocating-associating-ip-addresses"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="associating-public-ip">Associating a Public IP Address</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="associating-public-ip"><fo:page-number-citation ref-id="associating-public-ip"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="removing-network-from-project">Removing a Network from a Project</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="removing-network-from-project"><fo:page-number-citation ref-id="removing-network-from-project"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="existing-ha-networking-options">Existing High Availability Options for Networking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="existing-ha-networking-options"><fo:page-number-citation ref-id="existing-ha-networking-options"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_system-administration-for-openstack-compute">8. System Administration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_system-administration-for-openstack-compute"><fo:page-number-citation ref-id="ch_system-administration-for-openstack-compute"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_system-administration-for-openstack-compute" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="starting-images">Starting Images</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="starting-images"><fo:page-number-citation ref-id="starting-images"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="deleting-instances">Deleting Instances</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="deleting-instances"><fo:page-number-citation ref-id="deleting-instances"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="creating-custom-images">Image management</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="creating-custom-images"><fo:page-number-citation ref-id="creating-custom-images"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.creating-custom-images" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="creating-a-linux-image">Creating a Linux Image – Ubuntu &amp; Fedora</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="creating-a-linux-image"><fo:page-number-citation ref-id="creating-a-linux-image"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="creating-a-windows-image">Creating a Windows Image</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="creating-a-windows-image"><fo:page-number-citation ref-id="creating-a-windows-image"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="understanding-the-compute-service-architecture">Understanding the Compute Service Architecture</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="understanding-the-compute-service-architecture"><fo:page-number-citation ref-id="understanding-the-compute-service-architecture"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="managing-the-cloud">Managing the Cloud</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="managing-the-cloud"><fo:page-number-citation ref-id="managing-the-cloud"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="managing-compute-users">Managing Compute Users</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="managing-compute-users"><fo:page-number-citation ref-id="managing-compute-users"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="managing-volumes">Managing Volumes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="managing-volumes"><fo:page-number-citation ref-id="managing-volumes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="live-migration-usage">Using Live Migration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="live-migration-usage"><fo:page-number-citation ref-id="live-migration-usage"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="reference-for-flags-in-nova-conf">Reference for Flags in nova.conf</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="reference-for-flags-in-nova-conf"><fo:page-number-citation ref-id="reference-for-flags-in-nova-conf"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_openstack-interfaces">9. OpenStack Interfaces</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_openstack-interfaces"><fo:page-number-citation ref-id="ch_openstack-interfaces"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_openstack-interfaces" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="about-the-dashboard">About the Dashboard</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="about-the-dashboard"><fo:page-number-citation ref-id="about-the-dashboard"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.about-the-dashboard" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dashboard-system-requirements">System Requirements for the Dashboard</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="dashboard-system-requirements"><fo:page-number-citation ref-id="dashboard-system-requirements"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="installing-openstack-dashboard">Installing the OpenStack Dashboard</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="installing-openstack-dashboard"><fo:page-number-citation ref-id="installing-openstack-dashboard"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="getting-started-with-the-vnc-proxy">Getting Started with the VNC Proxy</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="getting-started-with-the-vnc-proxy"><fo:page-number-citation ref-id="getting-started-with-the-vnc-proxy"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.getting-started-with-the-vnc-proxy" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuring-the-vnc-proxy">Configuring the VNC Proxy</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="configuring-the-vnc-proxy"><fo:page-number-citation ref-id="configuring-the-vnc-proxy"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="enabling-vnc-consoles-in-nova">Enabling VNC Consoles in Nova</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="enabling-vnc-consoles-in-nova"><fo:page-number-citation ref-id="enabling-vnc-consoles-in-nova"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="getting-an-instances-vnc-console">Getting an Instance's VNC Console</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="getting-an-instances-vnc-console"><fo:page-number-citation ref-id="getting-an-instances-vnc-console"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_openstack-compute-tutorials">10. OpenStack Compute Tutorials</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_openstack-compute-tutorials"><fo:page-number-citation ref-id="ch_openstack-compute-tutorials"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_openstack-compute-tutorials" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="running-elastic-web-app-cloud">Running Your First Elastic Web Application on the Cloud</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="running-elastic-web-app-cloud"><fo:page-number-citation ref-id="running-elastic-web-app-cloud"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.running-elastic-web-app-cloud" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="part-i-setting-up-cloud-infrastructure">Part I: Setting Up the Cloud Infrastructure</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="part-i-setting-up-cloud-infrastructure"><fo:page-number-citation ref-id="part-i-setting-up-cloud-infrastructure"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="part-ii-getting-virtual-machines">Part II: Getting Virtual Machines to Run the Virtual Servers</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="part-ii-getting-virtual-machines"><fo:page-number-citation ref-id="part-ii-getting-virtual-machines"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="installing-needed-software-for-web-scale">Part III: Installing the Needed Software for the Web-Scale Scenario</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="installing-needed-software-for-web-scale"><fo:page-number-citation ref-id="installing-needed-software-for-web-scale"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="running-a-blog-in-the-cloud">Running a Blog in the Cloud</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="running-a-blog-in-the-cloud"><fo:page-number-citation ref-id="running-a-blog-in-the-cloud"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ch_support-and-troubleshooting">11. Support and Troubleshooting</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ch_support-and-troubleshooting"><fo:page-number-citation ref-id="ch_support-and-troubleshooting"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.ch_support-and-troubleshooting" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="community-support">Community Support</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="community-support"><fo:page-number-citation ref-id="community-support"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="troubleshooting-openstack-object-storage">Troubleshooting OpenStack Object Storage</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="troubleshooting-openstack-object-storage"><fo:page-number-citation ref-id="troubleshooting-openstack-object-storage"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.troubleshooting-openstack-object-storage" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="handling-drive-failure">Handling Drive Failure</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="handling-drive-failure"><fo:page-number-citation ref-id="handling-drive-failure"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="handling-server-failure">Handling Server Failure</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="handling-server-failure"><fo:page-number-citation ref-id="handling-server-failure"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="detecting-failed-drives">Detecting Failed Drives</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="detecting-failed-drives"><fo:page-number-citation ref-id="detecting-failed-drives"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="troubleshooting-openstack-compute">Troubleshooting OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="troubleshooting-openstack-compute"><fo:page-number-citation ref-id="troubleshooting-openstack-compute"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.openstack-compute-admin-manual.troubleshooting-openstack-compute" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="log-files-for-openstack-compute">Log files for OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="log-files-for-openstack-compute"><fo:page-number-citation ref-id="log-files-for-openstack-compute"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="common-errors-and-fixes-for-openstack-compute">Common Errors and Fixes for OpenStack Compute</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="common-errors-and-fixes-for-openstack-compute"><fo:page-number-citation ref-id="common-errors-and-fixes-for-openstack-compute"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="lot" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="lot...figure...openstack-compute-admin-manual"><fo:block><fo:block><fo:block space-before.minimum="1em" space-before.optimum="1.5em" space-before.maximum="2em" space-after="0.5em" margin-left="0pt" start-indent="0pt" font-size="20.736pt" font-weight="bold" color="rgb(196,0,34)" font-family="CartoGothic Std">List of Figures</fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1674">7.1. Flat network, all-in-one server installation </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1674"><fo:page-number-citation ref-id="d399e1674"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1680">7.2. Flat network, single interface, multiple servers</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1680"><fo:page-number-citation ref-id="d399e1680"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1686">7.3. Flat network, multiple interfaces, multiple servers</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1686"><fo:page-number-citation ref-id="d399e1686"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1696">7.4. Flat DHCP network, multiple interfaces, multiple servers</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1696"><fo:page-number-citation ref-id="d399e1696"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1710">7.5. Single adaptor hosts, first route</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1710"><fo:page-number-citation ref-id="d399e1710"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1716">7.6. Single adaptor hosts, second route</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1716"><fo:page-number-citation ref-id="d399e1716"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1832">7.7. High Availability Networking Option</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1832"><fo:page-number-citation ref-id="d399e1832"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="lot" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="lot...table...openstack-compute-admin-manual"><fo:block><fo:block><fo:block space-before.minimum="1em" space-before.optimum="1.5em" space-before.maximum="2em" space-after="0.5em" margin-left="0pt" start-indent="0pt" font-size="20.736pt" font-weight="bold" color="rgb(196,0,34)" font-family="CartoGothic Std">List of Tables</fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e315">3.1. Hardware Recommendations </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e315"><fo:page-number-citation ref-id="d399e315"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e541">3.2. Description of nova.conf flags (not comprehensive)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e541"><fo:page-number-citation ref-id="d399e541"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e669">4.1. Description of general purpose nova.conf flags </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e669"><fo:page-number-citation ref-id="d399e669"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e698">4.2. Description of nova.conf flags for all services </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e698"><fo:page-number-citation ref-id="d399e698"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e733">4.3. Description of nova.conf flags for logging </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e733"><fo:page-number-citation ref-id="d399e733"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e762">4.4. Description of nova.conf flags for customized log formats </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e762"><fo:page-number-citation ref-id="d399e762"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e794">4.5. Description of nova.conf flags for Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e794"><fo:page-number-citation ref-id="d399e794"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e817">4.6. Description of nova.conf flags for customizing roles in deprecated
                auth</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e817"><fo:page-number-citation ref-id="d399e817"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e837">4.7. Description of nova.conf flags for credentials in deprecated auth</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e837"><fo:page-number-citation ref-id="d399e837"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e869">4.8. Description of nova.conf flags for CA (Certificate Authority)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e869"><fo:page-number-citation ref-id="d399e869"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e930">4.9. Description of nova.conf flags for configuring IPv6</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e930"><fo:page-number-citation ref-id="d399e930"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e949">4.10. Description of nova.conf flags for the Glance image service and
                storage</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e949"><fo:page-number-citation ref-id="d399e949"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e995">4.11. Description of nova.conf flags for local image storage</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e995"><fo:page-number-citation ref-id="d399e995"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1107">4.12. Description of nova.conf flags for live migration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1107"><fo:page-number-citation ref-id="d399e1107"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1134">4.13. Description of nova.conf flags for database access </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1134"><fo:page-number-citation ref-id="d399e1134"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1169">4.14. Description of nova.conf flags for Remote Procedure Calls and RabbitMQ Messaging </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1169"><fo:page-number-citation ref-id="d399e1169"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1197">4.15. Description of nova.conf flags for Tuning RabbitMQ Messaging </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1197"><fo:page-number-citation ref-id="d399e1197"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1217">4.16. Description of nova.conf flags for Customizing Exchange or Topic Names </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1217"><fo:page-number-citation ref-id="d399e1217"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e1284">5.1. Description of nova.conf flags for the compute node</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e1284"><fo:page-number-citation ref-id="d399e1284"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e2391">8.1. Description of common nova.conf flags (nova-api, nova-compute)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e2391"><fo:page-number-citation ref-id="d399e2391"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d399e2810">8.2. Description of nova.conf flags specific to nova-volume</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d399e2810"><fo:page-number-citation ref-id="d399e2810"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="1" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_getting-started-with-openstack"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">1. Getting Started with OpenStack</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack is a collection of open source technology that provides massively scalable open
        source cloud computing software. Currently OpenStack develops two related projects:
        OpenStack Compute, which offers computing power through virtual machine and network
        management, and OpenStack Object Storage which is software for redundant, scalable object
        storage capacity. Closely related to the OpenStack Compute project is the Image Service
        project, named Glance. OpenStack can be used by corporations, service providers, VARS, SMBs,
        researchers, and global data centers looking to deploy large-scale cloud deployments for
        private or public clouds. </fo:block><fo:block id="what-is-openstack"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">What is OpenStack?</fo:marker><fo:block font-size="20.735999999999997pt">What is OpenStack?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack offers open source software to build public and private clouds. OpenStack is
            a community and a project as well as open source software to help organizations run
            clouds for virtual computing or storage. OpenStack contains a collection of open source
            projects that are community-maintained including OpenStack Compute (code-named Nova),
            OpenStack Object Storage (code-named Swift), and OpenStack Image Service (code-named
            Glance). OpenStack provides an operating platform, or toolkit, for orchestrating clouds. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack is more easily defined once the concepts of cloud computing become
            apparent, but we are on a mission: to provide scalable, elastic cloud computing for
            both public and private clouds, large and small. At the heart of our mission is a
            pair of basic requirements: clouds must be simple to implement and massively
            scalable.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you are new to OpenStack, you will undoubtedly have questions about installation,
            deployment, and usage. It can seem overwhelming at first. But don't fear, there are
            places to get information to guide you and to help resolve any issues you may run into
            during the on-ramp process. Because the project is so new and constantly changing, be
            aware of the revision time for all information. If you are reading a document that is a
            few months old and you feel that it isn't entirely accurate, then please let us know
            through the mailing list at <fo:basic-link external-destination="url(https://launchpad.net/~openstack)"><fo:inline>https://launchpad.net/~openstack</fo:inline></fo:basic-link> so it can be updated or removed. </fo:block></fo:block><fo:block id="components-of-openstack"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Components of OpenStack</fo:marker><fo:block font-size="20.735999999999997pt">Components of OpenStack</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are currently three main components of OpenStack: Compute, Object Storage, and
            Image Service. Let's look at each in turn.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute is a cloud fabric controller, used to start up virtual instances for
            either a user or a group. It's also used to configure networking for each instance or
            project that contains multiple instances for a particular project. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Object Storage is a system to store objects in a massively scalable large
            capacity system with built-in redundancy and failover. Object Storage has a variety of
            applications, such as backing up or archiving data, serving graphics or videos
            (streaming data to a user’s browser), storing secondary or tertiary static data,
            developing new applications with data storage integration, storing data when predicting
            storage capacity is difficult, and creating the elasticity and flexibility of
            cloud-based storage for your web applications.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Image Service is a lookup and retrieval system for virtual machine images.
            It can be configured in three ways: using OpenStack Object Store to store images; using
            Amazon's Simple Storage Solution (S3) storage directly; or using S3 storage with Object
            Store as the intermediate for S3 access.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following diagram shows the basic relationships between the projects, how they
            relate to each other, and how they can fulfill the goals of open source cloud computing. </fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="d399e41"><fo:block id="d399e42"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/OpenStackCore.png)" width="auto" height="auto" content-width="auto" content-height="auto"/></fo:block></fo:block></fo:block><fo:block id="openstack-architecture-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">OpenStack Project Architecture Overview</fo:marker><fo:block font-size="20.735999999999997pt">OpenStack Project Architecture Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">by <fo:basic-link external-destination="url(http://ken.pepple.info)"><fo:inline>Ken Pepple</fo:inline></fo:basic-link></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Before we dive into the conceptual and logic architecture, let’s take a second to explain the OpenStack project: </fo:block><fo:block margin-left="0.5in" margin-right="0.5in" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack is a collection of open source technologies delivering a massively scalable cloud operating system.</fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can think of it as software to power your own Infrastructure as a Service (IaaS) offering like <fo:basic-link external-destination="url(http://aws.amazon.com)"><fo:inline>Amazon Web Services</fo:inline></fo:basic-link>. It currently encompasses three main projects:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e54"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e55"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://launchpad.net/swift)"><fo:inline>Swift</fo:inline></fo:basic-link> which provides object/blob storage. This is roughly analogous to Rackspace Cloud Files (from which it is derived) or Amazon S3.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e58"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://launchpad.net/glance)"><fo:inline>Glance</fo:inline></fo:basic-link> which provides discovery, storage and retrieval of virtual machine images for OpenStack Nova.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e61"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://launchpad.net/nova)"><fo:inline>Nova</fo:inline></fo:basic-link> which provides virtual servers upon
                    demand. This is similar to Rackspace Cloud Servers or Amazon EC2.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">While these three projects provide the core of the cloud infrastructure, OpenStack is open and
            evolving — <fo:basic-link external-destination="url(http://wiki.openstack.org/Projects)"><fo:inline>there will be more
                projects</fo:inline></fo:basic-link> (there are already related projects for <fo:basic-link external-destination="url(https://launchpad.net/openstack-dashboard)"><fo:inline>web interfaces</fo:inline></fo:basic-link> and a
                <fo:basic-link external-destination="url(http://wiki.openstack.org/QueueService)"><fo:inline>queue service</fo:inline></fo:basic-link>).
            With that brief introduction, let’s delve into a conceptual architecture and then
            examine how OpenStack Compute could map to it. </fo:block><fo:block id="cloud-provider-conceptual-architecture"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Cloud Provider Conceptual Architecture</fo:marker><fo:block font-size="17.28pt">Cloud Provider Conceptual Architecture</fo:block></fo:block></fo:block></fo:block><fo:block keep-together.within-column="always"><fo:block>Ken, Pepple</fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Imagine that we are going to build our own IaaS cloud and offer it to customers. To achieve this, we would need to provide several high level features:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e76"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e77"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Allow application owners to register for our cloud services, view their usage and see their bill (basic customer relations management functionality)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e79"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Allow Developers/DevOps folks to create and store custom images for their applications (basic build-time functionality)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e81"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Allow DevOps/Developers to launch, monitor and terminate instances (basic run-time functionality)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e83"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Allow the Cloud Operator to configure and operate the cloud infrastructure</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">While there are certainly many, many other features that we would need to offer (especially if we were to follow are more complete industry framework like <fo:basic-link external-destination="url(http://www.tmforum.org/BusinessProcessFramework/1647/home.html)"><fo:inline>eTOM</fo:inline></fo:basic-link>), these four get to the very heart of providing IaaS. Now assuming that you agree with these four top level features, you might put together a conceptual architecture that looks something like this:</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="d399e87"><fo:block id="d399e88"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/nova-cactus-conceptual.png)" width="auto" height="auto" content-width="70%" content-height="70%"/></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this model, I’ve imagined four sets of users (developers, devops, owners and operators)
                that need to interact with the cloud and then separated out the functionality needed
                for each. From there, I’ve followed a pretty common tiered approach to the
                architecture (presentation, logic and resources) with two orthogonal areas
                (integration and management). Let’s explore each a little further: </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e92"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e93"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>As with presentation layers in more typical application architectures, components here interact with users to accept and present information. In this layer, you will find web portals to provide graphical interfaces for non-developers and API endpoints for developers. For more advanced architectures, you might find load balancing, console proxies, security and naming services present here also.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e95"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The logic tier would provide the intelligence and control functionality for our cloud. This tier would house orchestration (workflow for complex tasks), scheduling (determining mapping of jobs to resources), policy (quotas and such) , image registry (metadata about instance images), logging (events and metering). </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e97"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>There will need to integration functions within the architecture. It is assumed that most service providers will already have a customer identity and billing systems. Any cloud architecture would need to integrate with these systems.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e99"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>As with any complex environment, we will need a management tier to operate the environment. This should include an API to access the cloud administration features as well as some forms of monitoring. It is likely that the monitoring functionality will take the form of integration into an existing tool. While I’ve highlighted monitoring and an admin API for our fictional provider, in a more complete architecture you would see a vast array of operational support functions like provisioning and configuration management.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e101"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Finally, since this is a compute cloud, we will need actual compute, network and storage resources to provide to our customers. This tier provides these services, whether they be servers, network switches, network attached storage or other resources.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With this model in place, let’s shift gears and look at OpenStack Compute’s logical
                    architecture.</fo:block></fo:block><fo:block id="openstack-nova-logical-architecture"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">OpenStack Compute Logical Architecture</fo:marker><fo:block font-size="17.28pt">OpenStack Compute Logical Architecture</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that we’ve looked at a proposed conceptual architecture, let’s see how OpenStack Compute
                is logically architected. At the time of this writing, Cactus was the newest release
                (which means if you are viewing this after around July 2011, this may be out of
                date). There are several logical components of OpenStack Compute architecture but
                the majority of these components are custom written python daemons of two
                varieties:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e107"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e108"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>WSGI applications to receive and mediate API calls (<fo:inline font-family="monospace">nova-api</fo:inline>, <fo:inline font-family="monospace">glance-api</fo:inline>, etc.)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e112"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Worker daemons to carry out orchestration tasks (<fo:inline font-family="monospace">nova-compute</fo:inline>, <fo:inline font-family="monospace">nova-network</fo:inline>, <fo:inline font-family="monospace">nova-schedule</fo:inline>, etc.)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">However, there are two essential pieces of the logical architecture are neither custom written nor Python based: the messaging queue and the database. These two components facilitate the asynchronous orchestration of complex tasks through message passing and information sharing. Putting this all together we get a picture like this:</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="d399e118"><fo:block id="d399e119"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/nova-cactus-logical.png)" width="auto" height="auto" content-width="70%" content-height="70%"/></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This complicated, but not overly informative, diagram as it can be summed up in three sentences:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e123"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e124"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>End users (DevOps, Developers and even other OpenStack components) talk to
                            <fo:inline font-family="monospace">nova-api</fo:inline> to interface with OpenStack Compute</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e127"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OpenStack Compute daemons exchange info through the queue (actions) and database (information)
                        to carry out API requests</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e129"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OpenStack Glance is basically a completely separate infrastructure which OpenStack Compute
                        interfaces through the Glance API</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that we see the overview of the processes and their interactions, let’s take a closer look at each component.</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e132"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e133"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">nova-api</fo:inline> daemon is the heart of the OpenStack Compute. You may see it
                        illustrated on many pictures of OpenStack Compute as API and “Cloud
                        Controller”. While this is partly true, cloud controller is really just a
                        class (specifically the CloudController in trunk/nova/api/ec2/cloud.py)
                        within the <fo:inline font-family="monospace">nova-api</fo:inline> daemon. It provides an endpoint for all API
                        queries (either <fo:basic-link external-destination="url(http://docs.rackspacecloud.com/api/)"><fo:inline>OpenStack API</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(http://docs.amazonwebservices.com/AWSEC2/latest/APIReference/)"><fo:inline>EC2 API</fo:inline></fo:basic-link>), initiates most of the orchestration activities (such
                        as running an instance) and also enforces some policy (mostly quota
                        checks).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e139"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">nova-schedule</fo:inline> process is conceptually the simplest piece of code in OpenStack
                        Compute: take a virtual machine instance request from the queue and
                        determines where it should run (specifically, which compute server host it
                        should run on). In practice however, I am sure this will grow to be the most
                        complex as it needs to factor in current state of the entire cloud
                        infrastructure and apply complicated algorithm to ensure efficient usage. To
                        that end, <fo:inline font-family="monospace">nova-schedule</fo:inline> implements a pluggable architecture
                        that let’s you choose (or write) your own algorithm for scheduling.
                        Currently, there are several to choose from (simple, chance, etc) and it is
                        a area of hot development for the future releases of OpenStack
                        Compute.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e143"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">nova-compute</fo:inline> process is primarily a worker daemon that creates and terminates virtual machine instances. The process by which it does so is fairly complex (<fo:basic-link external-destination="url(http://www.laurentluce.com/?p=227)"><fo:inline>see this blog post by Laurence Luce for the gritty details</fo:inline></fo:basic-link>) but the basics are simple: accept actions from the queue and then perform a series of system commands (like launching a KVM instance) to carry them out while updating state in the database.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e147"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>As you can gather by the name, <fo:inline font-family="monospace">nova-volume</fo:inline> manages the creation, attaching and detaching of persistent volumes to compute instances (similar functionality to <fo:basic-link external-destination="url(http://aws.amazon.com/ebs/)"><fo:inline>Amazon’s Elastic Block Storage</fo:inline></fo:basic-link>). It can use volumes from a variety of providers such as iSCSI or AoE.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e151"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">nova-network</fo:inline> worker daemon is very similar to <fo:inline font-family="monospace">nova-compute</fo:inline> and <fo:inline font-family="monospace">nova-volume</fo:inline>. It accepts networking tasks from the queue and then performs tasks to manipulate the network (such as setting up bridging interfaces or changing <fo:inline font-family="monospace">iptables</fo:inline> rules).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e157"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The queue provides a central hub for passing messages between daemons. This is currently implemented with <fo:basic-link external-destination="url(http://www.rabbitmq.com/)"><fo:inline>RabbitMQ</fo:inline></fo:basic-link> today, but theoretically could be any <fo:basic-link external-destination="url(http://www.amqp.org/confluence/display/AMQP/Advanced+Message+Queuing+Protocol)"><fo:inline>AMPQ message queue</fo:inline></fo:basic-link> supported by the python <fo:basic-link external-destination="url(http://barryp.org/software/py-amqplib/)"><fo:inline>ampqlib</fo:inline></fo:basic-link>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e162"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:basic-link external-destination="url(http://en.wikipedia.org/wiki/SQL)"><fo:inline>SQL database</fo:inline></fo:basic-link> stores most of the
                        build-time and run-time state for a cloud infrastructure. This includes the
                        instance types that are available for use, instances in use, networks
                        available and projects. Theoretically, OpenStack Compute can support any
                        database supported by <fo:basic-link external-destination="url(http://www.sqlalchemy.org/)"><fo:inline>SQL-Alchemy</fo:inline></fo:basic-link> but the only databases currently being widely used
                        are <fo:basic-link external-destination="url(http://www.sqlite.org/)"><fo:inline>sqlite3</fo:inline></fo:basic-link> (only
                        appropriate for test and development work), <fo:basic-link external-destination="url(http://mysql.com/)"><fo:inline>MySQL</fo:inline></fo:basic-link> and <fo:basic-link external-destination="url(http://www.postgresql.org/)"><fo:inline>PostgreSQL</fo:inline></fo:basic-link>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e169"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OpenStack Glance is a separate project from OpenStack Compute, but as shown above,
                        complimentary. While it is an optional part of the overall compute
                        architecture, I can’t imagine that most OpenStack Compute installations will
                        not be using it (or a complimentary product). There are three pieces to
                        Glance: <fo:inline font-family="monospace">glance-api</fo:inline>, <fo:inline font-family="monospace">glance-registry</fo:inline> and the image
                        store. As you can probably guess, <fo:inline font-family="monospace">glance-api</fo:inline> accepts API calls,
                        much like <fo:inline font-family="monospace">nova-api</fo:inline>, and the actual image blobs are placed in
                        the image store. The <fo:inline font-family="monospace">glance-registry</fo:inline> stores and retrieves
                        metadata about images. The image store can be a number of different object
                        stores, include OpenStack Object Storage (Swift).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e176"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Finally, another optional project that we will need for our fictional service provider is an
                        user dashboard. I have picked the OpenStack Dashboard here, but there are
                        also several other web front ends available for OpenStack Compute. The
                        OpenStack Dashboard provides a web interface into OpenStack Compute to give
                        application developers and devops staff similar functionality to the API. It
                        is currently implemented as a <fo:basic-link external-destination="url(http://www.djangoproject.com/)"><fo:inline>Django</fo:inline></fo:basic-link> web
                        application.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This logical architecture represents just one way to architect OpenStack Compute. With its
                pluggable architecture, we could easily swap out OpenStack Glance with another image
                service or use another dashboard. In the coming releases of OpenStack, expect to see
                more modularization of the code especially in the network and volume areas.</fo:block></fo:block><fo:block id="nova-conceptual-mapping"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Nova Conceptual Mapping</fo:marker><fo:block font-size="17.28pt">Nova Conceptual Mapping</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that we’ve seen a conceptual architecture for a fictional cloud provider and examined the logical architecture of OpenStack Nova, it is fairly easy to map the OpenStack components to the conceptual areas to see what we are lacking:</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="d399e183"><fo:block id="d399e184"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/nova-cactus-conceptual-coverage.png)" width="auto" height="auto" content-width="50%" content-height="50%"/></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As you can see from the illustration, I’ve overlaid logical components of OpenStack Nova, Glance and Dashboard to denote functional coverage. For each of the overlays, I’ve added the name of the logical component within the project that provides the functionality. While all of these judgements are highly subjective, you can see that we have a majority coverage of the functional areas with a few notable exceptions:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e188"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e189"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The largest gap in our functional coverage is logging and billing. At the moment, OpenStack Nova doesn’t have a billing component that can mediate logging events, rate the logs and create/present bills. That being said, most service providers will already have one (or <fo:inline font-style="italic">many</fo:inline>) of these so the focus is really on the logging and integration with billing. This could be remedied in a variety of ways: augmentations of the code (which should happen in the next release “Diablo”), integration with commercial products or services (perhaps <fo:basic-link external-destination="url(http://www.zuora.com/)"><fo:inline>Zuora</fo:inline></fo:basic-link>) or custom log parsing. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e193"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Identity is also a point which will likely need to be augmented. Unless we are running a stock
                        LDAP for our identity system, we will need to integrate our solution with
                        OpenStack Compute. Having said that, this is true of almost all cloud
                        solutions.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e195"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The customer portal will also be an integration point. While OpenStack Compute provides a user
                        dashboard (to see running instance, launch new instances, etc.), it doesn’t
                        provide an interface to allow application owners to signup for service,
                        track their bills and lodge trouble tickets. Again, this is probably
                        something that it is already in place at our imaginary service provider. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e197"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Ideally, the Admin API would replicate all functionality that we’d be able to do via the
                        command line interface (which in this case is mostly exposed through the
                        nova-manage command). This will get better in the Diablo release with the
                            <fo:basic-link external-destination="url(http://wiki.openstack.org/NovaAdminAPI)"><fo:inline>Admin
                            API</fo:inline></fo:basic-link> work.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e200"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Cloud monitoring and operations will be an important area of focus for our service provider. A
                        key to any good operations approach is good tooling. While OpenStack Compute
                        provides nova-instancemonitor, which tracks compute node utilization, we’re
                        really going to need a number of third party tools for monitoring. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e202"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Policy is an extremely important area but very provider specific. Everything from quotas
                        (which are supported) to quality of service (QoS) to privacy controls can
                        fall under this. I’ve given OpenStack Nova partial coverage here, but that
                        might vary depending on the intricacies of the providers needs. For the
                        record, the Catus release of OpenStack Compute provides quotas for instances
                        (number and cores used, volumes (size and number), floating IP addresses and
                        metadata.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e204"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Scheduling within OpenStack Compute is fairly rudimentary for larger installations today. The
                        pluggable scheduler supports chance (random host assignment), simple (least
                        loaded) and zone (random nodes within an availability zone). As within most
                        areas on this list, this will be greatly augmented in Diablo. In development
                        are distributed schedulers and schedulers that understand heterogeneous
                        hosts (for support of GPUs and differing CPU architectures).</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As you can see, OpenStack Compute provides a fair basis for our mythical service provider, as
                long as the mythical service providers are willing to do some integration here and
                there. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that since the time of this writing, OpenStack Identity Service has been
                added.</fo:block></fo:block></fo:block><fo:block id="why-cloud"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Why Cloud?</fo:marker><fo:block font-size="20.735999999999997pt">Why Cloud?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In data centers today, many computers suffer the same underutilization in computing
            power and networking bandwidth. For example, projects may need a large amount of
            computing capacity to complete a computation, but no longer need the computing power
            after completing the computation. You want cloud computing when you want a service
            that's available on-demand with the flexibility to bring it up or down through
            automation or with little intervention. The phrase "cloud computing" is often
            represented with a diagram that contains a cloud-like shape indicating a layer where
            responsibility for service goes from user to provider. The cloud in these types of
            diagrams contains the services that afford computing power harnessed to get work done.
            Much like the electrical power we receive each day, cloud computing provides subscribers
            or users with access to a shared collection of computing resources: networks for
            transfer, servers for storage, and applications or services for completing tasks. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These are the compelling features of a cloud:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e212"><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d399e213"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>On-demand self-service: Users can provision servers and networks with little
                    human intervention. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d399e215"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Network access: Any computing capabilities are available over the network.
                    Many different devices are allowed access through standardized mechanisms. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d399e217"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Resource pooling: Multiple users can access clouds that serve other consumers
                    according to demand. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d399e219"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Elasticity: Provisioning is rapid and scales out or in based on need. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d399e221"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Metered or measured service: Just like utilities that are paid for by the
                    hour, clouds should optimize resource use and control it for the level of
                    service or type of servers such as storage or processing.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Cloud computing offers different service models depending on the capabilities a
            consumer may require. </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e224"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e225"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>SaaS: Software as a Service. Provides the consumer the ability to use the software
                in a cloud environment, such as web-based email for example. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e227"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>PaaS: Platform as a Service. Provides the consumer the ability to deploy
                applications through a programming language or tools supported by the cloud platform
                provider. An example of platform as a service is an Eclipse/Java programming
                platform provided with no downloads required. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e229"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>IaaS: Infrastructure as a Service. Provides infrastructure such as computer
                instances, network connections, and storage so that people can run any software or
                operating system. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you hear terms such as public cloud or private cloud, these refer to the
            deployment model for the cloud. A private cloud operates for a single organization, but
            can be managed on-premise or off-premise. A public cloud has an infrastructure that is
            available to the general public or a large industry group and is likely owned by a cloud
            services company. The NIST also defines community cloud as shared by several
            organizations supporting a specific community with shared concerns. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Clouds can also be described as hybrid. A hybrid cloud can be a deployment model, as a
            composition of both public and private clouds, or a hybrid model for cloud computing may
            involve both virtual and physical servers. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">What have people done with cloud computing? Cloud computing can help with large-scale
            computing needs or can lead consolidation efforts by virtualizing servers to make more
            use of existing hardware and potentially release old hardware from service. People also
            use cloud computing for collaboration because of its high availability through networked
            computers. Productivity suites for word processing, number crunching, and email
            communications, and more are also available through cloud computing. Cloud computing
            also avails additional storage to the cloud user, avoiding the need for additional hard
            drives on each users's desktop and enabling access to huge data storage capacity online
            in the cloud. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For a more detailed discussion of cloud computing's essential
            characteristics and its models of service and deployment, see <fo:basic-link external-destination="url(http://www.nist.gov/itl/cloud/)"><fo:inline>http://www.nist.gov/itl/cloud/</fo:inline></fo:basic-link>, published by the US
            National Institute of Standards and Technology.</fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_introduction-to-openstack-compute"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">2. Introduction to OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute gives you a tool to orchestrate a cloud, including running instances,
        managing networks, and controlling access to the cloud through users and projects. The
        underlying open source project's name is Nova, and it provides the software that can control
        an Infrastructure as a Service (IaaS) cloud computing platform. It is similar in scope to
        Amazon EC2 and Rackspace Cloud Servers. OpenStack Compute does not include any
        virtualization software; rather it defines drivers that interact with underlying
        virtualization mechanisms that run on your host operating system, and exposes functionality
        over a web-based API.</fo:block><fo:block id="hypervisors"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Hypervisors</fo:marker><fo:block font-size="20.735999999999997pt">Hypervisors</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute requires a hypervisor and Compute controls the hypervisors through an
            API server. The process for selecting a hypervisor usually means prioritizing and making
            decisions based on budget and resource constraints as well as the inevitable list of
            supported features and required technical specifications. The majority of development is
            done with the KVM and Xen-based hypervisors. Refer to <fo:basic-link external-destination="url(http://wiki.openstack.org/HypervisorSupportMatrix)"><fo:inline>http://wiki.openstack.org/HypervisorSupportMatrix</fo:inline></fo:basic-link> for a detailed list of
        features and support across the hypervisors.  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With OpenStack Compute, you can orchestrate clouds using multiple hypervisors in
            different zones. The types of virtualization standards that may be used with Compute
            include:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e244"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e245"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://www.microsoft.com/windowsserver2008/en/us/hyperv-main.aspx)"><fo:inline>Hyper-V 2008</fo:inline></fo:basic-link>
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e248"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://www.linux-kvm.org/page/Main_Page)"><fo:inline>KVM</fo:inline></fo:basic-link> -
                    Kernel-based Virtual Machine</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e251"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://lxc.sourceforge.net/)"><fo:inline>LXC</fo:inline></fo:basic-link> - Linux Containers
                    (through libvirt)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e254"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://wiki.qemu.org/Manual)"><fo:inline>QEMU</fo:inline></fo:basic-link> - Quick
                    EMUlator</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e257"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://user-mode-linux.sourceforge.net/)"><fo:inline>UML</fo:inline></fo:basic-link> - User
                    Mode Linux</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e260"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://www.vmware.com/products/vsphere-hypervisor/support.html)"><fo:inline>VMWare ESX/ESXi</fo:inline></fo:basic-link> 4.1 update 1</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e263"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://www.xen.org/support/documentation.html)"><fo:inline>Xen</fo:inline></fo:basic-link> -
                    XenServer 5.5, Xen Cloud Platform (XCP)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="users-and-projects"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Users and Projects</fo:marker><fo:block font-size="20.735999999999997pt">Users and Projects</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The OpenStack Compute system is designed to be used by many different cloud computing
            consumers or customers, using role-based access assignments. With the use of the Identity Service, the issuing of a token also issues the roles assigned to the user. Roles control the
            actions that a user is allowed to perform. For example, a user cannot allocate a public
            IP without the netadmin or admin role. There are both global roles and per-project role assignments. 
            A user's access to particular images is limited
            by project, but the access key and secret key are assigned per user. Key pairs granting
            access to an instance are enabled per user, but quotas to control resource consumption
            across available hardware resources are per project. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute uses a rights management system that employs a Role-Based Access
            Control (RBAC) model and supports the following five roles:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e270"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e271"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Cloud Administrator (admin): Global role. Users of this class enjoy complete system access.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e273"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>IT Security (itsec): Global role. This role is limited to IT security personnel. It permits role holders to
                    quarantine instances on any project.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e275"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Project Manager (projectmanager): Project role. The default for project owners, this role affords users the
                    ability to add other users to a project, interact with project images, and
                    launch and terminate instances.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e277"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Network Administrator (netadmin): Project role. Users with this role are permitted to allocate and assign
                    publicly accessible IP addresses as well as create and modify firewall
                    rules.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e279"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Developer (developer): Project role. This is a general purpose role that is assigned to users by
                    default.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">While the original EC2 API supports users, OpenStack Compute adds the concept of projects.
            Projects are isolated resource containers forming the principal organizational structure
            within Nova. They consist of a separate VLAN, volumes, instances, images, keys, and
            users. A user can specify which project he or she wishes to use by appending :project_id
            to his or her access key. If no project is specified in the API request, Compute
            attempts to use a project with the same id as the user. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For projects, quota controls are available to limit the: <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e283"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e284"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Number of volumes which may be created</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e286"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Total size of all volumes within a project as measured in GB</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e288"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Number of instances which may be launched</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e290"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Number of processor cores which may be allocated</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e292"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Publicly accessible IP addresses</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="images-and-instances"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Images and Instances</fo:marker><fo:block font-size="20.735999999999997pt">Images and Instances</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An image is a file containing information about a virtual disk that completely
            replicates all information about a working computer at a point in time including
            operating system information and file system information. Compute can use certificate
            management for decrypting bundled images. For now, Compute relies on using the euca2ools
            command-line tools distributed by the Eucalyptus Team for adding, bundling, and deleting
            images. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are two methods for managing images. Images can be served through the OpenStack
            Image Service, a project that is named Glance, or use the nova-objectstore service.
            With an OpenStack Image Service server in place, the Image Service fetches the image
            on to the host machine and then OpenStack Compute boots the image from the host machine.
            To place images into the service, you would use a ReST interface to stream them, and the
            service, in turn, streams that into a back end which could be S3, OpenStack Object
            Storage (which can use an S3), or the local file system on the server where OpenStack
            Image Service is installed.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An instance is a running virtual machine within the cloud. An instance has a life
            cycle that is controlled by OpenStack Compute. Compute creates the instances and it is
            responsible for building a disk image, launching it, reporting the state, attaching
            persistent storage, and terminating it. </fo:block></fo:block><fo:block id="system-architecture"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">System Architecture</fo:marker><fo:block font-size="20.735999999999997pt">System Architecture</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute consists of several main components. A "cloud controller" contains many of these components, 
            and it represents the global state and interacts with all other components. An API Server
            acts as the web services front end for the cloud controller. The compute controller
            provides compute server resources and typically contains the compute service, The Object Store component optionally provides storage
            services. An auth manager provides authentication and authorization services. A volume
            controller provides fast and permanent block-level storage for the compute servers. A
            network controller provides virtual networks to enable compute servers to interact with
            each other and with the public network. A scheduler selects the most suitable compute
            controller to host an instance. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute is built on a shared-nothing, messaging-based architecture. You can run all
            of the major components on multiple servers including a compute controller, volume
            controller, network controller, and object store. A cloud controller communicates with
            the internal object store via HTTP (Hyper Text Transfer Protocol), but it communicates
            with a scheduler, network controller, and volume controller via AMQP (Advanced Message
            Queue Protocol). To avoid blocking each component while waiting for a response,
            OpenStack Compute uses asynchronous calls, with a call-back that gets triggered when a
            response is received.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To achieve the shared-nothing property with multiple copies of the same component, OpenStack Compute keeps all the cloud system state in a distributed data store. Updates to system state are written into this store, using atomic transactions when required. Requests for system state are read out of this store. In limited cases, the read results are cached within controllers for short periods of time (for example, the current list of system users.)</fo:block></fo:block><fo:block id="storage-and-openstack-compute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Storage and OpenStack Compute</fo:marker><fo:block font-size="20.735999999999997pt">Storage and OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A ‘volume’ is a detachable block storage device. You can think of it as a USB hard drive. It
            can only be attached to one instance at a time, so it does not work like a SAN. If you
            wish to expose the same volume to multiple instances, you will have to use an NFS or
            SAMBA share from an existing instance. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Every instance larger than m1.tiny starts with some local storage (up to 160GB for m1.xlarge).
            This storage is currently the second partition on the root drive. </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_installing-openstack-compute"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">3. Installing OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The OpenStack system has several key projects that are separate installations but can
        work together depending on your cloud needs: OpenStack Compute, OpenStack Object Storage,
        and OpenStack Image Service. You can install any of these projects separately and then
        configure them either as standalone or connected entities.</fo:block><fo:block id="compute-system-requirements"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">System Requirements</fo:marker><fo:block font-size="20.735999999999997pt">System Requirements</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Hardware</fo:inline>: OpenStack components are intended to
            run on standard hardware. Recommended hardware configurations for a minimum production
            deployment are as follows for the cloud controller nodes and compute nodes.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e315"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 3.1. Hardware Recommendations </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-column column-number="1" column-width="20%"/><fo:table-column column-number="2" column-width="23%"/><fo:table-column column-number="3" column-width="57%"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Server</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Recommended Hardware</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Notes</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>Cloud Controller node (runs network, volume, API, scheduler and image
                        services) </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Processor: 64-bit x86</fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Memory: 12 GB RAM </fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Disk space: 30 GB (SATA or SAS or SSD) </fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Volume storage: two disks with 2 TB (SATA) for volumes attached to the
                            compute nodes </fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Network: one 1 GB Network Interface Card (NIC)</fo:block>
                    </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Two NICS are recommended but not required. A quad core server with 12
                            GB RAM would be more than sufficient for a cloud controller node.</fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">32-bit processors will work for the cloud controller node. </fo:block>
                    </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>Compute nodes (runs virtual instances)</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Processor: 64-bit x86</fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Memory: 32 GB RAM</fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Disk space: 30 GB (SATA)</fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Network: two 1 GB NICs</fo:block>
                    </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that you cannot run 64-bit VM instances on a 32-bit compute node.
                            A 64-bit compute node can run either 32- or 64-bit VMs, however.</fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With 2 GB RAM you can run one m1.small instance on a node or three
                            m1.tiny instances without memory swapping, so 2 GB RAM would be a
                            minimum for a test-environment compute node. As an example, Rackspace
                            Cloud Builders use 96 GB RAM for compute nodes in OpenStack
                            deployments.</fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifically for virtualization on certain hypervisors on the node or
                            nodes running nova-compute, you need a x86 machine with an AMD processor
                            with SVM extensions (also called AMD-V) or an Intel processor with VT
                            (virtualization technology) extensions. </fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For Xen-based hypervisors, the Xen wiki contains a list of compatible
                            processors on the <fo:basic-link external-destination="url(http://wiki.xensource.com/xenwiki/HVM_Compatible_Processors)"><fo:inline>HVM Compatible Processors</fo:inline></fo:basic-link> page. For XenServer-compatible
                            Intel processors, refer to the <fo:basic-link external-destination="url(http://ark.intel.com/VTList.aspx)"><fo:inline>Intel® Virtualization
                                Technology List</fo:inline></fo:basic-link>. </fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For LXC, the VT extensions are not required.</fo:block>
                    </fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Operating System</fo:inline>: OpenStack currently has packages
            for the following distributions: Ubuntu, RHEL, SUSE, Debian, and Fedora. These packages
            are maintained by community members, refer to <fo:basic-link external-destination="url(http://wiki.openstack.org/Packaging)"><fo:inline>http://wiki.openstack.org/Packaging</fo:inline></fo:basic-link> for additional links. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Networking</fo:inline>: 1000 Mbps are suggested. For
            OpenStack Compute, networking is configured on multi-node installations between the
            physical machines on a single subnet. For networking between virtual machine instances,
            three network options are available: flat, DHCP, and VLAN. Two NICs (Network Interface
            Cards) are recommended on the server running nova-network. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Database</fo:inline>: For OpenStack Compute, you need access
            to either a PostgreSQL or MySQL database, or you can install it as part of the OpenStack
            Compute installation process.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Permissions</fo:inline>: You can install OpenStack Compute
            either as root or as a user with sudo permissions if you configure the sudoers file to
            enable all the permissions. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Network Time Protocol</fo:inline>: You must install a time synchronization program such as NTP to keep your cloud
            controller and compute nodes talking to the same time server to avoid problems scheduling VM launches on compute nodes.</fo:block></fo:block><fo:block id="example-installation-architecture"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Example Installation Architectures</fo:marker><fo:block font-size="20.735999999999997pt">Example Installation Architectures</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute uses a shared-nothing, messaging-based architecture. While very
            flexible, the fact that you can install each nova- service on an independent server
            means there are many possible methods for installing OpenStack Compute. The only
            co-dependency between possible multi-node installations is that the Dashboard must be
            installed nova-api server. Here are the types of installation architectures:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e366"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e367"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Single node: Only one server
                    runs all nova- services and also drives all the virtual instances. Use this
                    configuration only for trying out OpenStack Compute, or for development
                    purposes.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e369"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Two nodes: A cloud controller node runs the nova- services except for nova-compute, and a
                    compute node runs nova-compute. A client computer is likely needed to bundle
                    images and interfacing to the servers, but a client is not required. Use this
                    configuration for proof of concepts or development environments. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e371"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Multiple nodes: You can add more compute nodes to the
                    two node installation by simply installing nova-compute on an additional server
                    and copying a nova.conf file to the added node. This would result in a multiple
                    node installation. You can also add a volume controller and a network controller
                    as additional nodes in a more complex multiple node installation.  A minimum of
                    4 nodes is best for running multiple virtual instances that require a lot of
                    processing power.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This is an illustration of one possible multiple server installation of OpenStack
            Compute; virtual server networking in the cluster may vary.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/NOVA_install_arch.png)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An alternative architecture would be to add more messaging servers if you notice a lot
            of back up in the messaging queue causing performance problems. In that case you would
            add an additional RabbitMQ server in addition to or instead of scaling up the database
            server. Your installation can run any nova- service on any server as long as the
            nova.conf is configured to point to the RabbitMQ server and the server can send messages
            to the server.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Multiple installation architectures are possible, here is another example
        illustration. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/NOVA_compute_nodes.png)" width="auto" height="auto" content-width="40%" content-height="40%"/></fo:block></fo:block><fo:block id="service-architecture"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Service Architecture</fo:marker><fo:block font-size="20.735999999999997pt">Service Architecture</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Because Compute has multiple services and many configurations are possible, here is a diagram showing the overall service architecture and communication systems between the services.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/NOVA_ARCH.png)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block><fo:block id="installing-openstack-compute-on-ubuntu"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Installing OpenStack Compute on Ubuntu </fo:marker><fo:block font-size="20.735999999999997pt">Installing OpenStack Compute on Ubuntu </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">How you go about installing OpenStack Compute depends on your goals for the
            installation. You can use an ISO image, you can use a scripted installation, and you can
            manually install with a step-by-step installation.</fo:block><fo:block id="iso-ubuntu-installation"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">ISO Distribution Installation</fo:marker><fo:block font-size="17.28pt">ISO Distribution Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can download and use an ISO image that is based on a Ubuntu Linux Server 10.04
                LTS distribution containing only the components needed to run OpenStack Compute. See
                    <fo:basic-link external-destination="url(http://sourceforge.net/projects/stackops/files/)"><fo:inline>http://sourceforge.net/projects/stackops/files/</fo:inline></fo:basic-link> for download files and
                information, license information, and a README file. For documentation on the
                StackOps distro, see <fo:basic-link external-destination="url(http://docs.stackops.org)"><fo:inline>http://docs.stackops.org</fo:inline></fo:basic-link>. For free support, go to
                <fo:basic-link external-destination="url(http://getsatisfaction.com/stackops)"><fo:inline>http://getsatisfaction.com/stackops</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="scripted-ubuntu-installation"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Scripted Installation</fo:marker><fo:block font-size="17.28pt">Scripted Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can download a script for a standalone install for proof-of-concept, learning, or for development purposes for Ubuntu 11.04 at <fo:basic-link external-destination="url(http://devstack.org)"><fo:inline>https://devstack.org</fo:inline></fo:basic-link>.</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e404"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e405"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Install Ubuntu 11.04 (Natty):</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In order to correctly install all the dependencies, we assume a specific version of ubuntu to make it as easy as possible. OpenStack works on other flavors of linux (and some folks even run it on windows!) We recommend using a minimal install of ubuntu server in a VM if this is your first time.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e408"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Download DevStack:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e410">git clone git://github.com/cloudbuilders/devstack.git</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The devstack repo contains a script that installs openstack and templates for configuration files
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e412"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Start the install</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e414">cd devstack; ./stack.sh</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It takes a few minutes, we recommend reading the script while it is building.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="manual-ubuntu-installation"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Manual Installation</fo:marker><fo:block font-size="17.28pt">Manual Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The manual installation involves installing from packages on Ubuntu 10.10 or 11.04
                as a user with root permission. Depending on your environment, you may need to
                prefix these commands with sudo.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This installation process walks through installing a cloud controller node and a
                compute node. The cloud controller node contains all the nova- services including
                the API server and the database server. The compute node needs to run only the
                nova-compute service. You only need one nova-network service running in a multi-node
                install. You cannot install nova-objectstore on a different machine from
                nova-compute (production-style deployments will use a Glance server for virtual
                images).</fo:block><fo:block id="installing-the-cloud-controller"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Installing the Cloud Controller</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, set up pre-requisites to use the Nova PPA (Personal Packages Archive)
                    provided through https://launchpad.net/. The ‘python-software-properties’
                    package is a pre-requisite for setting up the nova package repository. You can
                    also use the trunk package built daily by adding the ppa:nova-core/trunk
                    repository, but trunk changes rapidly and may not run any given day.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e423">sudo apt-get install python-software-properties</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e424">sudo add-apt-repository ppa:openstack-release/2011.3</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Run update.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e426">sudo apt-get update</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install the messaging queue server, RabbitMQ.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e428">sudo apt-get install -y rabbitmq-server</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now, install the Python dependencies. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e430">sudo apt-get install -y python-greenlet python-mysqldb </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d399e431"><fo:list-block provisional-distance-between-starts="36pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="36pt" src="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/note.svg)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" color="rgb(196,0,34)" font-family="CartoGothic Std">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use either MySQL or PostgreSQL.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install the required nova- packages, and dependencies are automatically
                    installed.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e434">
sudo apt-get install nova-volume nova-vncproxy nova-api nova-ajax-console-proxy
sudo apt-get install nova-doc nova-scheduler nova-objectstore
sudo apt-get install nova-network nova-compute
sudo apt-get install glance
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install the supplemental tools such as euca2ools and unzip.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e436">sudo apt-get install -y euca2ools unzip</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Next set up the database, either MySQL or PostgreSQL.</fo:block><fo:block id="setting-up-sql-database-mysql"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="12pt">Setting up the SQL Database (MySQL) on the Cloud Controller</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You must use a SQLAlchemy-compatible database, such as MySQL or
                            PostgreSQL. This example shows MySQL. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First you can set environments with a "pre-seed" line to bypass all
                            the installation prompts, running this as root: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                           <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e443">bash
MYSQL_PASS=nova
NOVA_PASS=notnova
cat &lt;&lt;MYSQL_PRESEED | debconf-set-selections
mysql-server-5.1 mysql-server/root_password password $MYSQL_PASS
mysql-server-5.1 mysql-server/root_password_again password $MYSQL_PASS
mysql-server-5.1 mysql-server/start_on_boot boolean true
MYSQL_PRESEED</fo:block>
                        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, install MySQL with: <fo:inline font-family="monospace">sudo apt-get install -y
                            mysql-server</fo:inline>
                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit /etc/mysql/my.cnf to change ‘bind-address’ from localhost
                        (127.0.0.1) to any (0.0.0.0) and restart the mysql service: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e448">sudo sed -i 's/127.0.0.1/0.0.0.0/g' /etc/mysql/my.cnf
sudo service mysql restart</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To configure the MySQL database, create the nova database:  </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e450">sudo mysql -uroot -p$MYSQL_PASS -e 'CREATE DATABASE nova;'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Update the DB to give user ‘nova’@’%’ full control of the nova
                        database:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e453">sudo mysql -uroot -p$MYSQL_PASS -e "GRANT ALL PRIVILEGES ON *.* TO
                            'nova'@'%' WITH GRANT OPTION;"</fo:block>
                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Set MySQL password for 'nova'@'%':</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e456">sudo mysql -uroot -p$MYSQL_PASS -e "SET PASSWORD FOR 'nova'@'%' =
                            PASSWORD('$NOVA_PASS');"</fo:block>
                    </fo:block></fo:block><fo:block id="setting-up-sql-database-postgresql"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="12pt">Setting Up PostgreSQL as the Database</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack can use PostgreSQL as an alternative database. This is a matter of substituting the MySQL steps with PostgreSQL equivalents, as outlined here.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, install PostgreSQL on the controller node.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e461">$ apt-fast install postgresql postgresql-server-dev-8.4 python-dev python-psycopg2</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit /etc/postgresql/8.4/main/postgresql.conf and change the listen_address to listen to all appropriate addesses, PostgreSQL listen only to localhost by default. For example:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To listen on a specific IP address:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e464"># - Connection Settings -
                    listen_address = '10.1.1.200,192.168.100.2'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To listen on all addresses:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e466"># - Connection Settings -
                    listen_address = '*'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Add appropriate addresses and networks to /etc/postgresql/8.4/main/pg_hba.conf to allow remote access to PostgreSQL, this should include all servers hosting OpenStack (but not neccessarily those hosted by Openstack). As an example, append the following lines:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e468">host all all 192.168.0.0/16
                    host all all 10.1.0.0/16
                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Change the default PostgreSQL user's password:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e470">$ sudo -u postgres psql template1
                    template1=#\password
                    Enter Password:
                    Enter again:
                    template1=#\q</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Restart PostgreSQL:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e472">$ service postgresql restart</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create nova databases:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e474">$ sudo -u postgres createdb nova
                    $ sudo -u postgres createdb glance</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create nova database user which will be used for all OpenStack services, note the adduser and createuser steps will prompt for the user's password ($PG_PASS):</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e476">$ adduser nova
                    $ sudo -u postgres createuser -PSDR nova
                    $ sudo -u postgres psql template1
                    template1=#GRANT ALL PRIVILEGES ON DATABASE nova TO nova
                    template1=#GRANT ALL PRIVILEGES ON DATABASE glance TO nova
                    template1=#\q</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For the Cactus version of Nova, the following fix is required for the PostgreSQL database schema. You don't need to do this for Diablo:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e478">$ sudo -u postgres psql template1
                    template1=#alter table instances alter instance_type_id type integer using cast(instance_type_id as integer);
                    template1=#\q</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For Nova components that require access to this database the required configuration in /etc/nova/nova.conf should be (replace $PG_PASS with password):</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e480">--sql_connection=postgresql://nova:$PG_PASS@control.example.com/nova</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">At this stage the databases are empty and contain no content. These will be initialised when you do the nova-manage db sync command. </fo:block></fo:block></fo:block><fo:block id="installing-the-compute-node"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Installing the Compute Node</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are many different ways to perform a multinode install of Compute. In
                    this case, you can install all the nova- packages and dependencies as you did
                    for the Cloud Controller node, or just install nova-network and nova-compute.
                    Your installation can run any nova- services anywhere, so long as the service
                    can access nova.conf so it knows where the rabbitmq server is installed.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Compute Node is where you configure the Compute network, the networking
                    between your instances. There are three options: flat, flatDHCP, and VLAN. Read
                    more about specific configurations in the <fo:basic-link internal-destination="ch_networking"><fo:inline>Chapter 7, <fo:inline font-style="italic">Networking</fo:inline></fo:inline></fo:basic-link>. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Because you may need to query the database from the Compute node and learn
                    more information about instances, euca2ools and mysql-client packages should be
                    installed on any additional Compute nodes.</fo:block></fo:block><fo:block id="restart-nova-services"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Restart All Relevant Services on the Compute Node</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On both nodes, restart all six services in total, just to cover the entire
                    spectrum: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e492">restart libvirt-bin; restart nova-network; restart nova-compute;
restart nova-api; restart nova-objectstore; restart nova-scheduler</fo:block>
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">All nova services are now installed, the rest of your steps involve specific configuration steps. Please refer to <fo:basic-link internal-destination="configuring-openstack-compute-basics"><fo:inline>the section called “Post-Installation Configuration for OpenStack Compute”</fo:inline></fo:basic-link> for additional information. </fo:block></fo:block></fo:block></fo:block><fo:block id="installing-openstack-compute-on-rhel6"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Installing OpenStack Compute on Red Hat Enterprise Linux 6 </fo:marker><fo:block font-size="20.735999999999997pt">Installing OpenStack Compute on Red Hat Enterprise Linux 6 </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section documents a multi-node installation using RHEL 6. RPM repos for the Bexar
            release, the Cactus release, milestone releases of Diablo, and also per-commit trunk
            builds for OpenStack Nova are available at <fo:basic-link external-destination="url(http://yum.griddynamics.net)"><fo:inline>http://yum.griddynamics.net</fo:inline></fo:basic-link>. The
            final release of Diablo is not yet tested and released (as of Oct 4, 2011) but check
            this page for updates: <fo:basic-link external-destination="url(http://wiki.openstack.org/NovaInstall/RHEL6Notes)"><fo:inline>http://wiki.openstack.org/NovaInstall/RHEL6Notes</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Known limitations for RHEL version 6 installations: </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e501"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e502"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>iSCSI LUN not supported due to tgtadm versus ietadm differences</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e504"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Only KVM hypervisor has been tested with this installation</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To install Nova on RHEL v.6 you need access to two repositories, one available on the
            yum.griddynamics.net website and the RHEL DVD image connected as repo. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, install RHEL 6.0, preferrably with a minimal set of packages.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Disable SELinux in /etc/sysconfig/selinux and then reboot. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Connect the RHEL 3. 6.0 x86_64 DVD as a repository in YUM. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e510">sudo mount /dev/cdrom /mnt/cdrom
cat /etc/yum.repos.d/rhel.repo 
[rhel]
name=RHEL 6.0
baseurl=file:///mnt/cdrom/Server
enabled=1
gpgcheck=0</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Download and install repo config and key.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e512">wget http://yum.griddynamics.net/yum/diablo-3/openstack/openstack-repo-2011.3-0.3.noarch.rpm
sudo rpm -i openstack-repo-2011.1-3.noarch.rpm</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install the libvirt package (these instructions are tested only on KVM). </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e514">sudo yum install libvirt
sudo chkconfig libvirtd on
sudo service libvirtd start</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Repeat the basic installation steps to put the pre-requisites on all cloud controller and compute nodes. Nova has many different possible configurations. You can install Nova services on separate servers as needed but these are the basic pre-reqs.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These are the basic packages to install for a cloud controller node:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e517">sudo yum install euca2ools openstack-nova-node-full</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These are the basic packages to install compute nodes. Repeat for each compute node (the node that runs the VMs) that you want to install.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e519">sudo yum install openstack-nova-compute </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On the cloud controller node, create a MySQL database named nova. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e521">sudo service mysqld start
sudo chkconfig mysqld on
sudo service rabbitmq-server start
sudo chkconfig rabbitmq-server on
mysqladmin -uroot password nova</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use this script to create the database. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e523">#!/bin/bash

DB_NAME=nova
DB_USER=nova
DB_PASS=nova
PWD=nova

CC_HOST="A.B.C.D" # IPv4 address
HOSTS='node1 node2 node3' # compute nodes list

mysqladmin -uroot -p$PWD -f drop nova
mysqladmin -uroot -p$PWD create nova

for h in $HOSTS localhost; do
        echo "GRANT ALL PRIVILEGES ON $DB_NAME.* TO '$DB_USER'@'$h' IDENTIFIED BY '$DB_PASS';" | mysql -uroot -p$DB_PASS mysql
done
echo "GRANT ALL PRIVILEGES ON $DB_NAME.* TO $DB_USER IDENTIFIED BY '$DB_PASS';" | mysql -uroot -p$DB_PASS mysql
echo "GRANT ALL PRIVILEGES ON $DB_NAME.* TO root IDENTIFIED BY '$DB_PASS';" | mysql -uroot -p$DB_PASS mysql </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now, ensure the database version matches the version of nova that you are installing:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e525">nova-manage db sync</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For iptables configuration, update your firewall configuration to allow incoming
            requests on ports 5672 (RabbitMQ), 3306 (MySQL DB), 9292 (Glance), 6080 (noVNC web
            console), API (8773, 8774) and DHCP traffic from instances. For non-production
            environments the easiest way to fix any firewall problems is removing final REJECT in
            INPUT chain of filter table. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e527">$ sudo iptables -I INPUT 1 -p tcp --dport 5672 -j ACCEPT
            $ sudo iptables -I INPUT 1 -p tcp --dport 3306 -j ACCEPT
            $ sudo iptables -I INPUT 1 -p tcp --dport 9292 -j ACCEPT
            $ sudo iptables -I INPUT 1 -p tcp --dport 6080 -j ACCEPT
            $ sudo iptables -I INPUT 1 -p tcp --dport 8773 -j ACCEPT
            $ sudo iptables -I INPUT 1 -p tcp --dport 8774 -j ACCEPT
            $ sudo iptables -I INPUT 1 -p udp --dport 67 -j ACCEPT</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On every node when you have nova-compute running ensure that unencrypted VNC access is allowed only from Cloud Controller node:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e529">$ sudo iptables -I INPUT 1 -p tcp -s &lt;CLOUD_CONTROLLER_IP_ADDRESS&gt; --dport 5900:6400 -j ACCEPT
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On each node, set up the configuration file in /etc/nova/nova.conf.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Start the Nova services after configuring and you then are running an OpenStack
            cloud!</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e532">$ for n in api compute network objectstore scheduler vncproxy; do sudo service openstack-nova-$n start; done
$ sudo service openstack-glance-api start
$ sudo service openstack-glance-registry start
$ for n in node1 node2 node3; do ssh $n sudo service openstack-nova-compute start; done</fo:block></fo:block><fo:block id="configuring-openstack-compute-basics"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Post-Installation Configuration for OpenStack Compute</fo:marker><fo:block font-size="20.735999999999997pt">Post-Installation Configuration for OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Configuring your Compute installation involves nova-manage commands plus editing the
            nova.conf file to ensure the correct flags are set. This section contains the basics for
            a simple multi-node installation, but Compute can be configured many ways. You can find
            networking options and hypervisor options described in separate chapters, and you will
            read about additional configuration information in a separate chapter as well.</fo:block><fo:block id="setting-flags-in-nova-conf-file"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Setting Flags in the nova.conf File</fo:marker><fo:block font-size="17.28pt">Setting Flags in the nova.conf File</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The configuration file nova.conf is installed in /etc/nova by default. You only
                need to do these steps when installing manually, the scripted installation above
                does this configuration during the installation. A default set of options are
                already configured in nova.conf when you install manually. The defaults are as
                follows:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e539">--daemonize=1
--dhcpbridge_flagfile=/etc/nova/nova.conf
--dhcpbridge=/usr/bin/nova-dhcpbridge
--logdir=/var/log/nova
--state_path=/var/lib/nova                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Starting with the default file, you must define the following required items in
                /etc/nova/nova.conf. The flag variables are described below. You can place
                comments in the nova.conf file by entering a new line with a # sign at the beginning of the line. To see a listing of all possible flag settings, see
                the output of running /bin/nova-api --help.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e541"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 3.2. Description of nova.conf flags (not comprehensive)</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                    </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_connection</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location of OpenStack Compute SQL database</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--s3_host</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location where OpenStack Compute is hosting the objectstore
                            service, which will contain the virtual machine images and buckets</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_host</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location of OpenStack Compute SQL database</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_api</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location where the nova-api service runs</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--verbose</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Set to 1 to turn on; Optional but helpful during initial setup</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_url</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>HTTP URL; Location to interface nova-api. Example:
                            http://184.106.239.134:8773/services/Cloud</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_manager</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>
                            <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Configures how your controller will communicate with additional
                                OpenStack Compute nodes and virtual machines. Options: </fo:block>
                            <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e570"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e571"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.network.manager.FlatManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Simple, non-VLAN networking</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e574"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.network.manager.FlatDHCPManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Flat networking with DHCP</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e577"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.network.manager.VlanManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">VLAN networking with DHCP; This is the Default if no
                                        network manager is defined here in nova.conf. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                        </fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--fixed_range</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address/range; Network prefix for the IP network that all the
                            projects for future VM guests reside on. Example: 192.168.0.0/12</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_size</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Number value; Number of addresses in each private subnet.</fo:block></fo:table-cell>
                    </fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is a simple example nova.conf file for a small private cloud, with all the
                cloud controller services, database server, and messaging server on the same
                server.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e587">--dhcpbridge_flagfile=/etc/nova/nova.conf
--dhcpbridge=/usr/bin/nova-dhcpbridge
--logdir=/var/log/nova
--state_path=/var/lib/nova
--verbose
--s3_host=184.106.239.134
--rabbit_host=184.106.239.134
--ec2_api=184.106.239.134
--ec2_url=http://184.106.239.134:8773/services/Cloud
--fixed_range=192.168.0.0/16
--network_size=8
--routing_source_ip=184.106.239.134
--sql_connection=mysql://nova:notnova@184.106.239.134/nova            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create a “nova” group, so you can set permissions on the configuration file: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e589">sudo addgroup nova</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The nova.config file should have its owner set to root:nova, and mode set to 0640,
                since the file contains your MySQL server’s username and password. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e591">chown -R root:nova /etc/nova
chmod 640 /etc/nova/nova.conf</fo:block></fo:block><fo:block id="setting-up-openstack-compute-environment-on-the-compute-node"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Setting Up OpenStack Compute Environment on the Compute Node</fo:marker><fo:block font-size="17.28pt">Setting Up OpenStack Compute Environment on the Compute Node</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These are the commands you run to ensure the database schema is current, and
                then set up a user and project: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e596">/usr/bin/nova-manage db sync
/usr/bin/nova-manage user admin &lt;user_name&gt;
/usr/bin/nova-manage project create &lt;project_name&gt; &lt;user_name&gt;
/usr/bin/nova-manage network create &lt;network-label&gt; &lt;project-network&gt; &lt;number-of-networks-in-project&gt; &lt;addresses-in-each-network&gt;</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is an example of what this looks like with real values entered: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e598">/usr/bin/nova-manage db sync
/usr/bin/nova-manage user admin dub
/usr/bin/nova-manage project create dubproject dub
/usr/bin/nova-manage network create novanet 192.168.0.0/24 1 256 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For this example, the number of IPs is /24 since that falls inside the /16
                    range that was set in ‘fixed-range’ in nova.conf. Currently, there can only be
                    one network, and this set up would use the max IPs available in a /24. You can
                    choose values that let you use any valid amount that you would like. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The nova-manage service assumes that the first IP address is your network
                (like 192.168.0.0), that the 2nd IP is your gateway (192.168.0.1), and that the
                broadcast is the very last IP in the range you defined (192.168.0.255). If this is
                not the case you will need to manually edit the sql db ‘networks’ table.o. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you run the <fo:inline font-family="monospace">nova-manage network create</fo:inline> command, entries are made
                in the ‘networks’ and ‘fixed_ips’ table. However, one of the networks listed in the
                ‘networks’ table needs to be marked as bridge in order for the code to know that a
                bridge exists. The network in the Nova networks table is marked as bridged
                automatically for Flat Manager.</fo:block></fo:block><fo:block id="creating-certifications"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Creating Credentials</fo:marker><fo:block font-size="17.28pt">Creating Credentials</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Generate the credentials as a zip file. These are the certs you will use to
                launch instances, bundle images, and all the other assorted API functions. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e607">mkdir –p /root/creds
/usr/bin/python /usr/bin/nova-manage project zipfile $NOVA_PROJECT $NOVA_PROJECT_USER /root/creds/novacreds.zip</fo:block>
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you are using one of the Flat modes for networking, you may see a Warning
                message "No vpn data for project &lt;project_name&gt;" which you can safely
                ignore.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Unzip them in your home directory, and add them to your environment. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e610">unzip /root/creds/novacreds.zip -d /root/creds/
cat /root/creds/novarc &gt;&gt; ~/.bashrc
source ~/.bashrc </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            If you already have Nova credentials present in your environment, you can use a script included with Glance the Image Service, tools/nova_to_os_env.sh, to create Glance-style credentials. This script adds OS_AUTH credentials to the environment which are used by the Image Service to enable private images when the Identity Service is configured as the authentication system for Compute and the Image Service.</fo:block></fo:block><fo:block id="enabling-access-to-vms-on-the-compute-node"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Enabling Access to VMs on the Compute Node</fo:marker><fo:block font-size="17.28pt">Enabling Access to VMs on the Compute Node</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">One of the most commonly missed configuration areas is not allowing the proper
                    access to VMs. Use the ‘euca-authorize’ command to enable access. Below, you
                    will find the commands to allow ‘ping’ and ‘ssh’ to your VMs: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e615">euca-authorize -P icmp -t -1:-1 default
euca-authorize -P tcp -p 22 default</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Another
                    common issue is you cannot ping or SSH your instances after issuing the
                    ‘euca-authorize’ commands. Something to look at is the amount of ‘dnsmasq’
                    processes that are running. If you have a running instance, check to see that
                    TWO ‘dnsmasq’ processes are running. If not, perform the following:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e617">killall dnsmasq 
service nova-network restart</fo:block></fo:block><fo:block id="configuring-multiple-compute-nodes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Multiple Compute Nodes</fo:marker><fo:block font-size="17.28pt">Configuring Multiple Compute Nodes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If your goal is to split your VM load across more than one server, you can connect an
                additional nova-compute node to a cloud controller node. This configuring can be
                reproduced on multiple compute servers to start building a true multi-node OpenStack
                Compute cluster. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To build out and scale the Compute platform, you spread out services amongst many servers.
                While there are additional ways to accomplish the build-out, this section describes
                adding compute nodes, and the service we are scaling out is called
                'nova-compute.'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For a multi-node install you only make changes to nova.conf and copy it to
                additional compute nodes. Ensure each nova.conf file points to the correct IP
                addresses for the respective services. Customize the nova.conf example below to
                match your environment. The CC_ADDR is the Cloud Controller IP Address. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e623">
                   --dhcpbridge_flagfile=/etc/nova/nova.conf
                   --dhcpbridge=/usr/bin/nova-dhcpbridge
                   --flat_network_bridge=br100
                   --logdir=/var/log/nova
                   --state_path=/var/lib/nova
                   --verbose
                   --sql_connection=mysql://root:nova@CC_ADDR/nova
                   --s3_host=CC_ADDR
                   --rabbit_host=CC_ADDR
                   --ec2_api=CC_ADDR
                   --ec2_url=http://CC_ADDR:8773/services/Cloud
                   --network_manager=nova.network.manager.FlatManager
                   --fixed_range= network/CIDR
                   --network_size=number of addresses</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, Nova sets the bridge device based on the setting in --flat_network_bridge. Now you
                can edit /etc/network/interfaces with the following template, updated with your IP
                information. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e625">
            # The loopback network interface
            auto lo
            iface lo inet loopback

            # The primary network interface
            auto br100
            iface br100 inet static
            bridge_ports    eth0
            bridge_stp      off
            bridge_maxwait  0
            bridge_fd       0
            address xxx.xxx.xxx.xxx
            netmask xxx.xxx.xxx.xxx
            network xxx.xxx.xxx.xxx
            broadcast xxx.xxx.xxx.xxx
            gateway xxx.xxx.xxx.xxx
            # dns-* options are implemented by the resolvconf package, if installed
            dns-nameservers xxx.xxx.xxx.xxx</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Restart networking:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e627">/etc/init.d/networking restart</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With nova.conf updated and networking set, configuration is nearly complete.
                First, bounce the relevant services to take the latest updates:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e629">restart libvirt-bin; service nova-compute restart</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To avoid issues with KVM and permissions with Nova, run the following commands to ensure we have VM's that are running optimally:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e631">chgrp kvm /dev/kvm
chmod g+rwx /dev/kvm</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you want to use the 10.04 Ubuntu Enterprise Cloud images that are readily available at http://uec-images.ubuntu.com/releases/10.04/release/, you may run into delays with booting. Any server that does not have nova-api running on it needs this iptables entry so that UEC images can get metadata info. On compute nodes, configure the iptables with this next step:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e633"> # iptables -t nat -A PREROUTING -d 169.254.169.254/32 -p tcp -m tcp --dport 80 -j DNAT --to-destination $NOVA_API_IP:8773</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Lastly, confirm that your compute node is talking to your cloud controller. From the cloud controller, run this database query:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e635">mysql -u$MYSQL_USER -p$MYSQL_PASS nova -e 'select * from services;'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In return, you should see something similar to this:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e637">            +---------------------+---------------------+------------+---------+----+----------+----------------+-----------+--------------+----------+-------------------+
            | created_at          | updated_at          | deleted_at | deleted | id | host     | binary         | topic     | report_count | disabled | availability_zone |
            +---------------------+---------------------+------------+---------+----+----------+----------------+-----------+--------------+----------+-------------------+
            | 2011-01-28 22:52:46 | 2011-02-03 06:55:48 | NULL       |       0 |  1 | osdemo02 | nova-network   | network   |        46064 |        0 | nova              |
            | 2011-01-28 22:52:48 | 2011-02-03 06:55:57 | NULL       |       0 |  2 | osdemo02 | nova-compute   | compute   |        46056 |        0 | nova              |
            | 2011-01-28 22:52:52 | 2011-02-03 06:55:50 | NULL       |       0 |  3 | osdemo02 | nova-scheduler | scheduler |        46065 |        0 | nova              |
            | 2011-01-29 23:49:29 | 2011-02-03 06:54:26 | NULL       |       0 |  4 | osdemo01 | nova-compute   | compute   |        37050 |        0 | nova              |
            | 2011-01-30 23:42:24 | 2011-02-03 06:55:44 | NULL       |       0 |  9 | osdemo04 | nova-compute   | compute   |        28484 |        0 | nova              |
            | 2011-01-30 21:27:28 | 2011-02-03 06:54:23 | NULL       |       0 |  8 | osdemo05 | nova-compute   | compute   |        29284 |        0 | nova              |
            +---------------------+---------------------+------------+---------+----+----------+----------------+-----------+--------------+----------+-------------------+</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can see that 'osdemo0{1,2,4,5} are all running 'nova-compute.'  When you start spinning up instances, they will allocate on any node that is running nova-compute from this list.</fo:block></fo:block><fo:block id="determining-version-of-compute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Determining the Version of Compute</fo:marker><fo:block font-size="17.28pt">Determining the Version of Compute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can find the version of the installation by using the nova-manage
                command:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e642">nova-manage version list</fo:block></fo:block><fo:block id="migrating-from-cactus-to-diablo"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Migrating from Cactus to Diablo</fo:marker><fo:block font-size="17.28pt">Migrating from Cactus to Diablo</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you have an installation already installed and running, to migrate to Diablo
                you must update the installation first, then your database, then perhaps your images
                if you were already running images in the nova-objectstore. You can also export your
                users for importing into the OpenStack Identity Service (Keystone). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are the overall steps for upgrading the Image Service.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Download and install the Diablo Glance packages.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Migrate the registry database schema by running:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e649"> glance-manage db_sync </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Update configuration files, including the glance-api.conf and glance-registry.conf configuration files by using the examples in the examples/paste directory for the Diablo release.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are the overall steps for upgrading Compute. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If your installation already pointed to ppa:nova-core/release, the release
                package has been updated from Cactus to Diablo so you can simply run: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e653">apt-get update
apt-get upgrade</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, update the database schema. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e655">nova-manage db sync</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Restart all the nova- services. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A separate command is available to migrate users from the deprecated auth system to the Identity Service. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e658">nova-manage shell export</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Within the Keystone project there is a keystone-import script that you can run to
                import these users.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Make sure that you can launch images. You can convert images that were previously stored in the nova object store using this command: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e661">nova-manage image convert /var/lib/nova/images</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_configuring-openstack-compute"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">4. Configuring OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The OpenStack system has several key projects that are separate installations but can
            work together depending on your cloud needs: OpenStack Compute, OpenStack Object
            Storage, and OpenStack Image Store. You can install any of these projects separately and
            then configure them either as standalone or connected entities.</fo:block><fo:block id="general-compute-configuration-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">General Compute Configuration Overview</fo:marker><fo:block font-size="20.735999999999997pt">General Compute Configuration Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Most configuration information is available in the nova.conf flag file. Here are
            some general purpose flags that you can use to learn more about the flag file and the
            node. The configuration file nova.conf is typically stored in
            /etc/nova/nova.conf.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use a particular flag file by using the --flagfile (nova.conf) parameter when
            running one of the nova- services. This inserts flag definitions from the given configuration file name, which may be useful for debugging or performance tuning. Here are some general purpose flags. </fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e669"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.1. Description of general purpose nova.conf flags </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                    </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--my_ip</fo:block></fo:table-cell>
                <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>None</fo:block></fo:table-cell>
                <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Calculated to contain the host IP address.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--host</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>None</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Calculated to contain the name of the node where the cloud controller is hosted</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>-?, --[no]help</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>None</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Show this help.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]helpshort</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>None</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Show usage only for this module.</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]helpxml</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>None</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Show this help, but with XML output instead of text</fo:block></fo:table-cell>
                    </fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you want to maintain the state of all the services, you can use the --state_path flag to indicate a top-level directory for storing data related to the state of Compute including images if you are using the Compute object store. Here are additional flags that apply to all nova- services.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e698"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.2. Description of nova.conf flags for all services </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                    </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--state_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>'/Users/username/p/nova/nova/../'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory path; Top-level directory for maintaining nova's state.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--periodic_interval</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '60'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Seconds between running periodic tasks.</fo:block></fo:table-cell>
                    </fo:table-row><fo:table-row>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--report_interval</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10'</fo:block></fo:table-cell>
                        <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Integer value; Seconds between nodes reporting state to the data store.</fo:block></fo:table-cell>
                    </fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="sample-nova-configuration-files"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Example nova.conf Configuration Files</fo:marker><fo:block font-size="20.735999999999997pt">Example nova.conf Configuration Files</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following sections describe many of the flag settings that can go into the
            nova.conf files. These need to be copied to each compute node. Here are some sample
            nova.conf files that offer examples of specific configurations.</fo:block><fo:block id="d399e721"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuration using KVM, FlatDHCP, MySQL, Glance, LDAP, and optionally sheepdog, API is EC2</fo:marker><fo:block font-size="17.28pt">Configuration using KVM, FlatDHCP, MySQL, Glance, LDAP, and optionally sheepdog, API is EC2</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">From <fo:basic-link external-destination="url(http://wikitech.wikimedia.org/view/OpenStack#On_the_controller_and_all_compute_nodes.2C_configure_.2Fetc.2Fnova.2Fnova.conf)"><fo:inline>wikimedia.org</fo:inline></fo:basic-link>, used with permission. Where you see parameters passed in, it's likely an IP address you need. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e725">
# configured using KVM, FlatDHCP, MySQL, Glance, LDAP, and optionally sheepdog, API is EC2
--verbose
--daemonize=1
--logdir=/var/log/nova
--state_path=/var/lib/nova
--lock_path=/var/lock/nova
--sql_connection=mysql://$nova_db_user:$nova_db_pass@$nova_db_host/$nova_db_name
--image_service=nova.image.glance.GlanceImageService
--s3_host=$nova_glance_host
--glance_api_servers=$nova_glance_host
--rabbit_host=$nova_rabbit_host
--network_host=$nova_network_host
--ec2_url=http://$nova_api_host:8773/services/Cloud
--libvirt_type=kvm
--dhcpbridge=/usr/bin/nova-dhcpbridge
--flat_network_bridge=br100
--network_manager=nova.network.manager.FlatDHCPManager
--flat_interface=$nova_network_flat_interface
--public_interface=$nova_network_public_interface
--routing_source_ip=$nova_network_public_ip
--ajax_console_proxy_url=$nova_ajax_proxy_url
--volume_driver=nova.volume.driver.SheepdogDriver
--auth_driver=nova.auth.ldapdriver.LdapDriver
--ldap_url=ldap://$nova_ldap_host
--ldap_password=$nova_ldap_user_pass
--ldap_user_dn=$nova_ldap_user_dn
--ldap_user_unit=people
--ldap_user_subtree=ou=people,$nova_ldap_base_dn
--ldap_project_subtree=ou=groups,$nova_ldap_base_dn
--role_project_subtree=ou=groups,$nova_ldap_base_dn
--ldap_cloudadmin=cn=cloudadmins,ou=groups,$nova_ldap_base_dn
--ldap_itsec=cn=itsec,ou=groups,$nova_ldap_base_dn
--ldap_sysadmin=cn=sysadmins,$nova_ldap_base_dn
--ldap_netadmin=cn=netadmins,$nova_ldap_base_dn
--ldap_developer=cn=developers,$nova_ldap_base_dn
        </fo:block></fo:block><fo:block id="d399e726"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">KVM, Flat, MySQL, and Glance, OpenStack or EC2 API</fo:marker><fo:block font-size="17.28pt">KVM, Flat, MySQL, and Glance, OpenStack or EC2 API</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This example nova.conf file is from an internal Rackspace test system used for demonstrations. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e729">
# configured using KVM, Flat, MySQL, and Glance, API is OpenStack (or EC2)
--daemonize=1
--dhcpbridge_flagfile=/etc/nova/nova.conf
--dhcpbridge=/usr/bin/nova-dhcpbridge
--flat_network_bridge=br100
--lock_path=/var/lock/nova
--logdir=/var/log/nova
--state_path=/var/lib/nova
--verbose
--network_manager=nova.network.manager.FlatManager
--sql_connection=mysql://$nova_db_user:$nova_db_pass@$nova_db_host/$nova_db_name
--osapi_host=$nova_api_host
--rabbit_host=$rabbit_api_host
--ec2_host=$nova_api_host
--image_service=nova.image.glance.GlanceImageService
--glance_api_servers=$nova_glance_host
# first 3 octets of the network your volume service is on, substitute with real numbers
--iscsi_ip_prefix=nnn.nnn.nnn 
        </fo:block></fo:block></fo:block><fo:block id="configuring-logging"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Logging</fo:marker><fo:block font-size="20.735999999999997pt">Configuring Logging</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use nova.conf flags to indicate where Compute will log events, the level of logging, and customize log formats.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e733"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.3. Description of nova.conf flags for logging </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logdir</fo:block></fo:table-cell>
                <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>'/var/logs/nova'</fo:block></fo:table-cell>
                <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory path; Output to a per-service log file in the named directory.</fo:block></fo:table-cell>
            </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logfile</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>File name; Output to named file.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]use_syslog</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Output to syslog using their file naming system.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--default_log_levels</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'amqplib=WARN,sqlalchemy=WARN,eventlet.wsgi.server=WARN'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Pair of named loggers and level of message to be logged; List of
                        logger=LEVEL pairs</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--verbose</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Set to 1 or true to turn on; Shows debug output - optional but helpful during initial setup.</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To customize log formats for OpenStack Compute, use these flag settings.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e762"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.4. Description of nova.conf flags for customized log formats </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_context_format_string</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '%(asctime)s %(levelname)s %(name)s [%(request_id)s %(user)s
                %(project)s] %(message)s'</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The format string to use for log messages with additional context.</fo:block></fo:table-cell>
        </fo:table-row><fo:table-row>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_debug_format_suffix</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'from %(processName)s (pid=%(process)d) %(funcName)s
                %(pathname)s:%(lineno)d'</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The data to append to the log format when level is DEBUG</fo:block></fo:table-cell>
        </fo:table-row><fo:table-row>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_default_format_string</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '%(asctime)s %(levelname)s %(name)s [-] %(message)s'</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The format string to use for log messages without context.</fo:block></fo:table-cell>
        </fo:table-row><fo:table-row>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_exception_prefix</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '(%(name)s): TRACE: '</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>String value; Prefix each line of exception output with this format.</fo:block></fo:table-cell>
        </fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="configuring-hypervisors"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Hypervisors </fo:marker><fo:block font-size="20.735999999999997pt">Configuring Hypervisors </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute requires a hypervisor and supports several hypervisors and virtualization standards. Configuring and running OpenStack Compute to use a particular hypervisor takes several installation and configuration steps. </fo:block></fo:block><fo:block id="configuring-authentication-authorization"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Authentication and Authorization </fo:marker><fo:block font-size="20.735999999999997pt">Configuring Authentication and Authorization </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are different methods of authentication for the OpenStack Compute project. The
            default setting is to use the novarc file that contains credentials. To do so, set the
            --use_deprecated-auth flag in your nova.conf, which is True by default. For no auth,
            modify the paste.ini that is included in the etc/nova directory. With additional
            configuration, you can use the OpenStack Identity Service, code-named Keystone. In
            Compute, the settings for using Keystone are commented lines in etc/nova/api-paste.ini,
            and Keystone also provides an example file in
            keystone/examples/paste/nova-api-paste.ini. Restart the nova-api service for these
            settings to be configured. Refer to the Identity Service Starter Guide for additional
            information.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute uses an implementation of an authentication system structured with
            an Active Directory or other federated LDAP user store that backends to an identity
            manager or other SAML Policy Controller that then maps to groups. Credentials for API
            calls are stored in the project zip file when using this auth system. Certificate
            authority is also customized in nova.conf for the this built-in auth system. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you see errors such as "EC2ResponseError: 403 Forbidden" it is likely you are
            trying to use euca commands without the auth system properly configured. Either install
            and use the default auth setting, or change out the default paste.ini file to use no
            auth, or configure the Identity Service.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e794"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.5. Description of nova.conf flags for Authentication</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--auth_driver</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default:'nova.auth.dbdriver.DbDriver'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">String value; Name of the driver for authentication</fo:block>
                        <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e807"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e808"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.auth.dbdriver.DbDriver - Default setting, uses
                                    credentials stored in zip file, one per project.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e810"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.auth.ldapdriver.FakeLdapDriver - create a replacement for
                                    this driver supporting other backends by creating another class
                                    that exposes the same public methods.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                    </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_deprecated_auth</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default:'True'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">True or false; Sets the auth system to use the zip file provided with
                            the project files to store all credentials</fo:block>
                    </fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e817"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.6. Description of nova.conf flags for customizing roles in deprecated
                auth</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--allowed_roles</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'cloudadmin,itsec,sysadmin,netadmin,developer') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Comma separated list; Allowed roles for project</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--global_roles</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'cloudadmin,itsec') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Comma separated list; Roles that apply to all projects</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--superuser_roles</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'cloudadmin') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Comma separated list; Roles that ignore authorization checking
                        completely</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e837"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.7. Description of nova.conf flags for credentials in deprecated auth</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--credentials_template</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory; Template for creating users' RC file</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--credential_rc_file</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '%src') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>File name; File name of rc in credentials zip</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--credential_cert_file</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'cert.pem') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>File name; File name of certificate in credentials zip</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--credential_key_file</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'pk.pem') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>File name; File name of rc in credentials zip</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--vpn_client_template</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova/cloudpipe/client/ovpn.template') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory; Refers to where the template lives for creating users vpn
                        file</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--credential_vpn_file</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova-vpn.conf') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>File name; Filename of certificate in credentials.zip</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e869"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.8. Description of nova.conf flags for CA (Certificate Authority)</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--keys_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$state_path/keys') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory; Where Nova keeps the keys</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ca_file</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'cacert.pem') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>File name; File name of root CA</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--crl_file</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'crl.pem') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>File name; File name of Certificate Revocation List</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--key_file</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'private/cakey.pem') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>File name; File name of private key</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_project_ca</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>True or false; Indicates whether to use a CA for each project; false means
                        CA is not used for each project</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--project_cert_subject</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '/C=US/ST=California/L=MountainView/O=AnsoLabs/OU=NovaDev/CN=proje
                        ct-ca-%s-%s') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String; Subject for certificate for projects, %s for project, timestamp
                    </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--user_cert_subject</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default:
                        '/C=US/ST=California/L=MountainView/O=AnsoLabs/OU=NovaDev/CN=%s-%s-%s') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String; Subject for certificate for users, %s for project, users, timestamp
                    </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--vpn_cert_subject</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default:
                        '/C=US/ST=California/L=MountainView/O=AnsoLabs/OU=NovaDev/CN=project-vpn-%s-%s') </fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>String; Subject for certificate for vpns, %s for project, timestamp </fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="configuring-compute-to-use-ipv6-addresses"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Compute to use IPv6 Addresses </fo:marker><fo:block font-size="20.735999999999997pt">Configuring Compute to use IPv6 Addresses </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can configure Compute to use both IPv4 and IPv6 addresses for communication by
            putting it into a IPv4/IPv6 dual stack mode. In IPv4/IPv6 dual stack mode, instances can
            acquire their IPv6 global unicast address by stateless address autoconfiguration
            mechanism [RFC 4862/2462]. IPv4/IPv6 dual stack mode works with VlanManager and
            FlatDHCPManager networking modes, though floating IPs are not supported in the Bexar
            release. In VlanManager, different 64bit global routing prefix is used for each project.
            In FlatDHCPManager, one 64bit global routing prefix is used for all instances. The
            Cactus release includes support for the FlatManager networking mode with a required
            database migration.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This configuration has been tested on Ubuntu 10.04 with VM images that have IPv6
            stateless address autoconfiguration capability (must use EUI-64 address for stateless
            address autoconfiguration), a requirement for any VM you want to run with an IPv6
            address. Each node that executes a nova- service must have python-netaddr and radvd
            installed. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On all nova-nodes, install python-netaddr:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e915">sudo apt-get install -y python-netaddr</fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On all nova-network nodes install radvd and configure IPv6 networking: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e917">sudo apt-get install -y radvd 
sudo bash -c "echo 1 &gt; /proc/sys/net/ipv6/conf/all/forwarding" 
sudo bash -c "echo 0 &gt; /proc/sys/net/ipv6/conf/all/accept_ra"</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit the nova.conf file on all nodes to set the --use_ipv6 flag to True. Restart all
            nova- services. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When using the command 'nova-manage network create' you can add a fixed range for IPv6
            addresses. You must specify public or private after the create parameter.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e921">nova-manage network create public fixed_range num_networks network_size [vlan_start] [vpn_start] [fixed_range_v6]</fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can set IPv6 global routing prefix by using the fixed_range_v6 parameter. The
            default is: fd00::/48. When you use FlatDHCPManager, the command uses the original value
            of fixed_range_v6. When you use VlanManager, the command creates prefixes of subnet by
            incrementing subnet id. Guest VMs uses this prefix for generating their IPv6 global
            unicast address. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is a usage example for VlanManager: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e925">nova-manage network create public 10.0.1.0/24 3 32 100 1000 fd00:1::/48 </fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is a usage example for FlatDHCPManager: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e928">nova-manage network create public 10.0.2.0/24 3 32 0 0 fd00:1::/48 </fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that [vlan_start] and [vpn_start] parameters are not used by
        FlatDHCPManager.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e930"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.9. Description of nova.conf flags for configuring IPv6</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_ipv6</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Set to 1 or true to turn on; Determines whether to use IPv6 network addresses </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--flat_injected</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Cactus only:Indicates whether Compute (Nova) should use attempt to inject IPv6 network configuration information into the guest. It attempts to modify /etc/network/interfaces and currently only works on Debian-based systems.  </fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="configuring-compute-to-use-the-image-service"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Image Service and Storage for Compute</fo:marker><fo:block font-size="20.735999999999997pt">Configuring Image Service and Storage for Compute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can either use a local image storage system or install Glance for storing and retrieving images. After you have installed a Glance server, you can configure nova-compute to
            use Glance for image storage and retrieval. You must change the --image_service flag to
            'nova.image.glance.GlanceImageService' in order to use Glance to store and retrieve
            images for OpenStack Compute.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e949"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.10. Description of nova.conf flags for the Glance image service and
                storage</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--image_service</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.image.local.LocalImageService'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The service to use for retrieving and searching for images. Images must be registered using
                        euca2ools. Options: </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e962"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e963"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.image.s3.S3ImageService</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">S3 backend for the Image Service.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e966"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.image.local.LocalImageService</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Image service storing images to local disk. It assumes that image_ids are integers. This is the default setting if no image manager is defined here.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e969"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">nova.image.glance.GlanceImageService</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Glance back end for storing and retrieving images; See <fo:basic-link external-destination="url(http://glance.openstack.org)"><fo:inline>http://glance.openstack.org</fo:inline></fo:basic-link> for more info.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--glance_api_servers</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip:9292'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>List of Glance API hosts. Each item may contain a host (or IP address) and
                        port of an OpenStack Compute Image Service server (project's name is
                        Glance)</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--s3_dmz</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; For instances internal IP (a DMZ is shorthand for a
                        demilitarized zone)</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--s3_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address: IP address of the S3 host for infrastructure. Location where
                        OpenStack Compute is hosting the objectstore service, which will contain the
                        virtual machine images and buckets.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--s3_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '3333'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Port where S3 host is running</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_s3</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'true'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Set to 1 or true to turn on; Determines whether to get images from s3 or use a local copy </fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you choose not to use Glance for the image service, you can use the object store
            that maintains images in a particular location, namely the state path on the server
            local to the nova.conf file. You can also use a set of S3 buckets to store
            images.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e995"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.11. Description of nova.conf flags for local image storage</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--image_service</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.image.local.LocalImageService'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The service to use for retrieving and searching for images. Images must be registered using
                        euca2ools. Options: </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1008"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1009"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.image.s3.S3ImageService</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">S3 backend for the Image Service; In Cactus, the S3
                                    image service wraps the other image services for use by the EC2
                                    API. The EC2 api will always use the S3 image service by default
                                    so setting the flag is not necessary.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1012"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">
                                   nova.image.local.LocalImageService
                                </fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Image service storing images to local disk. It assumes that
                                    image_ids are integers.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1016"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.image.glance.GlanceImageService</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Image Service (Glance) back end for storing and
                                    retrieving images; See <fo:basic-link external-destination="url(http://glance.openstack.org)"><fo:inline>http://glance.openstack.org</fo:inline></fo:basic-link> for more info.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--state_path</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>'/Users/username/p/nova/nova/../'</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory path; Top-level directory for maintaining nova's state.</fo:block></fo:table-cell>
        </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--buckets_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>'$state_path/buckets'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory path; Directory established for S3-style buckets.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--images_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>'$state_path/images'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Directory path; Directory that stores images when using object store.</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="configuring-live-migrations"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Live Migrations </fo:marker><fo:block font-size="20.735999999999997pt">Configuring Live Migrations </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The live migration feature is useful when you need to upgrade or installing patches to hypervisors/BIOS and you need the machines to keep running. For example, when one of HDD volumes RAID or one of bonded NICs is out of order. Also for regular periodic maintenance, you may need to migrate VM instances. When many VM instances are running on a specific physical machine, you can redistribute the high load. Sometimes when VM instances are scattered, you can move VM instances to a physical machine to arrange them more logically.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:inline font-weight="bold">Environments</fo:inline>
                    <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1037"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1038"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">OS:</fo:inline> Ubuntu 10.04/10.10 
                            for both instances and host.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1041"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">Shared storage:</fo:inline> 
                             NOVA-INST-DIR/instances/ has to be mounted by shared storage
                             (tested using NFS).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1044"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">Instances:</fo:inline> Instance can 
                            be migrated with ISCSI/AoE based volumes</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1047"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">Hypervisor:</fo:inline>
                            KVM with libvirt</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1050"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">(NOTE1)</fo:inline> 
                            "NOVA-INST-DIR/instance" is expected that vm image is put on to. 
                            see "flags.instances_path" in nova.compute.manager for the default 
                            value</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1053"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">(NOTE2)</fo:inline> This feature is 
                             admin only, since nova-manage is necessary.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:inline font-weight="bold">Sample Nova Installation before starting</fo:inline>
                    <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1058"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1059"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Prepare 3 servers at least, lets say, HostA, HostB
                            and HostC</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1061"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova-api/nova-network/nova-volume/nova-objectstore/
                             nova-scheduler(and other daemon) are running on HostA.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1063"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova-compute is running on both HostB and HostC.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1065"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>HostA export NOVA-INST-DIR/instances, HostB and HostC 
                            mount it.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1067"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>To avoid any confusion, NOVA-INST-DIR is same at 
                            HostA/HostB/HostC("NOVA-INST-DIR" shows top of install dir). </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1069"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>HostA export NOVA-INST-DIR/instances, HostB and HostC mount it.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Pre-requisite configurations</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e1074"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1075"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configure /etc/hosts, Make sure 3 Hosts can do name-resolution
                             with each other. Ping with each other is better way to test.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1077">
# ping HostA
# ping HostB
# ping HostC
                            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1078"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configure NFS at HostA by adding below to /etc/exports</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1080">NOVA-INST-DIR/instances HostA/255.255.0.0(rw,sync,fsid=0,no_root_squash</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Change "255.255.0.0" appropriate netmask, which should include 
                            HostB/HostC. Then restart nfs server.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1082">
# /​etc/​init.​d/​nfs-kernel-server restart
# /​etc/​init.​d/​idmapd restart
                            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1083"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configure NFS at HostB and HostC by adding below to 
                            /etc/fstab</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1085">HostA:/ DIR nfs4 defaults 0 0</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Then mount, check exported directory can be mounted.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1087"># mount -a -v</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If fail, try this at any hosts.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1089"># iptables -F</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Also, check file/daemon permissions. We expect any nova daemons 
                            are running as root. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1091">
# ps -ef | grep nova
root 5948 5904 9 11:29 pts/​4 00:00:00 python /​opt/​nova-2010.​4/​/​bin/​nova-api
root 5952 5908 6 11:29 pts/​5 00:00:00 python /​opt/​nova-2010.​4/​/​bin/​nova-objectstore
.​.​.​ (snip)
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">"NOVA-INST-DIR/instances/" directory can be seen at HostA</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1093">
# ls -ld NOVA-INST-DIR/​instances/​
drwxr-xr-x 2 root root 4096 2010-12-07 14:34 nova-install-dir/​instances/​
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Same check at HostB and HostC</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1095">
# ls -ld NOVA-INST-DIR/​instances/​
drwxr-xr-x 2 root root 4096 2010-12-07 14:34 nova-install-dir/​instances/​

# df -k
Filesystem           1K-blocks      Used Available Use% Mounted on
/​dev/​sda1            921514972   4180880 870523828   1% /​
none                  16498340      1228  16497112   1% /​dev
none                  16502856         0  16502856   0% /​dev/​shm
none                  16502856       368  16502488   1% /​var/​run
none                  16502856         0  16502856   0% /​var/​lock
none                  16502856         0  16502856   0% /​lib/​init/​rw
HostA:        921515008 101921792 772783104  12% /​opt  ( &lt;--- this line is important.​)
                            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1096"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Libvirt configurations. Modify /etc/libvirt/libvirt.conf:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1098">
before : #listen_tls =​ 0
after : listen_tls =​ 0

before : #listen_tcp =​ 1
after : listen_tcp =​ 1

add: auth_tcp =​ "none"
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Modify /etc/init/libvirt-bin.conf</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1100">
before : exec /​usr/​sbin/​libvirtd -d
 after : exec /​usr/​sbin/​libvirtd -d -l
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Modify /etc/default/libvirt-bin</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1102">
before :libvirtd_opts=​" -d"
after :libvirtd_opts=​" -d -l"
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">then, restart libvirt. Make sure libvirt is restarted.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1104">
# stop libvirt-bin &amp;​&amp;​ start libvirt-bin
# ps -ef | grep libvirt
root 1145 1 0 Nov27 ?​ 00:00:03 /​usr/​sbin/​libvirtd -d -l
                            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1105"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Flag configuration. usually, you do not have to configure
                            any flags. Below chart is only for advanced usage.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                 </fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e1107"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.12. Description of nova.conf flags for live migration</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--live_migration_retry_count</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 30</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Retry count needed in live_migration. Sleep 1sec for each retry</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--live_migration_uri</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'qemu+tcp://%s/system'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Define protocol used by live_migration feature. If you would like to use qemu+ssh, change this as described at http://libvirt.org/. </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--live_migration_bandwidth</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 0</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Define bandwidth used by live migration. </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--live_migration_flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'VIR_MIGRATE_UNDEFINE_SOURCE, VIR_MIGRATE_PEER2PEER'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Define libvirt flag for live migration. </fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="configuring-database-connections"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Database Connections </fo:marker><fo:block font-size="20.735999999999997pt">Configuring Database Connections </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can configure OpenStack Compute to use any SQLAlchemy-compatible database. The database name is 'nova' and entries to it are mostly written by the nova-scheduler service, although all the services need to be able to update entries in the database. Use these settings to configure the connection string for the nova database.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e1134"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.13. Description of nova.conf flags for database access </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_connection</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'sqlite:///$state_path/nova.sqlite'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location of OpenStack Compute SQL database</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_idle_timeout</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '3600'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Number of seconds to wait for a database connection</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_max_retries</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '12'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Number of attempts on the SQL connection</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_retry_interval</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Retry interval for SQL connections</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--db_backend</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'sqlalchemy'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The backend selected for the database connection</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--db_driver</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.db.api'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>The drive to use for database access</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="configuring-compute-messaging"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring the Compute Messaging System</fo:marker><fo:block font-size="20.735999999999997pt">Configuring the Compute Messaging System</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute uses an open standard for messaging middleware known as AMQP.
            RabbitMQ enables this messaging system so that nova- services can talk to each other.
            You can configure the messaging communication for different installation scenarios as
            well as tune RabbitMQ's retries and the size of the RPC thread pool. </fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e1169"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.14. Description of nova.conf flags for Remote Procedure Calls and RabbitMQ Messaging </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'localhost'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location of RabbitMQ installation.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_password</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'guest'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Password for the RabbitMQ server.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '5672'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Port where RabbitMQ server is running/listening.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_userid</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'guest'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; User ID used for Rabbit connections.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_virtual_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '/'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Location of a virtual RabbitMQ installation.</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e1197"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.15. Description of nova.conf flags for Tuning RabbitMQ Messaging </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_max_retries</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '12'</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; RabbitMQ connection attempts.</fo:block></fo:table-cell>
        </fo:table-row><fo:table-row>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit-retry-interval</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10'</fo:block></fo:table-cell>
            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value: RabbitMQ connection retry interval.</fo:block></fo:table-cell>
        </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rpc_thread_pool_size</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '1024'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>Integer value: Size of Remote Procedure Call thread pool.</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e1217"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 4.16. Description of nova.conf flags for Customizing Exchange or Topic Names </fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--control_exchange</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default:nova</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Name of the main exchange to connect to</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ajax_console_proxy_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'ajax_proxy'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Topic that the ajax proxy nodes listen on</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--console_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'console'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; The topic console proxy nodes listen on</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'network'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; The topic network nodes listen on.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--scheduler_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'scheduler'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; The topic scheduler nodes listen on.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--volume_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'volume'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>String value; Name of the topic that volume nodes listen on</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_hypervisors"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">5. Hypervisors</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section assumes you have a working installation of OpenStack Compute and want to
        select a particular hypervisor or run with multiple hypervisors. Before you try to get a VM
        running within OpenStack Compute, be sure you have installed a hypervisor and used the
        hypervisor's documentation to run a test VM and get it working.</fo:block><fo:block id="selecting-a-hypervisor"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Selecting a Hypervisor</fo:marker><fo:block font-size="20.735999999999997pt">Selecting a Hypervisor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute supports many hypervisors, an array of which must provide a bit of
            difficulty in selecting a hypervisor unless you are already familiar with one. You
            cannot configure more than one virtualization type on the compute nodes, so the
            hypervisor selection is for the entire installation. These links provide additional
            information for choosing a hypervisor. Refer to <fo:basic-link external-destination="url(http://wiki.openstack.org/HypervisorSupportMatrix)"><fo:inline>http://wiki.openstack.org/HypervisorSupportMatrix</fo:inline></fo:basic-link> for a detailed list of
            features and support across the hypervisors. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is a list of the supported hypervisors with links to a relevant web site for
            configuration and use:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1257"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1258"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://www.microsoft.com/windowsserver2008/en/us/hyperv-main.aspx)"><fo:inline>Hyper-V
                        2008</fo:inline></fo:basic-link> - Use to run Windows-based virtual machines, specifically
                    Windows 2008 R2 Datacenter or Enterprise Edition. You must install and run
                    nova-compute on Windows servers that run the Windows-based virtual
                    machines.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1261"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://www.linux-kvm.org/page/Main_Page)"><fo:inline>KVM</fo:inline></fo:basic-link> - Kernel-based Virtual
                    Machine. The virtual disk formats that it supports it inherits from QEMU since
                    it uses a modified QEMU program to launch the virtual machine. The supported
                    formats include raw images, the qcow2, and VMware formats. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1264"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://lxc.sourceforge.net/)"><fo:inline>LXC</fo:inline></fo:basic-link> - Linux Containers (through
                    libvirt), use to run Linux-based virtual machines.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1267"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://wiki.qemu.org/Manual)"><fo:inline>QEMU</fo:inline></fo:basic-link> - Quick EMUlator, generally only
                    used for development purposes.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1270"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://user-mode-linux.sourceforge.net/)"><fo:inline>UML</fo:inline></fo:basic-link> - User Mode Linux,
                    generally only used for development purposes. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1273"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://www.vmware.com/products/vsphere-hypervisor/support.html)"><fo:inline>VMWare
                        ESX/ESXi</fo:inline></fo:basic-link> 4.1 update 1, runs VMWare-based Linux and Windows images
                    through a connection with the ESX server.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1276"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(http://www.xen.org/support/documentation.html)"><fo:inline>Xen</fo:inline></fo:basic-link> - XenServer 5.5,
                    Xen Cloud Platform (XCP), use to run Linux or Windows virtual machines. You must
                    install the nova-compute service on DomU. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="hypervisor-configuration-basics"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Hypervisor Configuration Basics</fo:marker><fo:block font-size="20.735999999999997pt">Hypervisor Configuration Basics</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The node where the nova-compute service is installed and running is the machine that
            runs all the virtual machines, referred to as the compute node in this guide. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, the selected hypervisor is KVM. To change to another hypervisor, change
            the --libvirt_type flag in nova.conf and restart the nova-compute service. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are the nova.conf flags that are used to configure the compute node.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e1284"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 5.1. Description of nova.conf flags for the compute node</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                   </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--connection_type</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'libvirt'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>libvirt, xenapi, or fake; Value that indicates the virtualization
                        connection type</fo:block></fo:table-cell></fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--compute_manager</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.compute.manager.ComputeManager'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Manager to use for nova-compute</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--compute_driver</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.virt.connection.get_connection'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Driver to use for controlling virtualization</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--images_path</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$state_path/images'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory; Location where decrypted images are stored on disk (when not
                        using Glance)</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--instances_path</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$state_path/instances'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory; Location where instances are stored on disk (when not using
                        Glance)</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--libvirt_type</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'kvm'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String; Libvirt domain type (valid options are: kvm, qemu, uml, xen) </fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--allow_project_net_traffic</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'true'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>True or false; Indicates whether to allow in-project network traffic </fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--firewall_driver</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.virt.libvirt_conn.IptablesFirewallDriver'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String; Firewall driver for instances, defaults to iptables</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--injected_network_template</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory and file name; Template file for injected network
                        information</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--libvirt_uri</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: empty string</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String; Override the default libvirt URI (which is dependent on libvirt_type)</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--libvirt_xml_template</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory and file name; Libvirt XML template</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_cow_images</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'true'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>True or false; Indicates whether to use cow images</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rescue_image_id</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'ami-rescue'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String; AMI image to use for rescue</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rescue_kernel_id</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'aki-rescue'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String; AKI image to use for rescue</fo:block></fo:table-cell>
                   </fo:table-row><fo:table-row>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rescue_ramdisk_id</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'ari-rescue'</fo:block></fo:table-cell>
                       <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>String; ARI image to use for rescue</fo:block></fo:table-cell>
                   </fo:table-row></fo:table-body></fo:table></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_openstack-compute-automated-installations"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">6. OpenStack Compute Automated Installations</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In a large-scale cloud deployment, automated installations are a requirement for
        successful, efficient, repeatable installations. Automation for installation also helps with
        continuous integration and testing. This chapter offers some tested methods for deploying
        OpenStack Compute with either Puppet (an infrastructure management platform) or Chef (an
        infrastructure management framework) paired with Vagrant (a tool for building and
        distributing virtualized development environments).</fo:block><fo:block id="openstack-compute-deployment-tool-with-puppet"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Deployment Tool for OpenStack using Puppet</fo:marker><fo:block font-size="20.735999999999997pt">Deployment Tool for OpenStack using Puppet</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Thanks to a new project available that couples Puppet automation with a configuration
            file and deployment tool, you can install many servers automatically by simply editing
            the configuration file (deploy.conf) and running the deployment tool (deploy.py in the
            nova-deployment-tool project in Launchpad).</fo:block><fo:block id="d399e1358"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Prerequisites</fo:marker><fo:block font-size="17.28pt">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1360"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1361"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Networking: The servers must be connected to a subnet. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1363"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Networking: Ensure that the puppet server can access nova component
                        servers by name. The command examples in this document identify the user as
                        “nii”. You should change the name but you need to create the same users on
                        all Nova, Glance and Swift component servers in ~/DeploymentTool/conf/deploy.conf
                        (ssh_user=’user’). </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1365"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Permissions: You must have root user permission for installation and
                        service provision. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1367"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Software: You must configure the installation server to access the Puppet server by name.
                        (Puppet 0.25 or higher)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1369"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Software: You must configure LVM if you do not change the default setting
                        of the VolumeManager in the nova-volume service. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1371"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Software: Python 2.6 or higher</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1373"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Software: Because of the current Nova implementation architecture, the
                        binaries for nova-api, nova-objectstore, and euca2ools must have been loaded
                        in one server.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1375"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Operating system: Ubuntu 10.04, 10.10 or 11.04</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The tool does not support system configurations other than those listed above. If you want
                to use other configurations, you have to change the configuration after running the
                deployment tool or modify the deployment tool. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This deployment tool has been tested under the following configurations. </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1379"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1380"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Nova-compute components are installed on multiple servers. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1382"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OS: Ubuntu10.04, Ubuntu10.10 or Ubuntu 11.04 </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1384"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Multiple network modes (VLAN Mode, Flat Mode)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Although we conducted extensive tests, we were unable to test every configuration.
                Please let us know any problems that occur in your environment by contacting us at
                https://answers.launchpad.net/nova-deployment-tool. We will try to resolve any
                problem you send us and make the tool better for Stackers. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d399e1388"><fo:list-block provisional-distance-between-starts="36pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="36pt" src="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/note.svg)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" color="rgb(196,0,34)" font-family="CartoGothic Std">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The configurations, which are not described on this document, are Nova
                        default settings. Note also that, although we have not done so ourselves,
                        you should be able to change the network mode to flat DHCP mode and
                        hypervisor to Xen if you follow the instructions in the Notes section
                        below.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block>
            </fo:block></fo:block><fo:block id="d399e1390"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Overview of Deployment Tool Steps</fo:marker><fo:block font-size="17.28pt">Overview of Deployment Tool Steps</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can install/test/uninstall Nova, Glance and Swift with the Nova deployment tool as follows,
                which is simply an overview. The detailed steps are in the sections that
                follow.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Deploy.py takes care of the details using puppet. Puppet is an automation tool
                with standardized scripts that manage a machine's configuration. See an
                Introduction to Puppet on the PuppetLabs site.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install by typing the following command.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1395">python deploy.py install</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Confirm that the installation succeeded by typing the following
                command.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1397">python deploy.py test</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Uninstall by typing the following command.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1399">python deploy.py uninstall
python deploy.py all = python deploy.py uninstall; python deploy.py install; python deploy.py test </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Uninstall/install/test only Nova.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1401">python deploy.py all nova</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Uninstall/install/test only Swift.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1403">python deploy.py all swift</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Uninstall/install/test only Glance.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1405">python deploy.py all glance</fo:block></fo:block><fo:block id="d399e1406"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Installing the Deployment Tool</fo:marker><fo:block font-size="17.28pt">Installing the Deployment Tool</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Type or copy/paste the following command to use the OpenStack PPA on all component servers.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1409">
sudo apt-get install python-software-properties -y
sudo add-apt-repository ppa:openstack-release/2011.2
sudo apt-get update</fo:block></fo:block><fo:block id="d399e1410"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Set permissions to the deployment 'user'</fo:marker><fo:block font-size="17.28pt">Set permissions to the deployment 'user'</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit sudoers file to give the correct permissions to the 'user' running all the components.      
        Type or copy/paste the visudo command to set ‘user’ (= nii in this document) as a sudouer on all nova component servers.
        </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1413">sudo visudo</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Append the following lines to the visudo file, and then save the file.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1415">nii      ALL=(ALL) NOPASSWD:ALL
nova     ALL=(ALL) NOPASSWD:ALL</fo:block></fo:block><fo:block id="d399e1416"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configure SSH</fo:marker><fo:block font-size="17.28pt">Configure SSH</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, we'll configure the system so that SSH works by generating public and private key pairs that provide credentials without a password intervention. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The Deployment tool needs to connect to all nova, glance and swift component servers without having the operator enter a password for any of the servers.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Type or copy/paste the following command to generate public and private key pairs on the server running the Nova deployment tool.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1421">ssh-keygen -t rsa -N '' -f ~/.ssh/id_rsa</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy this generated public key to all nova component servers.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, type or copy/paste the following commands to register the public keys on all nova component servers.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1424">ssh-copy-id nii@(each nova component server name) </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Download the code for the deployment tool next, and extract the contents of the
                compressed file. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1426">wget http://launchpad.net/nova-deployment-tool/cactus/cactus1.3/+download/nova-deployment-tool-cactus.tgz 
tar xzvf nova-deployment-tool-cactus.tgz</fo:block></fo:block><fo:block id="d399e1427"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Create Swift storage folder and mount device</fo:marker><fo:block font-size="17.28pt">Create Swift storage folder and mount device</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, create a Swift-storage folder and mount device on each swift-storage server. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The commands vary depending on which destination (Partition or Lookback device) is to be used. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The steps are detailed in the sections that follow. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">“$storage_path” and “$storage_dev” are defined in “deploy.conf”.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Partition</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1434">
sudo apt-get install xfsprogs -y
sudo sh -c "echo '/dev/$storage_dev $storage_path/$storage_dev xfs noatime,nodiratime,nobarrier,logbufs=8 0 0' &gt;&gt; /etc/fstab"
sudo mount $storage_path/$storage_dev
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Loopback device</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1436">
sudo apt-get install xfsprogs -y
sudo mkdir -p $storage_path/$storage_dev
sudo dd if=/dev/zero of=/srv/swift-disk bs=1024 count=0 seek=1000000
sudo mkfs.xfs -i size=1024 /srv/swift-disk
sudo sh -c "echo '/srv/swift-disk $storage_path/$storage_dev xfs loop,noatime,nodiratime,nobarrier,logbufs=8 0 0' &gt;&gt; /etc/fstab"
sudo mount $storage_path/$storage_dev
</fo:block></fo:block><fo:block id="d399e1437"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring the Deployment Tool</fo:marker><fo:block font-size="17.28pt">Configuring the Deployment Tool</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You must change the configuration file in order to execute the Nova deployment tool according to your environment and configuration design. In the unzipped files, edit conf/deploy.conf to change the settings according to your environment and desired installation (single or multiple servers, for example). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are the definitions of the values which are used in deploy.conf.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">default section</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1442"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1443"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>puppet_server  Name of server in which the puppet server is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1445"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>sh_user  User name that is used to SSH into a nova component</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">nova section</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1448"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1449"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova_api  Name of server in which the nava-api component is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1451"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova_objectstore  Name of server in which the nova-objectstore component is installed*</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1453"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova_compute  Name of server in which the nova-compute component is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1455"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova_scheduler  Name of server in which the nova-scheduler component is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1457"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova_network  Name of server in which the nova-network component is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1459"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova_volume  Name of server in which the nova-volume component is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1461"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>euca2ools  Name of server that runs the test sequence</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1463"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>mysql  Name of server in which mysql is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1465"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>glance_host  Glance server name</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1467"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>libvirt_type  Virtualization type</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1469"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>network_manager  Network management class name</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1471"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>image_service  Image management class name</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1473"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>network_interface  Network interface that is used in the nova-compute component</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1475"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>network_ip_range  IP address range used by guest VMS. This value should be included in the values of fixed_range.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1477"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>volume_group  LVM volume group name that is used in the nova volume component</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1479"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>fixed_range  Range of IP addresses used in all projects. If you want to change the value, please also change the IP addresses X.X.X.X of the command "nova-manage network create X.X.X.X ..." in file setup-network.sh, and the IP addresses should include the new value.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1481"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>network_size  Number of IP addresses used by Guest VM in all projects</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">glance section</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1484"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1485"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>glance  Name of server in which the glance is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1487"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>default_store  Image store that is used in glance.  Available value: file, swift, s3</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">swift section</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1490"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1491"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>swift_proxy  Name of server in which the glance is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1493"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>swift_storage  Name of server in which the swift=storage is installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1495"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>account  swift account name</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1497"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>username  swift user name</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1499"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>password  swift password</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1501"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>storage_path  Folder for saving account, container and object information in swift storage server</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1503"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>storage_dev  Device holding account, container and object information</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1505"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>ring_builder_replicas  Number of account, container, and object copies. The value has to be equal or less than the number of swift-storage servers.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1507"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>super_admin_key  A key for creating swift users</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">	If you install swift on Ubuntu 11.04, due to the bug https://bugs.launchpad.net/swift/+bug/796404 swift_proxy should be installed on the different machine from the machine where swift_storage will be installed.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Because of the current implementation architecture, you must load nova-api, nova-objectstore and euca2ools on a single server.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following configuration information is an example. If you want to have multiple
                nova-computes, you can do so by nova_compute=ubuntu3, ubuntu8, for example. And if
                you want to have multiple swift storage, you can do so by swift_storage=ubuntu3,
                ubuntu8, for example.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1512">
&lt;begin ~/DeploymentTool/conf/deploy.conf&gt;
[default]
puppet_server=ubuntu7
ssh_user=nii

[nova]
nova_api=ubuntu7
nova_objectstore=ubuntu7
nova_compute=ubuntu7
nova_scheduler=ubuntu7
nova_network=ubuntu7
nova_volume=ubuntu7
euca2ools=ubuntu7
mysql=ubuntu7

glance_host=ubuntu7

libvirt_type=kvm
network_manager=nova.network.manager.VlanManager
image_service=nova.image.glance.GlanceImageService

network_interface=eth0
network_ip_range=10.0.0.0/24

volume_group=ubuntu7
fixed_range=10.0.0.0/8
network_size=5000

[glance]
glance=ubuntu7
default_store=swift

[swift]
swift_proxy=ubuntu7
swift_storage=ubuntu7

account=system
username=root
password=testpass

storage_path=/srv/node
storage_dev=sdb1
ring_builder_replicas=1

super_admin_key=swauth
&lt;end ~/DeploymentTool/conf/deploy.conf&gt;</fo:block></fo:block></fo:block><fo:block id="openstack-compute-installation-using-virtualbox-vagrant-and-chef"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">OpenStack Compute Installation Using VirtualBox, Vagrant, And Chef</fo:marker><fo:block font-size="20.735999999999997pt">OpenStack Compute Installation Using VirtualBox, Vagrant, And Chef</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Integration testing for distributed systems that have many dependencies can be a huge challenge. Ideally, you would have a cluster of machines that you could PXE boot to a base OS install and run a complete install of the system. Unfortunately not everyone has a bunch of extra hardware sitting around. For those of us that are a bit on the frugal side, a whole lot of testing can be done with Virtual Machines. Read on for a simple guide to installing OpenStack Compute (Nova) with VirtualBox and Vagrant.</fo:block><fo:block id="d399e1516"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Installing VirtualBox</fo:marker><fo:block font-size="17.28pt">Installing VirtualBox</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">VirtualBox is virtualization software by Oracle. It runs on Mac/Linux/Windows and can be controlled from the command line. Note that we will be using VirtualBox 4.0 and the vagrant prerelease.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OSX</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1520">curl -O http://download.virtualbox.org/virtualbox/4.0.2/VirtualBox-4.0.2-69518-OSX.dmg
open VirtualBox-4.0.2-69518-OSX.dmg</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu Maverick</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1522">wget -q http://download.virtualbox.org/virtualbox/debian/oracle_vbox.asc -O- | sudo apt-key add -
echo "deb http://download.virtualbox.org/virtualbox/debian maverick contrib" | sudo tee /etc/apt/sources.list.d/virtualbox.list
sudo apt-get update
sudo apt-get install -y virtualbox-4.0</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu Lucid</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1524">wget -q http://download.virtualbox.org/virtualbox/debian/oracle_vbox.asc -O- | sudo apt-key add -
echo "deb http://download.virtualbox.org/virtualbox/debian lucid contrib" | sudo tee /etc/apt/sources.list.d/virtualbox.list
sudo apt-get update
sudo apt-get install -y virtualbox-4.0</fo:block></fo:block><fo:block id="d399e1525"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Install RubyGems</fo:marker><fo:block font-size="17.28pt">Install RubyGems</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following instructions for installing Vagrant use RubyGems for the installation commands. You can download RubyGems from <fo:basic-link external-destination="url(http://rubygems.org/pages/download)"><fo:inline>http://rubygems.org/pages/download</fo:inline></fo:basic-link>. </fo:block></fo:block><fo:block id="d399e1529"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Get the Vagrant Pre-release</fo:marker><fo:block font-size="17.28pt">Get the Vagrant Pre-release</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OSX</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1532">sudo gem update -- system
sudo gem install vagrant -- pre</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu Maverick</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1534">sudo gem install vagrant --pre
sudo ln -s /var/lib/gems/1.8/bin/vagrant /usr/local/bin/vagrant</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu Lucid</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1536">wget http://production.cf.rubygems.org/rubygems/rubygems-1.3.6.zip
sudo apt-get install -y unzip
unzip rubygems-1.3.6.zip
cd rubygems-1.3.6
sudo ruby setup.rb
sudo gem1.8 install vagrant --pre</fo:block></fo:block><fo:block id="d399e1537"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Get the Chef Recipes</fo:marker><fo:block font-size="17.28pt">Get the Chef Recipes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1539">cd ~
git clone https://github.com/ansolabs/openstack-cookbooks/openstack-cookbooks.git</fo:block></fo:block><fo:block id="d399e1540"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Set Up Some Directories</fo:marker><fo:block font-size="17.28pt">Set Up Some Directories</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1542">mkdir aptcache
mkdir chef
cd chef</fo:block></fo:block><fo:block id="d399e1543"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Get the chef-solo Vagrant file</fo:marker><fo:block font-size="17.28pt">Get the chef-solo Vagrant file</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Provisioning for vagrant can use chef-solo, chef-server, or puppet. We’re going to use chef-solo for the installation of OpenStack Compute.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1546">curl -o Vagrantfile https://raw.github.com/gist/786945/solo.rb</fo:block></fo:block><fo:block id="d399e1547"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Running OpenStack Compute within a Vagrant Instance</fo:marker><fo:block font-size="17.28pt">Running OpenStack Compute within a Vagrant Instance</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Installing and running OpenStack Compute is as simple as typing "vagrant up"</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1550">vagrant up</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In 3-10 minutes, your vagrant instance should be running. NOTE: Some people report an
                error from vagrant complaining about MAC addresses the first time they vagrant up.
                Doing <fo:inline font-family="monospace">vagrant up</fo:inline> again seems to resolve the problem.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1553">vagrant ssh</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now you can run an instance and connect to it:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1555">. /vagrant/novarc
euca-add-keypair test &gt; test.pem
chmod 600 test.pem
euca-run-instances -t m1.tiny -k test ami-tty
# wait for boot (euca-describe-instances should report running)
ssh -i test.pem root@10.0.0.3</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Yo, dawg, your VMs have VMs! That is, you are now running an instance inside of OpenStack Compute, which itself is running inside a VirtualBox VM.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When the you are finished, you can destroy the entire system with vagrant destroy. You will also need to remove the .pem files and the novarc if you want to run the system again.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1558">vagrant destroy
rm *.pem novarc</fo:block></fo:block><fo:block id="d399e1559"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Using the dashboard
            
        </fo:marker><fo:block font-size="17.28pt">Using the dashboard
            
        </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The OpenStack Dashboard should be running on 192.168.86.100. You can login using username: admin, password: vagrant.</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_networking"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">7. Networking</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By understanding the available networking configuration options you can design the best
        configuration for your OpenStack Compute instances.</fo:block><fo:block id="networking-options"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Networking Options</fo:marker><fo:block font-size="20.735999999999997pt">Networking Options</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section offers a brief overview of each concept in networking for Compute. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In Compute, users organize their cloud resources in projects. A Compute project
            consists of a number of VM instances created by a user. For each VM instance, Compute
            assigns to it a private IP address. (Currently, Nova only supports Linux bridge
            networking that allows the virtual interfaces to connect to the outside network through
            the physical interface.)</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Network Controller provides virtual networks to enable compute servers to interact
            with each other and with the public network.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Currently, Nova supports three kinds of networks, implemented in three “Network
            Manager” types respectively: Flat Network Manager, Flat DHCP Network Manager, and VLAN
            Network Manager. The three kinds of networks can co-exist in a cloud system. However,
            since you can't yet select the type of network for a given project, you cannot configure
            more than one type of network in a given Compute installation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Nova has a concept of Fixed IPs and Floating IPs. Fixed IPs are assigned to an
            instance on creation and stay the same until the instance is explicitly terminated.
            Floating IPs are IP addresses that can be dynamically associated with an instance. This
            address can be disassociated and associated with another instance at any time. A user
            can reserve a floating IP for their project. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In Flat Mode, a network administrator specifies a subnet. The IP addresses for VM
            instances are grabbed from the subnet, and then injected into the image on launch. Each
            instance receives a fixed IP address from the pool of available addresses. A network
            administrator must configure the Linux networking bridge (named br100) both on the
            network controller hosting the network and on the cloud controllers hosting the
            instances. All instances of the system are attached to the same bridge, configured
            manually by the network administrator.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d399e1574"><fo:list-block provisional-distance-between-starts="36pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="36pt" src="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/note.svg)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" color="rgb(196,0,34)" font-family="CartoGothic Std">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The configuration injection currently only works on Linux-style systems that
                    keep networking configuration in /etc/network/interfaces.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In Flat DHCP Mode, you start a DHCP server to pass out IP addresses to VM instances
            from the specified subnet in addition to manually configuring the networking bridge. IP
            addresses for VM instances are grabbed from a subnet specified by the network
            administrator. Like Flat Mode, all instances are attached to a single bridge on the
            compute node. In addition a DHCP server is running to configure instances. In this mode,
            Compute does a bit more configuration in that it attempts to bridge into an ethernet
            device (eth0 by default). It will also run dnsmasq as a dhcpserver listening on this
            bridge. Instances receive their fixed IPs by doing a dhcpdiscover. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In both flat modes, the network nodes do not act as a default gateway. Instances are
            given public IP addresses. Compute nodes have iptables/ebtables entries created per
            project and instance to protect against IP/MAC address spoofing and ARP poisoning. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">VLAN Network Mode is the default mode for OpenStack Compute. In this mode, Compute
            creates a VLAN and bridge for each project. For multiple machine installation, the VLAN
            Network Mode requires a switch that supports VLAN tagging (IEEE 802.1Q). The project gets
            a range of private IPs that are only accessible from inside the VLAN. In order for a
            user to access the instances in their project, a special VPN instance (code named
            cloudpipe) needs to be created. Compute generates a certificate and key for the user to
            access the VPN and starts the VPN automatically. It provides a private network segment
            for each project's instances that can be accessed via a dedicated VPN connection from
            the Internet. In this mode, each project gets its own VLAN, Linux networking bridge, and
            subnet. The subnets are specified by the network administrator, and are assigned
            dynamically to a project when required. A DHCP Server is started for each VLAN to pass
            out IP addresses to VM instances from the subnet assigned to the project. All instances
            belonging to one project are bridged into the same VLAN for that project. OpenStack
            Compute creates the Linux networking bridges and VLANs when required.</fo:block></fo:block><fo:block id="cloudpipe-per-project-vpns"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Cloudpipe — Per Project Vpns</fo:marker><fo:block font-size="20.735999999999997pt">Cloudpipe — Per Project Vpns</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Cloudpipe is a method for connecting end users to their project
            instances in VLAN networking mode.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The support code for cloudpipe implements admin commands (via
                nova-manage) to automatically create a VM for a project that
                allows users to vpn into the private network of their project.
                Access to this vpn is provided through a public port on the
                network host for the project. This allows users to have free
                access to the virtual machines in their project without exposing
                those machines to the public internet.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The cloudpipe image is basically just a Linux instance with
                openvpn installed. It needs a simple script to grab user data from
                the metadata server, b64 decode it into a zip file, and run the
                autorun.sh script from inside the zip. The autorun script will
                configure and run openvpn to run using the data from nova.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                It is also useful to have a cron script that will periodically
                redownload the metadata and copy the new crl. This will keep
                revoked users from connecting and will disconnect any users that
                are connected with revoked certificates when their connection is
                renegotiated (every hour).
            </fo:block><fo:block id="creating-a-cloudpipe-image"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Creating a Cloudpipe Image</fo:marker><fo:block font-size="17.28pt">Creating a Cloudpipe Image</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Making a cloudpipe image is relatively easy.
            </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1588"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1589"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                # install openvpn on a base ubuntu image. 
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1591"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block># set up a
                server.conf.template in /etc/openvpn/</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1593"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                # set up.sh in /etc/openvpn/
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1595"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                # set down.sh in /etc/openvpn/
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1597"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                # download and run the payload on boot from /etc/rc.local
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1599"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                # setup /etc/network/interfaces
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1601"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                # register the image and set the image id in your flagfile:
            </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1603">
--vpn_image_id=ami-xxxxxxxx
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1604"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                # you should set a few other flags to make vpns work properly:
            </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1606">
--use_project_ca
--cnt_vpn_clients=5
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                When you use nova-manage to launch a cloudpipe for a user, it goes
                through the following process:
            </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e1608"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1609"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        creates a keypair called &lt;project_id&gt;-vpn and saves it
                        in the keys directory
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1611"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        creates a security group &lt;project_id&gt;-vpn and opens up
                        1194 and icmp
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1613"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        creates a cert and private key for the vpn instance and saves
                        it in the CA/projects/&lt;project_id&gt;/ directory
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1615"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        zips up the info and puts it b64 encoded as user data
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1617"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        launches an m1.tiny instance with the above settings using the
                        flag-specified vpn image
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="vpn-access"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">VPN Access</fo:marker><fo:block font-size="17.28pt">VPN Access</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                In vlan networking mode, the second IP in each private network is
                reserved for the cloudpipe instance. This gives a consistent IP to
                the instance so that nova-network can create forwarding rules for
                access from the outside world. The network for each project is
                given a specific high-numbered port on the public IP of the
                network host. This port is automatically forwarded to 1194 on the
                vpn instance.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                If specific high numbered ports do not work for your users, you
                can always allocate and associate a public IP to the instance, and
                then change the vpn_public_ip and vpn_public_port in the database.
                (This will be turned into a nova-manage command or a flag soon.)
            </fo:block></fo:block><fo:block id="certificates-and-revocation"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Certificates and Revocation</fo:marker><fo:block font-size="17.28pt">Certificates and Revocation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the use_project_ca flag is set (required to for cloudpipes to work securely),
                then each project has its own ca. This ca is used to sign the certificate for the
                vpn, and is also passed to the user for bundling images. When a certificate is
                revoked using nova-manage, a new Certificate Revocation List (crl) is generated. As
                long as cloudpipe has an updated crl, it will block revoked users from connecting to
                the vpn. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The userdata for cloudpipe isn't currently updated when certs are
                revoked, so it is necessary to restart the cloudpipe instance if a
                user's credentials are revoked.
            </fo:block></fo:block><fo:block id="restarting-and-logging-into-cloudpipe-vpn"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Restarting and Logging into the Cloudpipe VPN</fo:marker><fo:block font-size="17.28pt">Restarting and Logging into the Cloudpipe VPN</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can reboot a cloudpipe vpn through the api if something goes wrong (using
                euca-reboot-instances for example), but if you generate a new crl, you will have to
                terminate it and start it again using nova-manage vpn run. The cloudpipe instance
                always gets the first ip in the subnet and it can take up to 10 minutes for the ip
                to be recovered. If you try to start the new vpn instance too soon, the instance
                will fail to start because of a NoMoreAddresses error. If you can’t wait 10 minutes,
                you can manually update the ip with something like the following (use the right ip
                for the project): </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1630">
                euca-terminate-instances &lt;instance_id&gt;
                    mysql nova -e "update fixed_ips set allocated=0, leased=0, instance_id=NULL where fixed_ip='10.0.0.2'"
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You also will need to terminate the dnsmasq running for the user (make sure you use the right pid file):</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1632">sudo kill `cat /var/lib/nova/br100.pid`</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now you should be able to re-run the vpn:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1634">nova-manage vpn run &lt;project_id&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The keypair that was used to launch the cloudpipe  instance should be in the keys/&lt;project_id&gt; folder. You can use this key to log into the cloudpipe instance for debugging purposes.</fo:block></fo:block></fo:block><fo:block id="configuring-networking-on-the-compute-node"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Networking on the Compute Node</fo:marker><fo:block font-size="20.735999999999997pt">Configuring Networking on the Compute Node</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To configure the Compute node's networking for the VM images, the overall steps are:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e1639"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1640"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Set the --network-manager flag in nova.conf.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1642"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Use the <fo:inline font-family="monospace">nova-manage network create networkname CIDR n n</fo:inline>
                    command to create the subnet that the VMs reside on.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1645"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Integrate the bridge with your network. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, Compute uses the VLAN Network Mode. You choose the networking mode for your
            virtual instances in the nova.conf file. Here are the three possible options: </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1648"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1649"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>--network_manager = nova.network.manager.FlatManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Simple, non-VLAN networking</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1652"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>--network_manager = nova.network.manager.FlatDHCPManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Flat networking with DHCP,  you must set a bridge using the
                    --flat_network_bridge flag</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1655"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>--network_manager = nova.network.manager.VlanManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">VLAN networking with DHCP. This is the Default if no network manager is
                    defined in nova.conf. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Also, when you issue the nova-manage network create command, it uses the settings from
            the nova.conf flag file. Use the "nova-manage network create public 192.168.0.0/24 1
            255" command to create the subnet that your VMs will run on. You specify public or
            private after the create command.</fo:block><fo:block id="configuring-flat-networking"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Flat Networking</fo:marker><fo:block font-size="17.28pt">Configuring Flat Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">FlatNetworking uses ethernet adapters configured as bridges to allow network
                traffic to transit between all the various nodes. This setup can be done with a
                single adapter on the physical host, or multiple. This option does not require a
                switch that does VLAN tagging as VLAN networking does, and is a common development
                installation or proof of concept setup. When you choose Flat networking, Nova does
                not manage networking at all. Instead, IP addresses are injected into the instance
                via the file system (or passed in via a guest agent). Metadata forwarding must be
                configured manually on the gateway if it is required within your network. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To configure flat networking, ensure that your nova.conf file contains the
                line:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" background-color="#E0E0E0" id="d399e1664">--network_manager = nova.network.manager.FlatManager</fo:block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Compute defaults to a bridge device named ‘br100’ which is stored in the Nova
                database, so you can change the name of the bridge device by modifying the entry in
                the database. Consult the diagrams for additional configuration options.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In any set up with FlatNetworking (either Flat or FlatDHCP), the host with
                nova-network on it is responsible for forwarding traffic from the private network
                configured with the --fixed_range= directive in nova.conf and the
                --flat_network_bridge setting. This host needs to have br100 configured and talking
                to any other nodes that are hosting VMs. With either of the Flat Networking options,
                the default gateway for the virtual machines is set to the host which is running
                nova-network. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Set the compute node's external IP address to be on the bridge and add eth0 to
                that bridge. To do this, edit your network interfaces configuration to look like the
                following example: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1669">&lt; begin /etc/network/interfaces &gt; 
# The loopback network interface 
auto lo 
iface lo inet loopback 

# Networking for OpenStack Compute 
auto br100 

iface br100 inet dhcp 
    bridge_ports        eth0 
    bridge_stp           off 
    bridge_maxwait   0 
    bridge_fd            0 
&lt; end /etc/network/interfaces &gt; </fo:block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, restart networking to apply the changes: <fo:inline font-family="monospace">sudo /etc/init.d/networking
                    restart</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For an all-in-one development setup, this diagram represents the network
            setup.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="d399e1674"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Figure 7.1. Flat network, all-in-one server installation </fo:block><fo:block id="d399e1676"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/FlatNetworkSingleInterfaceAllInOne.png)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For multiple compute nodes with a single network adapter, which you can use for
                smoke testing or a proof of concept, this diagram represents the network
                setup.</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="d399e1680"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Figure 7.2. Flat network, single interface, multiple servers</fo:block><fo:block id="d399e1682"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/FlatNetworkSingleInterface.png)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For multiple compute nodes with multiple network adapters, this diagram
                represents the network setup. You may want to use this setup for separate admin and
                data traffic.</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="d399e1686"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Figure 7.3. Flat network, multiple interfaces, multiple servers</fo:block><fo:block id="d399e1688"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/FlatNetworkMultInterface.png)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block></fo:block><fo:block id="configuring-flat-dhcp-networking"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring Flat DHCP Networking</fo:marker><fo:block font-size="17.28pt">Configuring Flat DHCP Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With Flat DHCP, the host running nova-network acts as the gateway to the virtual nodes. You
                can run one nova-network per cluster. Set the flag --network_host on the nova.conf
                stored on the nova-compute node to tell it which host the nova-network is running on
                so it can communicate with nova-network. You must also set the --flat_network_bridge
                setting to the name of the bridge (no default is set for it). The nova-network
                service will track leases and releases in the database so it knows if a VM instance
                has stopped properly configuring via DHCP. Lastly, it sets up iptables rules to
                allow the VMs to communicate with the outside world and contact a special metadata
                server to retrieve information from the cloud.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Compute hosts in the FlatDHCP model are responsible for bringing up a matching
                bridge and bridging the VM tap devices into the same ethernet device that the
                network host is on. The compute hosts do not need an IP address on the VM network,
                because the bridging puts the VMs and the network host on the same logical network.
                When a VM boots, the VM sends out DHCP packets, and the DHCP server on the network
                host responds with their assigned IP address.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Visually, the setup looks like the diagram below:</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="d399e1696"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Figure 7.4. Flat DHCP network, multiple interfaces, multiple servers</fo:block><fo:block id="d399e1698"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/flatdchp-net.jpg)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">FlatDHCP doesn't create VLANs, it creates a bridge. This bridge works just fine on
                a single host, but when there are multiple hosts, traffic needs a way to get out of
                the bridge onto a physical interface. Be careful when setting up --flat_interface,
                if you specify an interface that already has an IP it will break and if this is the
                interface you are connecting through with SSH, you cannot fix it unless you have
                ipmi/console access. In FlatDHCP mode, the setting for --network_size should be
                number of IPs in the entire fixed range. If you are doing a /12 in CIDR notation,
                then this number would be 2^20 or 1,048,576 IP addresses. That said, it will take a
                very long time for you to create your initial network, as an entry for each IP will
                be created in the database. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you have an unused interface on your hosts that has connectivity with no IP
                address, you can simply tell FlatDHCP to bridge into the interface by specifying
                --flat_interface=&lt;interface&gt; in your flagfile. The network host will
                automatically add the gateway ip to this bridge. You can also add the interface to
                br100 manually and not set flat_interface. If this is the case for you, edit your
                nova.conf file to contain the following lines: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" background-color="#E0E0E0" id="d399e1704">--dhcpbridge_flagfile=/etc/nova/nova.conf
--dhcpbridge=/usr/bin/nova-dhcpbridge
--network_manager=nova.network.manager.FlatDHCPManager
--flat_network_dhcp_start=10.0.0.2
--flat_network_bridge=br100
--flat_interface=eth2
--flat_injected=False
--public_interface=eth0</fo:block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Integrate your network interfaces to match this configuration.</fo:block></fo:block><fo:block id="outbound-traffic-flow-with-any-flat-networking"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Outbound Traffic Flow with Any Flat Networking</fo:marker><fo:block font-size="17.28pt">Outbound Traffic Flow with Any Flat Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In any set up with FlatNetworking, the host with nova-network on it is responsible for forwarding traffic from the private network configured with the {{--fixed_range=...} directive in nova.conf. This host needs to have br100 configured and talking to any other nodes that are hosting VMs. With either of the Flat Networking options, the default gateway for the virtual machines is set to the host which is running nova-network.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When a virtual machine sends traffic out to the public networks, it sends it first to its default gateway, which is where nova-network is configured. </fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="d399e1710"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Figure 7.5. Single adaptor hosts, first route</fo:block><fo:block id="d399e1712"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/SingleInterfaceOutbound_1.png)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, the host on which nova-network is configured acts as a router and forwards the traffic out to the Internet.</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="d399e1716"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Figure 7.6. Single adaptor hosts, second route</fo:block><fo:block id="d399e1718"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/SingleInterfaceOutbound_2.png)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d399e1721"><fo:list-block provisional-distance-between-starts="36pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="36pt" src="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/warning.svg)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" color="rgb(196,0,34)" font-family="CartoGothic Std">Warning</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you're using a single interface, then that interface (often eth0) needs to be set into promiscuous mode for the forwarding to happen correctly. This does not appear to be needed if you're running with physical hosts that have and use two interfaces.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="configuring-vlan-networking"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring VLAN Networking</fo:marker><fo:block font-size="17.28pt">Configuring VLAN Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In some networking environments, you may have a large IP space which is cut up
                into smaller subnets. The smaller subnets are then trunked together at the switch
                level (dividing layer 3 by layer 2) so that all machines in the larger IP space can
                communicate. The purpose of this is generally to control the size of broadcast
                domains.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Using projects as a way to logically separate each VLAN, we can setup our cloud
                in this environment. Please note that you must have IP forwarding enabled for this
                network mode to work.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Obtain the parameters for each network. You may need to ask a network administrator for this information, including netmask, broadcast, gateway, ethernet device and VLAN ID.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You need to have networking hardware that supports VLAN tagging.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Please note that currently eth0 is hardcoded as the vlan_interface in the default flags. If you need to attach your bridges to a device other than eth0, you will need to add following flag to /etc/nova/nova.conf:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" background-color="#E0E0E0" id="d399e1730">--vlan_interface=eth1</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In VLAN mode, the setting for --network_size is the number of IPs per project as
                opposed to the FlatDHCP mode where --network_size indicates number of IPs in the
                entire fixed range. For VLAN, the settings in nova.conf that affect networking are
                also --fixed_range, where the space is divided up into subnets of
                --network_size.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">VLAN is the default networking mode for Compute, so if you have no
                    --network_manager entry in your nova.conf file, you are set up for VLAN. To set your nova.conf file to VLAN, use this flag in /etc/nova/nova.conf:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" background-color="#E0E0E0" id="d399e1733">--network_manager=nova.network.manager.VlanManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For the purposes of this example walk-through, we will use the following settings. These are intentionally complex in an attempt to cover most situations:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1735"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1736"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>VLANs: 171, 172, 173 and
                                174</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1738"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>IP Blocks: 10.1.171.0/24,
                                10.1.172.0/24, 10.1.173.0/24 and 10.1.174.0/24</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1740"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Each VLAN maps to its corresponding /24 (171 = 10.1.171.0/24, etc)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1742"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Each VLAN will get its own
                                bridge device, which is in the format br_$VLANID</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1744"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Each /24 has an upstream
                                default gateway on .1</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1746"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The first 6 IPs in each /24
                            are reserved</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, create the networks that Compute can pull from using nova-manage commands:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1749">nova-manage --flagfile=/etc/nova/nova.conf network create private 10.1.171.0/24 1 256
nova-manage --flagfile=/etc/nova/nova.conf network create private 10.1.172.0/24 1 256
nova-manage --flagfile=/etc/nova/nova.conf network create private 10.1.173.0/24 1 256
nova-manage --flagfile=/etc/nova/nova.conf network create private 10.1.174.0/24 1 256</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Log in to the nova database to determine the network ID assigned to each VLAN:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1751">select id,cidr from networks;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Update the DB to match your network settings. The following script will generate SQL based on the predetermined settings for this example. <fo:inline font-style="italic">You will need to modify this database update to fit your environment.</fo:inline></fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1754">
if [ -z $1 ]; then
  echo "You need to specify the vlan to modify"
fi

if [ -z $2 ]; then
  echo "You need to specify a network id number (check the DB for the network you want to update)"
fi

VLAN=$1
ID=$2

cat &gt; vlan.sql &lt;&lt; __EOF_
update networks set vlan = '$VLAN' where id = $ID;
update networks set bridge = 'br_$VLAN' where id = $ID;
update networks set gateway = '10.1.$VLAN.7' where id = $ID;
update networks set dhcp_start = '10.1.$VLAN.8' where id = $ID;
update fixed_ips set reserved = 1 where address in ('10.1.$VLAN.1','10.1.$VLAN.2','10.1.$VLAN.3','10.1.$VLAN.4','10.1.$VLAN.5','10.1.$VLAN.6','10.1.$VLAN.7');
__EOF_</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After verifying that the above SQL will work for your environment, run it against the nova database, once for every VLAN you have in the environment.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, create a project manager for the Compute project:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1757">nova-manage --flagfile=/etc/nova/nova.conf user admin $username</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Then create a project and assign that user as the admin user:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1759">nova-manage --flagfile=/etc/nova/nova.conf project create $projectname $username</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Finally, get the credentials for the user just created, which also assigns
                one of the networks to this project:)</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1761">nova-manage --flagfile=/etc/nova/nova.conf project zipfile $projectname $username</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you start nova-network, the bridge devices and associated VLAN tags will be created. When you create a new VM you must determine (either manually or programatically) which VLAN it should be a part of, and start the VM in the corresponding project.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In certain cases, the network manager may not properly tear down bridges and VLANs when it is stopped. If you attempt to restart the network manager and it does not start, check the logs for errors indicating that a bridge device already exists. If this is the case, you will likely need to tear down the bridge and VLAN devices manually.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1764">vconfig rem vlanNNN
ifconfig br_NNN down
brctl delbr br_NNN</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Also, if users need to access the instances in their project across a VPN, a special VPN instance (code
                named cloudpipe) needs to be created. You can create the cloudpipe instance. The
                image is basically just a Linux instance with openvpn installed. It needs a simple
                script to grab user data from the metadata server, b64 decode it into a zip file,
                and run the autorun.sh script from inside the zip. The autorun script should
                configure and run openvpn to run using the data from Compute. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For certificate management, it is also useful to have a cron script that will
                periodically download the metadata and copy the new Certificate Revocation List
                (CRL). This will keep revoked users from connecting and disconnects any users that
                are connected with revoked certificates when their connection is re-negotiated
                (every hour). You set the --use_project_ca flag in nova.conf for cloudpipes to work
                securely so that each project has its own Certificate Authority (CA).</fo:block></fo:block><fo:block id="enabling-ping-and-ssh-on-vms"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Enabling Ping and SSH on VMs</fo:marker><fo:block font-size="17.28pt">Enabling Ping and SSH on VMs</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Be sure you enable access to your VMs by using the ‘euca-authorize’ command. Below,
            you will find the commands to allow ‘ping’ and ‘ssh’ to your VMs: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" background-color="#E0E0E0" id="d399e1771">euca-authorize -P icmp -t -1:-1 default 
euca-authorize -P tcp -p 22 default</fo:block>If
            you still cannot ping or SSH your instances after issuing the ‘euca-authorize’ commands,
            look at the number of ‘dnsmasq’ processes that are running. If you have a running
            instance, check to see that TWO ‘dnsmasq’ processes are running. If not, perform the
            following: <fo:inline font-family="monospace">killall dnsmasq; service nova-network restart</fo:inline></fo:block></fo:block><fo:block id="allocating-associating-ip-addresses"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Allocating and Associating IP Addresses with Instances</fo:marker><fo:block font-size="17.28pt">Allocating and Associating IP Addresses with Instances</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use Euca2ools commands to manage floating IP addresses used with Flat DHCP or VLAN
                networking. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To assign a reserved IP address to your project, removing it from the pool of
                available floating IP addresses, use <fo:inline font-family="monospace">euca-allocate-address</fo:inline>. It'll
                return an IP address, assign it to the project you own, and remove it from the pool
                of available floating IP addresses. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To associate the floating IP to your instance, use <fo:inline font-family="monospace">euca-associate-address -i
                    [instance_id] [floating_ip]</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you want to return the floating IP to the pool, first use
                euca-disassociate-address [floating_ip] to disassociate the IP address from your
                instance, then use euca-deallocate-address [floating_ip] to return the IP to the
                pool of IPs for someone else to grab.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are nova-manage commands that also help you manage the floating IPs.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">nova-manage floating list - This command lists the floating IP addresses in the
                pool. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">nova-manage floating create [hostname] [cidr] - This command creates specific
                floating IPs for a specific network host and either a single address or a subnet. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">nova-manage floating destroy [hostname] [cidr] - This command removes floating IP
                addresses using the same parameters as the create command.</fo:block></fo:block><fo:block id="associating-public-ip"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Associating a Public IP Address</fo:marker><fo:block font-size="17.28pt">Associating a Public IP Address</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute uses NAT for public IPs. If you plan to use public IP
                addresses for your virtual instances, you must configure --public_interface=vlan100'
                in the nova.conf file so that Nova knows where to bind public IP addresses. Restart
                nova-network if you change nova.conf while the service is running. Also, ensure you
                have opened port 22 for the nova network.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You must add the IP address or block of public IP addresses to the floating IP
                list using the <fo:inline font-family="monospace">nova-manage floating create</fo:inline> command. When you start a
                new virtual instance, associate one of the public addresses to the new instance
                using the euca-associate-address command.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These are the basic overall steps and checkpoints. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, set up the public address.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1792">nova-manage floating create my-hostname 68.99.26.170/31
euca-allocate-address 68.99.26.170
euca-associate-address -i i-1 68.99.26.170</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Make sure the security groups are open.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1794">root@my-hostname:~# euca-describe-groups
GROUP admin-project default default
PERMISSION admin-project default ALLOWS icmp -1 -1
FROM CIDR 0.0.0.0/0
PERMISSION admin-project default ALLOWS tcp 22 22
FROM CIDR 0.0.0.0/0</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ensure the NAT rules have been added to iptables.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1796">-A nova-network-OUTPUT -d 68.99.26.170/32 -j DNAT --to-destination 10.0.0.3
-A nova-network-PREROUTING -d 68.99.26.170/32 -j DNAT --to-destination10.0.0.3
-A nova-network-floating-snat -s 10.0.0.3/32 -j SNAT --to-source 68.99.26.170</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Check that the public address, in this example 68.99.26.170, has been added to your public interface. You
                    should see the address in the listing when you enter "ip addr" at the command prompt.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1798">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000
link/ether xx:xx:xx:17:4b:c2 brd ff:ff:ff:ff:ff:ff
inet 13.22.194.80/24 brd 13.22.194.255 scope global eth0
inet 68.99.26.170/32 scope global eth0
inet6 fe80::82b:2bf:fe1:4b2/64 scope link
valid_lft forever preferred_lft forever</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that you cannot SSH to an instance with a public IP from within the same
                server as the routing configuration won't allow it. </fo:block></fo:block></fo:block><fo:block id="removing-network-from-project"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Removing a Network from a Project</fo:marker><fo:block font-size="20.735999999999997pt">Removing a Network from a Project</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will find that you cannot remove a network that has already been associated to a project by simply deleting it. You can disassociate the project from the network with a scrub command and the project name as the final parameter:
        </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1803">nova-manage project scrub projectname</fo:block></fo:block><fo:block id="existing-ha-networking-options"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Existing High Availability Options for Networking</fo:marker><fo:block font-size="20.735999999999997pt">Existing High Availability Options for Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">from <fo:basic-link external-destination="url(http://unchainyourbrain.com/openstack/13-networking-in-nova)"><fo:inline>Vish Ishaya</fo:inline></fo:basic-link></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As you can see from the Flat DHCP diagram titled "Flat DHCP network, multiple interfaces, multiple servers," traffic from the VM to the public internet has to go through the host running nova network. Dhcp is handled by nova-network as well, listening on the gateway address of the fixed_range network. The compute hosts can optionally have their own public IPs, or they can use the network host as their gateway. This mode is pretty simple and it works in the majority of situations, but it has one major drawback: the network host is a single point of failure! If the network host goes down for any reason, it is impossible to communicate with the VMs. Here are some options for avoiding the single point of failure.</fo:block><fo:block id="d399e1809"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Option 1: Failover</fo:marker><fo:block font-size="17.28pt">Option 1: Failover</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The folks at NTT labs came up with a ha-linux configuration that allows for a 4 second failover to a hot backup of the network host. Details on their approach can be found in the following post to the openstack mailing list: <fo:basic-link external-destination="url(https://lists.launchpad.net/openstack/msg02099.html)"><fo:inline>https://lists.launchpad.net/openstack/msg02099.html</fo:inline></fo:basic-link></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This solution is definitely an option, although it requires a second host that essentially does nothing unless there is a failure. Also four seconds can be too long for some real-time applications.</fo:block></fo:block><fo:block id="d399e1814"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Option 2: Multi-nic</fo:marker><fo:block font-size="17.28pt">Option 2: Multi-nic</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Recently, nova gained support for multi-nic. This allows us to bridge a given VM into multiple networks. This gives us some more options for high availability. It is possible to set up two networks on separate vlans (or even separate ethernet devices on the host) and give the VMs a NIC and an IP on each network. Each of these networks could have its own network host acting as the gateway.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this case, the VM has two possible routes out. If one of them fails, it has the option of using the other one. The disadvantage of this approach is it offloads management of failure scenarios to the guest. The guest needs to be aware of multiple networks and have a strategy for switching between them. It also doesn't help with floating IPs. One would have to set up a floating IP associated with each of the IPs on private the private networks to achieve some type of redundancy.</fo:block></fo:block><fo:block id="d399e1818"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Option 3: HW Gateway</fo:marker><fo:block font-size="17.28pt">Option 3: HW Gateway</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is possible to tell dnsmasq to use an external gateway instead of acting as the gateway for the VMs. You can pass dhcpoption=3,&lt;ip of gateway&gt; to make the VMs use an external gateway. This will require some manual setup. The metadata IP forwarding rules will need to be set on the hardware gateway instead of the nova-network host. You will have to make sure to set up routes properly so that the subnet that you use for VMs is routable.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This offloads HA to standard switching hardware and it has some strong benefits. Unfortunately, nova-network is still responsible for floating IP natting and dhcp, so some failover strategy needs to be employed for those options.</fo:block></fo:block><fo:block id="d399e1822"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">New HA Option</fo:marker><fo:block font-size="17.28pt">New HA Option</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Essentially, what the current options are lacking, is the ability to specify different gateways for different VMs. An agnostic approach to a better model might propose allowing multiple gateways per VM. Unfortunately this rapidly leads to some serious networking complications, especially when it comes to the natting for floating IPs. With a few assumptions about the problem domain, we can come up with a much simpler solution that is just as effective.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The key realization is that there is no need to isolate the failure domain away from the host where the VM is running. If the host itself goes down, losing networking to the VM is a non-issue. The VM is already gone. So the simple solution involves allowing each compute host to do all of the networking jobs for its own VMs. This means each compute host does NAT, dhcp, and acts as a gateway for all of its own VMs. While we still have a single point of failure in this scenario, it is the same point of failure that applies to all virtualized systems, and so it is about the best we can do.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">So the next question is: how do we modify the Nova code to provide this option. One possibility would be to add code to the compute worker to do complicated networking setup. This turns out to be a bit painful, and leads to a lot of duplicated code between compute and network. Another option is to modify nova-network slightly so that it can run successfully on every compute node and change the message passing logic to pass the network commands to a local network worker.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Surprisingly, the code is relatively simple. A couple fields needed to be added to the database in order to support these new types of "multihost" networks without breaking the functionality of the existing system. All-in-all it is a pretty small set of changes for a lot of added functionality: about 250 lines, including quite a bit of cleanup. You can see the branch here: <fo:basic-link external-destination="url(https://code.launchpad.net/%7Evishvananda/nova/ha-net/+merge/67078)"><fo:inline>https://code.launchpad.net/~vishvananda/nova/ha-net/+merge/67078</fo:inline></fo:basic-link></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The drawbacks here are relatively minor. It requires adding an IP on the VM network to each host in the system, and it implies a little more overhead on the compute hosts. It is also possible to combine this with option 3 above to remove the need for your compute hosts to gateway. In that hybrid version they would no longer gateway for the VMs and their responsibilities would only be dhcp and nat.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The resulting layout for the new HA networking option looks the following diagram:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="d399e1832"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Figure 7.7. High Availability Networking Option</fo:block><fo:block id="d399e1834"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/figures/ha-net.jpg)" width="auto" height="auto" content-width="80%" content-height="80%"/></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In contrast with the earlier diagram, all the hosts in the system are running both nova-compute and nova-network. Each host does DHCP and does NAT for public traffic for the VMs running on that particular host. In this model every compute host requires a connection to the public internet and each host is also assigned an address from the VM network where it listens for dhcp traffic.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The requirements for configuring are the following: --multi_host flag must be in place for network creation and nova-network must be run on every compute host. These created multi hosts networks will send all network related commands to the host that the VM is on.
        </fo:block></fo:block><fo:block id="d399e1839"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Future of Networking</fo:marker><fo:block font-size="17.28pt">Future of Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With the existing multi-nic code and the HA networking code, we have a pretty robust system with a lot of deployment options. This should be enough to provide deployers enough room to solve todays networking problems. Ultimately, we want to provide users the ability to create arbitrary networks and have real and virtual network appliances managed automatically. The efforts underway in the Quantum and Melange projects will help us reach this lofty goal, but with the current additions we should have enough flexibility to get us by until those projects can take over.</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_system-administration-for-openstack-compute"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">8. System Administration</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By understanding how the different installed nodes interact with each other you can
        administer the OpenStack Compute installation. OpenStack Compute offers many ways to install
        using multiple servers but the general idea is that you can have multiple compute nodes that 
        control the virtual servers and a cloud controller node that contains the remaining Nova services. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The OpenStack Compute cloud works via the interaction of a series of daemon processes
        named nova-* that reside persistently on the host machine or machines. These binaries can
        all run on the same machine or be spread out on multiple boxes in a large deployment. The
        responsibilities of Services, Managers, and Drivers, can be a bit confusing at first. Here
        is an outline the division of responsibilities to make understanding the system a little bit
        easier. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Currently, Services are nova-api, nova-objectstore (which can be replaced with Glance, the
        OpenStack Image Service), nova-compute, nova-volume, and nova-network. Managers and Drivers
        are specified by flags and loaded using utils.load_object(). Managers are responsible for a
        certain aspect of the system. It is a logical grouping of code relating to a portion of the
        system. In general other components should be using the manager to make changes to the
        components that it is responsible for. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For example, other components that need to deal with volumes in some way, should do so by
        calling methods on the VolumeManager instead of directly changing fields in the database.
        This allows us to keep all of the code relating to volumes in the same place. </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e1848"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1849"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova-api - The nova-api service receives xml requests and sends them to the rest
                of the system. It is a wsgi app that routes and authenticate requests. It supports
                the EC2 and OpenStack APIs. There is a nova-api.conf file created when you install
                Compute.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1851"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova-objectstore - The nova-objectstore service is an ultra simple file-based
                storage system for images that replicates most of the S3 API. It can be replaced
                with OpenStack Image Service and a simple image manager or use OpenStack Object
                Storage as the virtual machine image storage facility. It must reside on the same
                node as nova-compute.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1853"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova-compute - The nova-compute service is responsible for managing virtual
                machines. It loads a Service object which exposes the public methods on
                ComputeManager via Remote Procedure Call (RPC).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1855"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova-volume - The nova-volume service is responsible for managing attachable block
                storage devices. It loads a Service object which exposes the public methods on
                VolumeManager via RPC.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e1857"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova-network - The nova-network service is responsible for managing floating and
                fixed IPs, DHCP, bridging and VLANs. It loads a Service object which exposes the
                public methods on one of the subclasses of NetworkManager. Different networking
                strategies are available to the service by changing the network_manager flag to
                FlatManager, FlatDHCPManager, or VlanManager (default is VLAN if no other is
                specified):</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1860">nova-network --network_manager=nova.network.manager.FlatManager</fo:block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="starting-images"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Starting Images</fo:marker><fo:block font-size="20.735999999999997pt">Starting Images</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you have an installation, you want to get images that you can use in your Compute cloud. We've created a basic Ubuntu image for testing your installation. First you'll download the image, then use uec-publish-tarball to publish it:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1865">image="ubuntu1010-UEC-localuser-image.tar.gz"
wget http://c0179148.cdn1.cloudfiles.rackspacecloud.com/ubuntu1010-UEC-localuser-image.tar.gz
uec-publish-tarball $image [bucket-name] [hardware-arch]</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here's an example of what this command looks like with data:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1868"> uec-publish-tarball ubuntu1010-UEC-localuser-image.tar.gz dub-bucket x86_64</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The command in return should output three references: emi, eri and eki. You need to use the emi value (for example, “ami-zqkyh9th″) for the euca-run-instances command.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now you can schedule, launch and connect to the instance, which you do with tools from the Euca2ools on the command line. Create the emi value from the uec-publish-tarball command, and then you can use the euca-run-instances command.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">One thing to note here, once you publish the tarball, it has to untar before you can launch an image from it. Using the 'euca-describe-images' command, wait until the state turns to "available" from "untarring.":</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1873">euca-describe-images</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Depending on the image that you're using, you need a public key to connect to it. Some images have built-in accounts already created. Images can be shared by many users, so it is dangerous to put passwords into the images. Nova therefore supports injecting ssh keys into instances before they are
            booted. This allows a user to login to the instances that he or she creates securely.
            Generally the first thing that a user does when using the system is create a keypair.
            Keypairs provide secure authentication to your instances. As part of the first boot of a
            virtual image, the private key of your keypair is added to root’s authorized_keys file.
            Nova generates a public and private key pair, and sends the private key to the user. The
            public key is stored so that it can be injected into instances. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Keypairs are created through the api and you use them as a parameter when launching an
            instance. They can be created on the command line using the euca2ools script
            euca-add-keypair. Refer to the man page for the available options. Example usage:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1876">euca-add-keypair test &gt; test.pem
chmod 600 test.pem</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now, you can run the instances:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1878">euca-run-instances -k test -t m1.tiny ami-zqkyh9th</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here's a description of the parameters used above:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">-t what type of image to create</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">-k name of the key to inject in to the image at launch </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Optionally, you can use the -n parameter to indicate how many images of this type to
            launch. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The instance will go from “launching” to “running” in a short time, and you should be able to connect via SSH using the 'ubuntu' account, with the password 'ubuntu': (replace $ipaddress with the one you got from euca-describe-instances):</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1885">ssh ubuntu@$ipaddress</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The 'ubuntu' user is part of the sudoers group, so you can escalate to 'root'
            via the following command:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1888">sudo -i</fo:block></fo:block></fo:block><fo:block id="deleting-instances"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Deleting Instances</fo:marker><fo:block font-size="20.735999999999997pt">Deleting Instances</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you are done playing with an instance, you can tear the instance down
            using the following command (replace $instanceid with the instance IDs from above or
            look it up with euca-describe-instances):</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1893">euca-terminate-instances $instanceid</fo:block></fo:block></fo:block><fo:block id="creating-custom-images"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Image management</fo:marker><fo:block font-size="20.735999999999997pt">Image management</fo:block></fo:block></fo:block></fo:block><fo:block keep-together.within-column="always"><fo:block>CSS Corp-  Open Source Services</fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">by <fo:basic-link external-destination="url(http://www.csscorp.com/)"><fo:inline>CSS Corp Open Source Services</fo:inline></fo:basic-link> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are several pre-built images for OpenStack available from  various sources. You can download such images and use them to get familiar with OpenStack. You can refer to  <fo:basic-link external-destination="url(http://docs.openstack.org/cactus/openstack-compute/admin/content/starting-images.html)"><fo:inline>http://docs.openstack.org/cactus/openstack-compute/admin/content/starting-images.html</fo:inline></fo:basic-link> for details on using such images.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For any production deployment,  you may like to have the ability to bundle custom images, with a custom set of applications or configuration. This chapter will guide you through the process of creating Linux images of Debian and Redhat based distributions from scratch. We have also covered an approach to bundling Windows images.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are some minor differences in the way you would bundle a Linux image, based on the distribution. Ubuntu makes it very easy by providing cloud-init package, which can be used to take care of the instance configuration at the time of launch. cloud-init handles importing ssh keys for password-less login, setting hostname etc. The instance acquires the instance specific configuration from Nova-compute by connecting to a meta data interface running on 169.254.169.254.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">While creating the image of a distro that does not have cloud-init or an equivalent package, you may need to take care of importing the keys etc. by running a set of commands at boot time from rc.local.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The process used for Ubuntu and Fedora is largely the same with a few minor differences, which are explained below.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In both cases, the documentation below assumes that you have a working KVM installation to use for creating the images. We are using the machine called ‘client1′ as explained in the chapter on “Installation and Configuration” for this purpose.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The approach explained below will give you disk images that represent a disk without any partitions. Nova-compute can resize such disks ( including resizing the file system) based on the instance type chosen at the time of launching the instance. These images cannot have ‘bootable’ flag and hence it is mandatory to have associated kernel and ramdisk images. These kernel and ramdisk images need to be used by nova-compute at the time of launching the instance.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">However, we have also added a small section towards the end of the chapter about creating bootable images with multiple partitions that can be be used by nova to launch an instance without the need for  kernel and ramdisk images. The caveat is that while nova-compute can re-size such disks at the time of launching the instance, the file system size is not altered and hence, for all practical purposes, such disks are not re-sizable.</fo:block><fo:block id="creating-a-linux-image"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Creating a Linux Image – Ubuntu &amp; Fedora</fo:marker><fo:block font-size="17.28pt">Creating a Linux Image – Ubuntu &amp; Fedora</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first step would be to create a raw image on Client1. This will represent the main HDD of the virtual machine, so make sure to give it as much space as you will need.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1913">

kvm-img create -f raw server.img 5G
</fo:block><fo:block id="d399e1914"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">OS Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Download the iso file of the Linux distribution you want installed in the image. The instructions below are tested on Ubuntu 11.04 Natty Narwhal 64-bit server and Fedora 14 64-bit. Most of the instructions refer to Ubuntu. The points of difference between Ubuntu and Fedora are mentioned wherever required.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1917">

wget http://releases.ubuntu.com/natty/ubuntu-11.04-server-amd64.iso
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Boot a KVM Instance with the OS installer ISO in the virtual CD-ROM. This will start the installation process. The command below also sets up a VNC display at port 0</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1919">

sudo kvm -m 256 -cdrom ubuntu-11.04-server-amd64.iso -drive   file=server.img,if=scsi,index=0 -boot d -net nic -net user -nographic  -vnc :0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Connect to the VM through VNC (use display number :0) and finish the installation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For Example,  where 10.10.10.4 is the IP address of client1:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1922">

 vncviewer 10.10.10.4 :0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">During the installation of Ubuntu, create a single ext4 partition mounted on ‘/’. Do not create a swap partition.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the case of Fedora 14, the installation will not progress unless you create a swap partition. Please go ahead and create a swap partition.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After finishing the installation, relaunch the VM by executing the following command.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1926">
sudo kvm -m 256 -drive file=server.img,if=scsi,index=0,boot=on -boot c -net nic -net user -nographic -vnc :0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">At this point, you can add all the packages you want to have installed, update the installation, add users and make any configuration changes you want in your image.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">At the minimum, for Ubuntu you may run the following commands</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1929">

sudo apt-get update

sudo apt-get upgrade

sudo apt-get install openssh-server cloud-init
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For Fedora run the following commands as root</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1931">

yum update

yum install openssh-server

chkconfig sshd on
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Also remove the network persistence rules from /etc/udev/rules.d as their presence will result in the network interface in the instance coming up as an interface other than eth0.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1933">

sudo rm -rf /etc/udev/rules.d/70-persistent-net.rules
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Shutdown the Virtual machine and proceed with the next steps.</fo:block></fo:block><fo:block id="d399e1935"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Extracting the EXT4 partition</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The image that needs to be uploaded to OpenStack needs to be an ext4 filesystem image. Here are the steps to create a ext4 filesystem image from the raw image i.e server.img</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1938">

sudo losetup  -f  server.img

sudo losetup -a

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should see an output like this:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1940">

/dev/loop0: [0801]:16908388 ($filepath)
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Observe the name of the loop device ( /dev/loop0 in our setup) when $filepath is the path to the mounted .raw file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now we need to find out the starting sector of the partition. Run:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1943">

sudo fdisk -cul /dev/loop0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should see an output like this:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1945">

Disk /dev/loop0: 5368 MB, 5368709120 bytes

149 heads, 8 sectors/track, 8796 cylinders, total 10485760 sectors

Units = sectors of 1 * 512 = 512 bytes

Sector size (logical/physical): 512 bytes / 512 bytes

I/O size (minimum/optimal): 512 bytes / 512 bytes

Disk identifier: 0x00072bd4

Device Boot      Start         End      Blocks   Id  System

/dev/loop0p1   *        2048    10483711     5240832   83  Linux
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Make a note of the starting sector of the /dev/loop0p1 partition i.e the partition whose ID is 83. This number should be multiplied by 512 to obtain the correct value. In this case: 2048 x 512 = 1048576</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Unmount the loop0 device:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1948">

sudo losetup -d /dev/loop0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now mount only the partition(/dev/loop0p1) of server.img which we had previously noted down, by adding the -o parameter with value previously calculated value</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1950">

sudo losetup -f -o 1048576 server.img

sudo losetup -a

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You’ll see a message like this:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1952">

/dev/loop0: [0801]:16908388 ($filepath) offset 1048576
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Make a note of the mount point of our device(/dev/loop0 in our setup) when $filepath is the path to the mounted .raw file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the entire partition to a new .raw file</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1955">

sudo dd if=/dev/loop0 of=serverfinal.img
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now we have our ext4 filesystem image i.e serverfinal.img</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Unmount the loop0 device</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1958">

sudo losetup -d /dev/loop0
</fo:block></fo:block><fo:block id="d399e1959"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Tweaking /etc/fstab</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will need to tweak /etc/fstab to make it suitable for a cloud instance. Nova-compute may resize the disk at the time of launch of instances based on the instance type chosen. This can make the UUID of the disk invalid. Hence we have to use File system label as the identifier for the partition instead of the UUID.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Loop mount the serverfinal.img, by running</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1963">

sudo mount -o loop serverfinal.img /mnt
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit /mnt/etc/fstab and modify the line for mounting root partition(which may look like the following)</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1965">

UUID=e7f5af8d-5d96-45cc-a0fc-d0d1bde8f31c  /               ext4    errors=remount-ro  0       1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">to</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1967">

LABEL=uec-rootfs              /          ext4           defaults     0    0
</fo:block></fo:block><fo:block id="d399e1968"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Fetching Metadata in Fedora</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Since, Fedora does not ship with cloud-init or an equivalent, you will need to take a few steps to have the instance  fetch the meta data like ssh keys etc.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit the /etc/rc.local file and add the following lines before the line “touch /var/lock/subsys/local”</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1972">

depmod -a
modprobe acpiphp

# simple attempt to get the user ssh key using the meta-data service
mkdir -p /root/.ssh
echo &gt;&gt; /root/.ssh/authorized_keys
curl -m 10 -s http://169.254.169.254/latest/meta-data/public-keys/0/openssh-key | grep 'ssh-rsa' &gt;&gt; /root/.ssh/authorized_keys
echo "AUTHORIZED_KEYS:"
echo "************************"
cat /root/.ssh/authorized_keys
echo "************************"
</fo:block></fo:block></fo:block><fo:block id="d399e1973"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Kernel and Initrd for OpenStack</fo:marker><fo:block font-size="17.28pt">Kernel and Initrd for OpenStack</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the kernel and the initrd image from /mnt/boot to user home directory. These will be used later for creating and uploading a complete virtual image to OpenStack.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1976">

sudo cp /mnt/boot/vmlinuz-2.6.38-7-server /home/localadmin

sudo cp /mnt/boot/initrd.img-2.6.38-7-server /home/localadmin
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Unmount the Loop partition</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1978">

sudo umount  /mnt
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Change the filesystem label of serverfinal.img to ‘uec-rootfs’</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1980">

sudo tune2fs -L uec-rootfs serverfinal.img
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now, we have all the components of the image ready to be uploaded to OpenStack imaging server.</fo:block></fo:block><fo:block id="d399e1982"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Registering with OpenStack</fo:marker><fo:block font-size="17.28pt">Registering with OpenStack</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The last step would be to upload the images to Openstack Imaging Server glance. The files that need to be uploaded for the above sample setup of Ubuntu are: vmlinuz-2.6.38-7-server, initrd.img-2.6.38-7-server, serverfinal.img</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Run the following command</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1986">

uec-publish-image -t image --kernel-file vmlinuz-2.6.38-7-server --ramdisk-file initrd.img-2.6.38-7-server amd64 serverfinal.img bucket1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For Fedora, the process will be similar. Make sure that you use the right kernel and initrd files extracted above.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">uec-publish-image, like  several other commands from euca2ools, returns the prompt back immediately. However,  the upload process takes some time and the images will be usable only after the process is complete. You can keep checking the status using the command ‘euca-describe-images’ as mentioned below.</fo:block></fo:block><fo:block id="d399e1989"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Bootable Images</fo:marker><fo:block font-size="17.28pt">Bootable Images</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can register bootable disk images without associating kernel and ramdisk images. When you do not want the flexibility of using the same disk image with different kernel/ramdisk images, you can go for bootable disk images. This greatly simplifies the process of bundling and registering the images. However, the caveats mentioned in the introduction to this chapter apply.  Please note that the instructions below use server.img and you can skip all the cumbersome steps related to extracting the single ext4 partition.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1992">
euca-bundle-image -i server.img
euca-upload-bundle -b mybucket -m /tmp/server.img.manifest.xml
euca-register mybucket/server.img.manifest.xml
</fo:block></fo:block><fo:block id="d399e1993"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Image Listing</fo:marker><fo:block font-size="17.28pt">Image Listing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The status of the images that have been uploaded can be viewed by using euca-describe-images command. The output should like this:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e1996">

localadmin@client1:~$ euca-describe-images

IMAGE   ari-7bfac859    bucket1/initrd.img-2.6.38-7-server.manifest.xml  css     available           private         x86_64       ramdisk

IMAGE   ami-5e17eb9d    bucket1/serverfinal.img.manifest.xml       css     available               private         x86_64  machine      aki-3d0aeb08    ari-7bfac859

IMAGE   aki-3d0aeb08    bucket1/vmlinuz-2.6.38-7-server.manifest.xml     css     available           private         x86_64       kernel

localadmin@client1:~$
</fo:block></fo:block></fo:block><fo:block id="creating-a-windows-image"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Creating a Windows Image</fo:marker><fo:block font-size="20.735999999999997pt">Creating a Windows Image</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first step would be to create a raw image on Client1, this will represent the main HDD of the virtual machine, so make sure to give it as much space as you will need.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2000">
kvm-img create -f raw windowsserver.img 20G
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack presents the disk using aVIRTIO interface while launching the instance. Hence the OS needs to have drivers for VIRTIO. By default, the Windows Server 2008 ISO does not have the drivers for VIRTIO. Sso download a virtual floppy drive containing VIRTIO drivers from the following location</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="url(http://alt.fedoraproject.org/pub/alt/virtio-win/latest/images/bin/)"><fo:inline>http://alt.fedoraproject.org/pub/alt/virtio-win/latest/images/bin/</fo:inline></fo:basic-link></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">and attach it during the installation</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Start the installation by running</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2006">
sudo kvm -m 1024 -cdrom win2k8_dvd.iso -drive file=windowsserver.img,if=virtio,boot=on -fda virtio-win-1.1.16.vfd -boot d -nographic -vnc :0

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When the installation prompts you to choose  a hard disk device you won’t see any devices available. Click on “Load drivers” at the bottom left and load the drivers from A:\i386\Win2008</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After the Installation is over, boot into it once and install any additional applications you need to install and make any configuration changes you need to make.  Also ensure that RDP is enabled as that would be the only way you can connect to a running instance of Windows. Windows firewall needs to be configured to allow incoming ICMP and RDP connections.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For OpenStack to allow incoming RDP Connections, use euca-authorize command to open up port 3389 as described in the chapter  on “Security”.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Shut-down the VM and upload the image to OpenStack</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2011">
euca-bundle-image -i windowsserver.img
euca-upload-bundle -b mybucket -m /tmp/windowsserver.img.manifest.xml
euca-register mybucket/windowsserver.img.manifest.xml
</fo:block></fo:block><fo:block id="understanding-the-compute-service-architecture"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Understanding the Compute Service Architecture</fo:marker><fo:block font-size="20.735999999999997pt">Understanding the Compute Service Architecture</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These basic categories describe the service architecture and what's going on within the cloud controller.</fo:block><fo:block id="d399e2015"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">API Server</fo:marker><fo:block font-size="17.28pt">API Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">At the heart of the cloud framework is an API Server. This API Server makes command and control of the hypervisor, storage, and networking programmatically available to users in realization of the definition of cloud computing.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The API endpoints are basic http web services which handle authentication, authorization, and basic command and control functions using various API interfaces under the Amazon, Rackspace, and related models. This enables API compatibility with multiple existing tool sets created for interaction with offerings from other vendors. This broad compatibility prevents vendor lock-in.
            </fo:block></fo:block><fo:block id="d399e2019"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Message Queue</fo:marker><fo:block font-size="17.28pt">Message Queue</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            A messaging queue brokers the interaction between compute nodes (processing), volumes (block storage), the networking controllers (software which controls network infrastructure), API endpoints, the scheduler (determines which physical hardware to allocate to a virtual resource), and similar components. Communication to and from the cloud controller is by HTTP requests through multiple API endpoints.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">            A typical message passing event begins with the API server receiving a request from a user. The API server authenticates the user and ensures that the user is permitted to issue the subject command. Availability of objects implicated in the request is evaluated and, if available, the request is routed to the queuing engine for the relevant workers. Workers continually listen to the queue based on their role, and occasionally their type hostname. When such listening produces a work request, the worker takes assignment of the task and begins its execution. Upon completion, a response is dispatched to the queue which is received by the API server and relayed to the originating user. Database entries are queried, added, or removed as necessary throughout the process.
</fo:block></fo:block><fo:block id="d399e2023"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Compute Worker</fo:marker><fo:block font-size="17.28pt">Compute Worker</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Compute workers manage computing instances on host machines. Through the API, commands are dispatched to compute workers to:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2026"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2027"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Run instances</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2029"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Terminate instances</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2031"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Reboot instances</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2033"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Attach volumes</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2035"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Detach volumes</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2037"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Get console output</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="d399e2039"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Network Controller</fo:marker><fo:block font-size="17.28pt">Network Controller</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Network Controller manages the networking resources on host machines. The API server dispatches commands through the message queue, which are subsequently processed by Network Controllers. Specific operations include:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2042"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2043"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Allocate fixed IP addresses</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2045"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configuring VLANs for projects</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2047"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configuring networks for compute nodes</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="d399e2049"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Volume Workers</fo:marker><fo:block font-size="17.28pt">Volume Workers</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Volume Workers interact with iSCSI storage to manage LVM-based instance volumes. Specific functions include:
            </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2052"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2053"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create volumes</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2055"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Delete volumes</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2057"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Establish Compute volumes</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Volumes may easily be transferred between instances, but may be attached to only a single instance at a time.</fo:block></fo:block></fo:block><fo:block id="managing-the-cloud"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Managing the Cloud</fo:marker><fo:block font-size="20.735999999999997pt">Managing the Cloud</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are two main tools that a system administrator will find useful to manage their cloud;
            the nova-manage command or the Euca2ools command line commands. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With the Diablo release, the nova-manage command has been deprecated and you must
            specify if you want to use it by using the --use_deprecated_auth flag in nova.conf. You
            must also use the modified middleware stack that is commented out in the default
            paste.ini file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The nova-manage command may only be run by users with admin privileges. Commands for
            euca2ools can be used by all users, though specific commands may be restricted by Role
            Based Access Control in the deprecated nova auth system. </fo:block><fo:block id="d399e2065"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Using the nova-manage command</fo:marker><fo:block font-size="17.28pt">Using the nova-manage command</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The nova-manage command may be used to perform many essential functions for
                administration and ongoing maintenance of nova, such as user creation, vpn
                management, and much more.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The standard pattern for executing a nova-manage command is: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2069">nova-manage category command [args]</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For example, to obtain a list of all projects: nova-manage project list</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Run without arguments to see a list of available command categories: nova-manage</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Command categories are: account, agent, config, db, fixed, flavor, floating, host,
                instance_type, image, network, project, role, service, shell, user, version, vm,
                volume, and vpn. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can also run with a category argument such as user to see a list of all commands in that category: nova-manage user</fo:block></fo:block></fo:block><fo:block id="managing-compute-users"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Managing Compute Users</fo:marker><fo:block font-size="20.735999999999997pt">Managing Compute Users</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access to the Euca2ools (ec2) API is controlled by an access and secret key. The
                user’s access key needs to be included in the request, and the request must be
                signed with the secret key. Upon receipt of API requests, Compute will verify the
                signature and execute commands on behalf of the user. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In order to begin using nova, you will need to create a user. This can be easily
            accomplished using the user create or user admin commands in nova-manage. user create
            will create a regular user, whereas user admin will create an admin user. The syntax of
            the command is nova-manage user create username [access] [secretword]. For example: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2078">nova-manage user create john my-access-key a-super-secret-key</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you do not specify an access or secret key, a random uuid will be created
                automatically.</fo:block><fo:block id="d399e2080"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Credentials</fo:marker><fo:block font-size="17.28pt">Credentials</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Nova can generate a handy set of credentials for a user. These credentials include a CA for bundling images and a file for setting environment variables to be used by euca2ools. If you don’t need to bundle images, just the environment script is required. You can export one with the project environment command. The syntax of the command is nova-manage project environment project_id user_id [filename]. If you don’t specify a filename, it will be exported as novarc. After generating the file, you can simply source it in bash to add the variables to your environment:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2083">
        nova-manage project environment john_project john
        . novarc</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you do need to bundle images, you will need to get all of the credentials using project zipfile. Note that zipfile will give you an error message if networks haven’t been created yet. Otherwise zipfile has the same syntax as environment, only the default file name is nova.zip. Example usage:
        </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2085">
        nova-manage project zipfile john_project john
        unzip nova.zip
        . novarc
        </fo:block></fo:block><fo:block id="d399e2086"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Role Based Access Control</fo:marker><fo:block font-size="17.28pt">Role Based Access Control</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Roles control the API actions that a user is allowed to perform. For example, a user
                cannot allocate a public ip without the netadmin role. It is important to remember
                that a users de facto permissions in a project is the intersection of user (global)
                roles and project (local) roles. So for john to have netadmin permissions in his
                project, he needs to separate roles specified. You can add roles with role add. The
                syntax is nova-manage role add user_id role [project_id]. Let’s give john the
                netadmin role for his project:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2089">        nova-manage role add john netadmin
        nova-manage role add john netadmin john_project</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Role-based access control (RBAC) is an approach to restricting system access to authorized users based on an individual's role within an organization. Various employee functions require certain levels of system access in order to be successful. These functions are mapped to defined roles and individuals are categorized accordingly. Since users are not assigned permissions directly, but only acquire them through their role (or roles), management of individual user rights becomes a matter of assigning appropriate roles to the user. This simplifies common operations, such as adding a user, or changing a user’s department.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Nova’s rights management system employs the RBAC model and currently supports the following five roles:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2092"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2093"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Cloud Administrator. (cloudadmin) Users of this class enjoy complete system access.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2095"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>IT Security. (itsec) This role is limited to IT security personnel. It permits role holders to quarantine instances.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2097"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>System Administrator. (sysadmin)The default for project owners, this role affords users the ability to add other users to a project, interact with project images, and launch and terminate instances.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2099"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Network Administrator. (netadmin) Users with this role are permitted to allocate and assign publicly accessible IP addresses as well as create and modify firewall rules.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2101"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Developer. This is a general purpose role that is assigned to users by default.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2103"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Project Manager. (projectmanager) This is a role that is assigned upon project creation and can't be added or removed, but this role can do anything a sysadmin can do.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">RBAC management is exposed through the dashboard for simplified user management.</fo:block></fo:block></fo:block><fo:block id="managing-volumes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Managing Volumes</fo:marker><fo:block font-size="20.735999999999997pt">Managing Volumes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Nova-volume is the service that allows you to give extra block level storage to your
            OpenStack Compute instances. You may recognize this as a similar offering that Amazon
            EC2 offers, Elastic Block Storage (EBS). However, nova-volume is not the same
            implementation that EC2 uses today. Nova-volume is an iSCSI solution that employs the
            use of Logical Volume Manager (LVM) for Linux. Note that a volume may only be attached
            to one instance at a time. This is not a ‘shared storage’ solution like a SAN of NFS on
            which multiple servers can attach to.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Before going any further ; let's present the nova-volume implementation in OpenStack
            : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The nova-volumes service uses iSCSI-exposed LVM volumes to the compute nodes which run
            instances. Thus, there are two components involved: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e2112"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2113"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>lvm2, which works with a VG called "nova-volumes" (Refer to
                    <fo:basic-link external-destination="url(http://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux))"><fo:inline>http://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)</fo:inline></fo:basic-link>
                        for further details)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2116"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>open-iscsi, the iSCSI implementation which manages iSCSI sessions on the compute nodes </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is what happens from the volume creation to its attachment (we use here the
            euca2ools, but the same explanation goes with the API): </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e2119"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2120"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The volume is created via $euca-create-volume; which creates an LV into the
                    volume group (VG) "nova-volumes" </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2122"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The volume is attached to an instance via $euca-attach-volume; which creates a
                    unique iSCSI IQN that will be exposed to the compute node. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2124"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The compute node which run the concerned instance has now an active ISCSI
                    session; and a new local storage (usually a /dev/sdX disk) </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2126"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>libvirt uses that local storage as a storage for the instance; the instance
                    get a new disk (usually a /dev/vdX disk) </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For this particular walkthrough, there is one cloud controller running nova-api,
            nova-compute, nova-scheduler, nova-objectstore, nova-network and nova-volume services. There are
            two additional compute nodes running nova-compute. The walkthrough uses a custom
            partitioning scheme that carves out 60GB of space and labels it as LVM. The network is a
            /28 .80-.95, and FlatManger is the NetworkManager setting for OpenStack Compute (Nova). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Please note that the network mode doesn't interfere at all the way nova-volume works,
            but it is essential for nova-volumes to work that the mode you are currently using is
            set up. Please refer to the Section 7 "Networking" for more details.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To set up Compute to use volumes, ensure that nova-volume is installed along with
            lvm2. The guide will be split in three parts : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2132"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2133"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A- Installing the nova-volume service on the cloud controller.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2135"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>B- Configuring the nova-volumes volume group on the compute nodes.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2137"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>C- Troubleshooting your nova-volumes installation.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
        </fo:block><fo:block id="d399e2139"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">A- Install nova-volumes on the cloud controller.</fo:marker><fo:block font-size="17.28pt">A- Install nova-volumes on the cloud controller.</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This is simply done by installing the two components on the cloud controller : <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2142"><fo:inline font-family="monospace">apt-get install lvm2 nova-volume</fo:inline></fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2144"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2145"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                            <fo:inline font-weight="bold">Configure Volumes for use with
                                nova-volumes</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you do not already have LVM volumes on hand, but have free drive
                            space, you will need to create a LVM volume before proceeding. Here is a
                            short run down of how you would create a LVM from free drive space on
                            your system. Start off by issuing an fdisk command to your drive with
                            the free space:
                            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2149"><fo:inline font-family="monospace">fdisk /dev/sda</fo:inline></fo:block>
                            Once in fdisk, perform the following commands: <fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e2151"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2152"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press ‘<fo:inline font-family="monospace">n'</fo:inline> to create a new disk
                                        partition,</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2155"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'p'</fo:inline> to create a primary disk
                                        partition,</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2158"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'1'</fo:inline> to denote it as 1st disk
                                        partition,</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2161"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Either press ENTER twice to accept the default of 1st and
                                        last cylinder – to convert the remainder of hard disk to a
                                        single disk partition -OR- press ENTER once to accept the
                                        default of the 1st, and then choose how big you want the
                                        partition to be by specifying +size{K,M,G} e.g. +5G or
                                        +6700M.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2163"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'t', then</fo:inline> select the new partition you
                                        made.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2166"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'8e'</fo:inline> change your new partition to 8e,
                                        i.e. Linux LVM partition type.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2169"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press ‘<fo:inline font-family="monospace">p'</fo:inline> to display the hard disk partition
                                        setup. Please take note that the first partition is denoted
                                        as /dev/sda1 in Linux.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2172"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'w'</fo:inline> to write the partition table and
                                        exit fdisk upon completion.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Refresh your partition table to ensure your new partition
                                        shows up, and verify with fdisk. We then inform the OS about
                                        the table partition update : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2177"><fo:inline font-family="monospace">partprobe</fo:inline>

Again :
<fo:inline font-family="monospace">fdisk -l (you should see your new partition in this listing)</fo:inline></fo:block>
                                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is how you can set up partitioning during the OS
                                        install to prepare for this nova-volume
                                        configuration:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">root@osdemo03:~# fdisk -l </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2183">
Device Boot Start End Blocks Id System

/​dev/​sda1 * 1 12158 97280 83 Linux
/​dev/​sda2 12158 24316 97655808 83 Linux

/​dev/​sda3 24316 24328 97654784 83 Linux
/​dev/​sda4 24328 42443 145507329 5 Extended

<fo:inline font-weight="bold">/​dev/​sda5 24328 32352 64452608 8e Linux LVM</fo:inline>
<fo:inline font-weight="bold">/​dev/​sda6 32352 40497 65428480 8e Linux LVM</fo:inline>

/​dev/​sda7 40498 42443 15624192 82 Linux swap /​ Solaris
</fo:block>
                                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that you have identified a partition has been labeled
                                        for LVM use, perform the following steps to configure LVM
                                        and prepare it as nova-volumes. <fo:inline font-weight="bold">You
                                            must name your volume group ‘nova-volumes’ or things
                                            will not work as expected</fo:inline>:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2188"><fo:inline font-family="monospace">pvcreate /dev/sda5
vgcreate nova-volumes /dev/sda5</fo:inline> </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="d399e2190"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker"> B- Configuring nova-volumes on the compute nodes</fo:marker><fo:block font-size="17.28pt"> B- Configuring nova-volumes on the compute nodes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Since you have created the volume group, you will be able to use the following
                tools for managing your volumes : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">euca-create-volume</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">euca-attach-volume</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">euca-detach-volume</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">euca-delete-volume</fo:inline></fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2201"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2202"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        <fo:inline font-weight="bold">Installing and configuring the iSCSI
                            initiator</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Remember that every node will act as the iSCSI initiator while the server
                        running nova-volumes will act as the iSCSI target. So make sure, before
                        going further that your nodes can communicate with you nova-volumes server.
                        If you have a firewall running on it, make sure that the port 3260 (tcp)
                        accepts incoming connections. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First install the open-iscsi package <fo:inline font-weight="bold">on your
                            compute-nodes only :</fo:inline>
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2208"><fo:inline font-family="monospace">apt-get install open-iscsi</fo:inline> </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You have to enable it so the startut script (/etc/init.d/open-iscsi) will
                        work :
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2211"><fo:inline font-family="monospace">sed -i ‘s/false/true/g’ /etc/default/iscsitarget</fo:inline></fo:block>
                        Then run :
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2213"><fo:inline font-family="monospace">service iscsitarget start</fo:inline></fo:block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2215"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">Configure nova.conf flag file</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit your nova.conf to include a new flag, "–iscsi_ip_prefix=192.168." The
                        flag will be used by the compute node when the iSCSI discovery will be
                        performed and the session created. The prefix based on the two first bytes
                        will allows the iSCSI discovery to use all the available routes (also known
                        as multipathing) to the iSCSI server (eg. nova-volumes) into your network.
                        We will see into the "Troubleshooting" section how to deal with ISCSI
                        sessions.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2219"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        <fo:inline font-weight="bold">Start nova-volume and create volumes</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You are now ready to fire up nova-volume, and start creating
                        volumes!</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2224"><fo:inline font-family="monospace">service nova-volume start</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once the service is started, login to your controller and ensure you’ve
                        properly sourced your ‘novarc’ file. You will be able to use the euca2ools
                        related to volumes interactions (see above).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">One of the first things you should do is make sure that nova-volume is
                        checking in as expected. You can do so using nova-manage:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2229"><fo:inline font-family="monospace">nova-manage service list</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you see a smiling ‘nova-volume’ in there, you are looking good. Now
                        create a new volume:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2233"><fo:inline font-family="monospace">euca-create-volume -s 7 -z nova </fo:inline> (-s refers to the size of the volume in GB, and -z is the default zone (usually nova))</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should get some output similar to this:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2237">VOLUME vol-0000000b 7 creating (wayne,​ None,​ None,​ None) 2011-02-11 06:58:46.​941818</fo:block>
                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can view that status of the volumes creation using
                        ‘euca-describe-volumes’. Once that status is ‘available,’ it is ready to be
                        attached to an instance:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2240"><fo:inline font-family="monospace">euca-attach-volume -i i-00000008 -d /dev/vdb vol-00000009</fo:inline></fo:block> (-i refers to the instance you will attach the volume to, -d is the mountpoint<fo:inline font-weight="bold"> (on the compute-node !</fo:inline> and then the volume name.)</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By doing that, the compute-node which runs the instance basically performs
                        an iSCSI connection and creates a session. You can ensure that the session
                        has been created by running : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">iscsciadm -m session </fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Which should output : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                        <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2248">root@nova-cn1:~# iscsiadm -m session
tcp: [1] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-0000000b</fo:block>
                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you do not get any errors, it is time to login to instance ‘i-00000008′
                        and see if the new space is there. You can check the volume attachment by
                        running : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">dmesg | tail </fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should from there see a new disk. Here is the output from ‘fdisk -l’
                        from i-00000008:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2253">Disk /​dev/​vda: 10.​7 GB,​ 10737418240 bytes
16 heads,​ 63 sectors/​track,​ 20805 cylinders
Units =​ cylinders of 1008 * 512 =​ 516096 bytes
Sector size (logical/​physical): 512 bytes /​ 512 bytes
I/​O size (minimum/​optimal): 512 bytes /​ 512 bytes
Disk identifier: 0×00000000
Disk /​dev/​vda doesn’t contain a valid partition table
<fo:inline font-weight="bold">Disk /​dev/​vdb: 21.​5 GB,​ 21474836480 bytes &lt;—–Here is our new volume!</fo:inline>
16 heads,​ 63 sectors/​track,​ 41610 cylinders
Units =​ cylinders of 1008 * 512 =​ 516096 bytes
Sector size (logical/​physical): 512 bytes /​ 512 bytes
I/​O size (minimum/​optimal): 512 bytes /​ 512 bytes Disk identifier: 0×00000000 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now with the space presented, let’s configure it for use:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2257"><fo:inline font-family="monospace">fdisk /dev/vdb</fo:inline></fo:block></fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e2259"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2260"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press ‘<fo:inline font-family="monospace">n'</fo:inline> to create a new disk partition.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2263"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'p'</fo:inline> to create a primary disk partition.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2266"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'1'</fo:inline> to denote it as 1st disk partition.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2269"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press ENTER twice to accept the default of 1st and last cylinder –
                                to convert the remainder of hard disk to a single disk
                                partition.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2271"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'t', then</fo:inline> select the new partition you
                                made.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2274"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'83'</fo:inline> change your new partition to 83, i.e.
                                Linux partition type.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2277"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press ‘<fo:inline font-family="monospace">p'</fo:inline> to display the hard disk partition setup.
                                Please take note that the first partition is denoted as /dev/vda1 in
                                your instance.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2280"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Press <fo:inline font-family="monospace">'w'</fo:inline> to write the partition table and exit fdisk
                                upon completion.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2283"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Lastly, make a file system on the partition and mount it.
                                <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2285">mkfs.​ext3 /​dev/​vdb1
mkdir /​extraspace
mount /​dev/​vdb1 /​extraspace </fo:block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Your new volume has now been successfully mounted, and is ready for use!
                        The ‘euca’ commands are pretty self-explanatory, so play around with them
                        and create new volumes, tear them down, attach and reattach, and so on.
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="d399e2287"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">C- Troubleshoot your nova-volumes installation</fo:marker><fo:block font-size="17.28pt">C- Troubleshoot your nova-volumes installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the volume attachment doesn't work, you should be able to perform different
                checks in order to see where the issue is. The nova-volume.log and nova-compute.log
                will help you to diagnosis the errors you could encounter : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">nova-compute.log / nova-volume.log</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2293"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2294"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-style="italic">ERROR "15- already exists"</fo:inline>
                            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2297">"ProcessExecutionError: Unexpected error while running command.​\​nCommand: sudo iscsiadm -m node -T iqn.​2010-10.​org.​openstack:volume-00000001 -p
10.​192.​12.​34:3260 --login\​nExit code: 255\​nStdout: 'Logging in to [iface: default,​ target: iqn.​2010-10.​org.​openstack:volume-00000001,​ portal:
10.​192.​12.​34,​3260]\​\​n'\​nStderr: 'iscsiadm: Could not login to [iface: default,​ target: iqn.​2010-10.​org.​openstack:volume-00000001,​
portal:10.​192.​12.​34,​3260]: openiscsiadm: initiator reported error (15 - already exists)\​\​n'\​n"] </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This errors happens sometimes when you run an euca-detach-volume and
                            euca-attach-volume and/ or try to attach another volume to an instance.
                            It happens when the compute node has a running session while you try to
                            attach a volume by using the same IQN. You could check that by running : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2300"><fo:inline font-family="monospace">iscsiadm -m session</fo:inline></fo:block>
                            You should have a session with the same name that the compute is trying
                            to open. Actually, it seems to be related to the several routes
                            available for the iSCSI exposition, those routes could be seen by
                            running on the compute node :
                            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2302"><fo:inline font-family="monospace">iscsiadm -m discovery -t st -p $ip_of_nova-volumes</fo:inline></fo:block>
                            You should see for a volume multiple addresses to reach it. The only
                            known workaround to that is to change the "–iscsi_ip_prefix" flag and
                            use the 4 bytes (full IP) of the nova-volumes server, eg : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2305"><fo:inline font-family="monospace">"–iscsi_ip_prefix=192.168.2.1</fo:inline></fo:block>
                            You'll have then to restart both nova-compute and nova-volume services. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2307"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-style="italic">ERROR "Cannot resolve host"</fo:inline>
                            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2310">(nova.​root): TRACE: ProcessExecutionError: Unexpected error while running command.​
(nova.​root): TRACE: Command: sudo iscsiadm -m discovery -t sendtargets -p ubuntu03c
(nova.​root): TRACE: Exit code: 255
(nova.​root): TRACE: Stdout: ''
(nova.​root): TRACE: Stderr: 'iscsiadm: Cannot resolve host ubuntu03c.​ getaddrinfo error: [Name or service not known]\​n\​niscsiadm: 
cannot resolve host name ubuntu03c\​niscsiadm: Could not perform SendTargets discovery.​\​n'
(nova.​root): TRACE:</fo:block>This
                            error happens when the compute node is unable to resolve the nova-volume
                            server name. You could either add a record for the server if you have a
                            DNS server; or add it into the "/etc/hosts" file of the nova-compute. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2311"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-style="italic">ERROR "No route to host"</fo:inline>
                            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2314">iscsiadm: cannot make connection to 172.​29.​200.​37: No route to host\​niscsiadm: cannot make connection to 172.​29.​200.​37</fo:block>
                            This error could be caused by several things, but<fo:inline font-weight="bold">
                                it means only one thing : openiscsi is unable to establish a
                                communication with your nova-volumes server</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first thing you could do is running a telnet session in order to
                            see if you are able to reach the nova-volume server. From the
                            compute-node, run :</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2317"><fo:inline font-family="monospace">telnet $ip_of_nova_volumes  3260</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If the session times out, check the server firewall ; or try to ping
                            it. You could also run a tcpdump session which will likely gives you
                            extra information : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2320"><fo:inline font-family="monospace">tcpdump -nvv -i $iscsi_interface port dest $ip_of_nova_volumes</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Again, try to manually run an iSCSI discovery via : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2323"><fo:inline font-family="monospace">iscsiadm -m discovery -t st -p $ip_of_nova-volumes</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2325"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-style="italic">"Lost connectivity between nova-volumes and
                                node-compute ; how to restore a clean state ?"</fo:inline>
                        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Network disconnection can happens, from an "iSCSI view", losing
                            connectivity could be seen as a physical removal of a server's disk. If
                            the instance runs a volume while you loose the network between them, you
                            won't be able to detach the volume. You would encounter several errors.
                            Here is how you could clean this : </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, from the nova-compute, close the active (but stalled) iSCSI
                            session, refer to the volume attached to get the session, and perform
                            the following command : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2330"><fo:inline font-family="monospace">iscsiadm -m session -r $session_id -u</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is an <fo:inline font-family="monospace">iscsi -m session</fo:inline> output : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2334">
tcp: [1] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-0000000e
tcp: [2] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-00000010
tcp: [3] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-00000011
tcp: [4] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-0000000a
tcp: [5] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-00000012
tcp: [6] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-00000007
tcp: [7] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-00000009
tcp: [9] 172.​16.​40.​244:3260,​1 iqn.​2010-10.​org.​openstack:volume-00000014                        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">I would close the session number 9 if I want to free the volume
                            00000014. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The cloud-controller is actually unaware about the iSCSI session
                            closing, and will keeps the volume state as "in-use":
                            <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2337">VOLUME  vol-00000014     30     nova    in-use (nuage-and-co,​ nova-cc1,​ i-0000009a[nova-cn1],​ \​/​dev\​/​sdb)   2011-07-18T12:45:39Z</fo:block>You
                            now have to inform it that the disk can be used. Nova stores the volumes
                            info into the "volumes" table. You will have to update four fields into
                            the database nova uses (eg. MySQL). First, conect to the database : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2338"><fo:inline font-family="monospace">mysql -uroot -p$password nova</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Then, we get some information from the table "volumes" : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2341">
 mysql&gt; select id,​created_at,​ size,​ instance_id,​ status,​ attach_status,​ display_name from volumes;
+----+---------------------+------+-------------+----------------+---------------+--------------+
| id | created_at          | size | instance_id | status         | attach_status | display_name |
+----+---------------------+------+-------------+----------------+---------------+--------------+
|  1 | 2011-06-08 09:02:49 |    5 |           0 | available      | detached      | volume1      |
|  2 | 2011-06-08 14:04:36 |    5 |           0 | available      | detached      | NULL         |
|  3 | 2011-06-08 14:44:55 |    5 |           0 | available      | detached      | NULL         |
|  4 | 2011-06-09 09:09:15 |    5 |           0 | error_deleting | detached      | NULL         |
|  5 | 2011-06-10 08:46:33 |    6 |           0 | available      | detached      | NULL         |
|  6 | 2011-06-10 09:16:18 |    6 |           0 | available      | detached      | NULL         |
|  7 | 2011-06-16 07:45:57 |   10 |         157 | in-use         | attached      | NULL         |
|  8 | 2011-06-20 07:51:19 |   10 |           0 | available      | detached      | NULL         |
|  9 | 2011-06-21 08:21:38 |   10 |         152 | in-use         | attached      | NULL         |
| 10 | 2011-06-22 09:47:42 |   50 |         136 | in-use         | attached      | NULL         |
| 11 | 2011-06-30 07:30:48 |   50 |           0 | available      | detached      | NULL         |
| 12 | 2011-06-30 11:56:32 |   50 |           0 | available      | detached      | NULL         |
| 13 | 2011-06-30 12:12:08 |   50 |           0 | error_deleting | detached      | NULL         |
| 14 | 2011-07-04 12:33:50 |   30 |         155 | in-use         | attached      | NULL         |
| 15 | 2011-07-06 15:15:11 |    5 |           0 | error_deleting | detached      | NULL         |
| 16 | 2011-07-07 08:05:44 |   20 |         149 | in-use         | attached      | NULL         |
| 20 | 2011-08-30 13:28:24 |   20 |         158 | in-use         | attached      | NULL         |
| 17 | 2011-07-13 19:41:13 |   20 |         149 | in-use         | attached      | NULL         |
| 18 | 2011-07-18 12:45:39 |   30 |         154 | in-use         | attached      | NULL         |
| 19 | 2011-08-22 13:11:06 |   50 |           0 | available      | detached      | NULL         |
| 21 | 2011-08-30 15:39:16 |    5 |        NULL | error_deleting | detached      | NULL         |
+----+---------------------+------+-------------+----------------+---------------+--------------+
21 rows in set (0.​00 sec)</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Once you get the volume id, you will have to run the following sql
                            queries (let's say, my volume 14 as the id number 21 : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2343">
            mysql&gt; update volumes set mountpoint=​NULL where id=​21;
            mysql&gt; update volumes set status=​"available" where status "error_deleting" where id=​21;
            mysql&gt; update volumes set attach_status=​"detached" where id=​21;
            mysql&gt; update volumes set instance_id=​0 where id=​21;
                        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now if you run again <fo:inline font-family="monospace">euca-describe-volumes</fo:inline>from the cloud
                            controller, you should see an available volume now : </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2346">VOLUME  vol-00000014     30     nova    available (nuage-and-co,​ nova-cc1,​ None,​ None)  2011-07-18T12:45:39Z</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can now proceed to the volume attachment again!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
            </fo:block></fo:block></fo:block><fo:block id="live-migration-usage"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Using Live Migration</fo:marker><fo:block font-size="20.735999999999997pt">Using Live Migration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Before starting live migration, check "Configuring Live Migration" sections.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Live migration provides a scheme to migrate running instances from one OpenStack
            Compute server to another OpenStack Compute server. No visible downtime and no
            transaction loss is the ideal goal. This feature can be used as depicted below. </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2352"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2353"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>First, make sure any instances running on a specific server.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2355">
# euca-describe-instances
Reservation:r-2raqmabo
RESERVATION   r-2raqmabo    admin   default
INSTANCE      i-00000003    ami-ubuntu-lucid      a.​b.​c.​d  e.​f.​g.​h      running     testkey (admin,​ HostB)  0             m1.​small     2011-02-15 07:28:32   nova
                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> In this example, i-00000003 is running on HostB.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2357"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Second, pick up other server where instances are migrated to.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2359">
# nova-manage service list
HostA nova-scheduler enabled  :-) None
HostA nova-volume enabled  :-) None
HostA nova-network enabled  :-) None
HostB nova-compute enabled  :-) None
HostC nova-compute enabled  :-) None
                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> In this example, HostC can be picked up because nova-compute is running onto it.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2361"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Third, check HostC has enough resource for live migration.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2363">
# nova-manage service update_resource HostC
# nova-manage service describe_resource HostC
HOST             PROJECT     cpu   mem(mb) disk(gb)
HostC(total)                  16     32232     878
HostC(used)                   13     21284     442
HostC            p1            5     10240     150
HostC            p2            5     10240     150
.​.​.​.​.​
                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Remember to use update_resource first, then describe_resource. Otherwise,
                    Host(used) is not updated.</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2365"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2366"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">cpu:</fo:inline>the nuber of cpu</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2369"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">mem(mb):</fo:inline>total amount of memory (MB)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2372"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">disk(gb)</fo:inline>total amount of NOVA-INST-DIR/instances(GB)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2375"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">1st line shows </fo:inline>total amount of resource physical server has.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2378"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">2nd line shows </fo:inline>current used resource.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2381"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-weight="bold">3rd line and under</fo:inline> is used resource per project.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2384"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Finally, live migration</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2386">
# nova-manage vm live_migration i-00000003 HostC
Migration of i-00000001 initiated.​ Check its progress using euca-describe-instances.​
                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Make sure instances are migrated successfully with euca-describe-instances.
                    If instances are still running on HostB, check logfiles( src/dest nova-compute
                    and nova-scheduler)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="reference-for-flags-in-nova-conf"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Reference for Flags in nova.conf</fo:marker><fo:block font-size="20.735999999999997pt">Reference for Flags in nova.conf</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For a complete list of all available flags for each OpenStack Compute service,
            run bin/nova-&lt;servicename&gt; --help. </fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e2391"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 8.1. Description of common nova.conf flags (nova-api, nova-compute)</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ajax_console_proxy_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '8000'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Port value; port to which the ajax console proxy server binds</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ajax_console_proxy_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'ajax_proxy'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Topic that the ajax proxy nodes listen on</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ajax_console_proxy_url</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'http://127.0.0.1:8000'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address plus port value; Location of the ajax console proxy and port</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--auth_token_ttl</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '3600'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Seconds; Amount of time for auth tokens to linger, must be an integer
                        value</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--aws_access_key_id</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'admin'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Username; ID that accesses AWS if necessary</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--aws_secret_access_key</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'admin'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Password key; The secret access key that pairs with the AWS ID for
                        connecting to AWS if necessary</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--compute_manager</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.compute.manager.ComputeManager</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Manager for Compute which handles remote procedure calls
                        relating to creating instances</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--compute_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'compute'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Names the topic that compute nodes listen on</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--connection_type</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'libvirt'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value libvirt, xenapi or fake; Virtualization driver for spawning
                        instances</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--console_manager</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.console.manager.ConsoleProxyManager'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Manager for console proxy</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--console_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'console'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; The topic console proxy nodes listen on</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--control_exchange</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default:nova</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Name of the main exchange to connect to</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--default_image</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'ami-11111'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Name of an image; Names the default image to use, testing purposes only</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--db_backend</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'sqlalchemy'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The backend selected for the database connection</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--db_driver</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.db.api'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The drive to use for database access</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--default_instance_type</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'm1.small'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Name of an image; Names the default instance type to use, testing purposes
                        only</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--default_log_levels</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'amqplib=WARN,sqlalchemy=WARN,eventlet.wsgi.server=WARN'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Pair of named loggers and level of message to be logged; List of
                        logger=LEVEL pairs</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--default_project</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'openstack'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Name of a project; Names the default project for openstack</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_dmz_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP Address; Internal IP of API server (a DMZ is shorthand for a
                        demilitarized zone)</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP Address; External-facing IP of API server</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_listen_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '8773'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Port value; Port that the server is listening on so you can specify a listen_host / port value for the server (not for clients).</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '/services/Cloud'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Suffix for EC2-style URL where nova-api resides</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '8773'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Port value; Cloud controller port (where nova-api resides)</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_scheme</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'http'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Protocol; Prefix for EC2-style URLs where nova-api resides</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--ec2_url</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>none</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Deprecated - HTTP URL; Location to interface nova-api. Example:
                        http://184.106.239.134:8773/services/Cloud</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--flat_injected</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Indicates whether Compute (Nova) should use attempt to inject IPv6 network configuration information into the guest. It attempts to modify /etc/network/interfaces and currently only works on Debian-based systems.  </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--fixed_ip_disassociate_timeout</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '600'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer: Number of seconds after which a deallocated ip is disassociated. </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--fixed_range</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10.0.0.0/8'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Fixed IP address block of addresses from which a set of iptables rules is created</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--fixed_range_v6</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'fd00::/48'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Fixed IPv6 address block of addresses</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]flat_injected</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'true'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Indicates whether to attempt to inject network setup into guest; network injection only works for Debian systems</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--flat_interface</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>FlatDhcp will bridge into this interface</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--flat_network_bridge</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Bridge for simple network instances, formerly defaulted to br100; required
                        setting for Flat DHCP</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--flat_network_dhcp_start</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10.0.0.2'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Starting IP address for the DHCP server to start handing out IP addresses when using FlatDhcp </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--flat_network_dns</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '8.8.4.4'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>DNS for simple network </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--floating_range</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '4.4.4.0/24'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Floating IP address block </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]fake_network</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Indicates whether Compute (Nova) should use fake network devices and
                        addresses</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]enable_new_services</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'true'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Services to be added to the available pool when creating services using
                        nova-manage</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]fake_rabbit</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Indicates whether Compute (Nova) should use a fake rabbit server</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--glance_api_servers</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip:9292'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>List of Glance API hosts. Each item may contain a host (or IP address) and
                        port of an OpenStack Compute Image Service server (project's name is
                        Glance)</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>-?, --[no]help</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block/></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Show this help.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]helpshort</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block/></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Show usage only for this module.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--[no]helpxml</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block/></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Show this help, but with XML output instead of text</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Name of the node where the cloud controller is hosted</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--image_service</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.image.s3.S3ImageService'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The service to use for retrieving and searching for images. Images must be registered using
                            euca2ools. Options: </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2576"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2577"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.image.s3.S3ImageService</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">S3 backend for the Image Service.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2580"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.image.local.LocalImageService</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Image service storing images to local disk. It assumes that image_ids are integers.  This is the default setting if no image manager is defined here.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2583"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.image.glance.GlanceImageService</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Glance back end for storing and retrieving images; See <fo:basic-link external-destination="url(http://glance.openstack.org)"><fo:inline>http://glance.openstack.org</fo:inline></fo:basic-link> for more info.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--image_decryption_dir</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'tmp/'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Parent directory for the temporary directory used for image decryption. Ensure the user has correct permissions to access this directory when decrypting images.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--instance_name_template</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'instance-%08x'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Template string to be used to generate instance names.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--libvirt_type</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: kvm</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String: Name of connection to a hypervisor through libvirt. Supported options are kvm, qemu, uml, and xen.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--lock_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: none</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Directory path: Writeable path to store lock files.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logfile</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: none</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Output to named file.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_context_format_string</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '%(asctime)s %(levelname)s %(name)s [%(request_id)s %(user)s
                        %(project)s] %(message)s'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The format string to use for log messages with additional context.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_debug_format_suffix</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'from %(processName)s (pid=%(process)d) %(funcName)s
                        %(pathname)s:%(lineno)d'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The data to append to the log format when level is DEBUG.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_default_format_string</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '%(asctime)s %(levelname)s %(name)s [-] %(message)s'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>The format string to use for log messages without context.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--logging_exception_prefix</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '(%(name)s): TRACE: '</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Prefix each line of exception output with this format.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--max_cores</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '16'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Maximum number of instance cores to allow per compute host.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--my_ip</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Cloud controller host IP address.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_manager</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.network.manager.VlanManager'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>
                        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Configures how your controller will communicate with additional
                            OpenStack Compute nodes and virtual machines. Options: </fo:block>
                        <fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2636"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2637"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.network.manager.FlatManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Simple, non-VLAN networking</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2640"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.network.manager.FlatDHCPManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Flat networking with DHCP</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2643"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>nova.network.manager.VlanManager</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">VLAN networking with DHCP; This is the Default if no network
                                    manager is defined here in nova.conf. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                    </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_driver</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.network.linux_net'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Driver to use for network creation.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'preciousroy.hsd1.ca.comcast.net'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Network host to use for ip allocation in flat modes.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_size</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '256'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Number of addresses in each private subnet.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--num_networks</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '1000'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Number of networks to support.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--network_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'network'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; The topic network nodes listen on.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--node_availability_zone</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Availability zone of this node.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--null_kernel</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nokernel'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Kernel image that indicates not to use a kernel, but to use a
                        raw disk image instead.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--osapi_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; IP address of the API server.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--osapi_listen_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '8774'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Port value; Port for the OpenStack Compute API to listen on.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--osapi_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '/v1.0/'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block/></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--osapi_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '8774'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Port open for the OpenStack API server.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--osapi_scheme</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'http'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Protocol; Prefix for the OpenStack API URL.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--periodic_interval</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '60'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Seconds between running periodic tasks.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--pidfile</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Name of pid file to use for this service (such as the
                        nova-compute service).</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'localhost'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location of rabbitmq installation.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_max_retries</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '12'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Rabbit connection attempts.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_password</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'guest'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Password for the Rabbitmq server.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '5672'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Port where Rabbitmq server is running/listening.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit-retry-interval</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value: Rabbit connection retry interval.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--rabbit_userid</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'guest'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; User ID used for Rabbit connections.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--region_list</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Comma-delimited pairs; List of region = fully qualified domain name pairs
                        separated by commas.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--report_interval</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Seconds between nodes reporting state to the data store.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--routing_source_ip</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Public IP of network host. When instances without a floating IP hit the Internet, traffic is snatted to this IP address.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--s3_dmz</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; For instances internal IP (a DMZ is shorthand for a
                        demilitarized zone)</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--s3_host</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '$my_ip'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address: IP address of the S3 host for infrastructure. Location where
                        OpenStack Compute is hosting the objectstore service, which will contain the
                        virtual machine images and buckets.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--s3_port</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '3333'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Port where S3 host is running</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--scheduler_manager</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.scheduler.manager.SchedulerManager'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Manager for the scheduler for Compute (Nova)</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--scheduler_topic</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'scheduler'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; The topic scheduler nodes listen on.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_connection</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'sqlite:///$state_path/nova.sqlite'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address; Location of OpenStack Compute SQL database</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_idle_timeout</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '3600'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block/></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_max_retries</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '12'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Number of attempts on the SQL connection</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--sql_retry_interval</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '10'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer value; Retry interval for SQL connections</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--state_path</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '/usr/lib/pymodules/python2.6/nova/../'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Top-level directory for maintaining Nova's state</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_deprecated_auth</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Set to 1 or true to turn on; Determines whether to use the deprecated nova auth system or Keystone as the auth system </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_ipv6</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Set to 1 or true to turn on; Determines whether to use IPv6 network addresses </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--use_s3</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'true'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Set to 1 or true to turn on; Determines whether to get images from s3 or use a local copy </fo:block></fo:table-cell></fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--verbose</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'false'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Set to 1 or true to turn on; Optional but helpful during initial setup</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--vlan_interface</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'eth0'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>This is the interface that VlanManager uses to bind bridges and vlans to. </fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--vlan_start</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '100'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>Integer; First VLAN for private networks.</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--vpn_image_id</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'ami-cloudpipe'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>AMI (Amazon Machine Image) for cloudpipe VPN server</fo:block></fo:table-cell>
                </fo:table-row><fo:table-row>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--vpn_key_suffix</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: '-vpn'</fo:block></fo:table-cell>
                    <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>This is the interface that VlanManager uses to bind bridges and VLANs to.</fo:block></fo:table-cell>
                </fo:table-row></fo:table-body></fo:table></fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d399e2810"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" font-weight="bold" font-size="12pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" color="rgb(176,0,14)" font-family="CartoGothic Std" keep-with-next.within-column="always">Table 8.2. Description of nova.conf flags specific to nova-volume</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" font-size="8pt" width="100%" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black"><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always">
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Flag</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block font-weight="bold">Default</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell>
                        </fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--iscsi_ip_prefix</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: ''</fo:block></fo:table-cell>
                            
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>IP address or partial IP address; Value that differentiates the IP
                                addresses using simple string matching, so if all of your hosts are on the 192.168.1.0/24 network you could use --iscsi_ip_prefix=192.168.1</fo:block></fo:table-cell></fo:table-row><fo:table-row>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--volume_manager</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'nova.volume.manager.VolumeManager'</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Manager to use for nova-volume</fo:block></fo:table-cell>
                        </fo:table-row><fo:table-row>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--volume_name_template</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'volume-%08x'</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-bottom-style="solid" border-bottom-width="0.5pt" border-bottom-color="black"><fo:block>String value; Template string to be used to generate volume names</fo:block></fo:table-cell>
                        </fo:table-row><fo:table-row>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>--volume_topic</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none" border-end-style="solid" border-end-width="0.5pt" border-end-color="black"><fo:block>default: 'volume'</fo:block></fo:table-cell>
                            <fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-start-style="none" border-top-style="none"><fo:block>String value; Name of the topic that volume nodes listen on</fo:block></fo:table-cell>
                        </fo:table-row></fo:table-body></fo:table></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_openstack-interfaces"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">9. OpenStack Interfaces</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack has components that provide a view of the OpenStack installation such as a Django-built website that serves as a dashboard and the ability to connect to running instances using a VNC connection via a VNC Proxy.</fo:block><fo:block id="about-the-dashboard"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">About the Dashboard</fo:marker><fo:block font-size="20.735999999999997pt">About the Dashboard</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use a dashboard interface with an OpenStack Compute installation with a web-based
        console provided by the Openstack-Dashboard project. It provides a reference implementation of a Django site that provides web-based interactions with the OpenStack Compute cloud controller. For more information about the Openstack-Dashboard project,
        please visit: <fo:basic-link external-destination="url(http://launchpad.net/openstack-dashboard)"><fo:inline>http://launchpad.net/openstack-dashboard</fo:inline></fo:basic-link>. These instructions are for a test deployment of an OpenStack Dashboard. They configure your dashboard to use the default Django server. To create a more robust, production-ready installation, you would configure this with an Apache web server. </fo:block><fo:block id="dashboard-system-requirements"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">System Requirements for the Dashboard</fo:marker><fo:block font-size="17.28pt">System Requirements for the Dashboard</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should have a running OpenStack Compute installation with the Keystone module
            enabled for identity management. Follow these <fo:basic-link external-destination="url(http://docs.openstack.org/diablo/)"><fo:inline>general instructions for installing Identity Management</fo:inline></fo:basic-link>. For a good all-in-one Nova/Glance/Keystone installation there is the <fo:basic-link external-destination="url(https://github.com/cloudbuilders/devstack)"><fo:inline>devstack</fo:inline></fo:basic-link> project.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The dashboard needs to be installed on the node that can contact the Keystone service.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should know the URL of your Identity endpoint and the Compute endpoint. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You must know the credentials of a valid Keystone tenant.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You must have git installed. It's straightforward to install it with <fo:inline font-family="monospace">sudo
                    apt-get install git-core</fo:inline>. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Python 2.6 is required, and these instructions have been tested with Ubuntu 10.10. It
                should run on any system with Python 2.6 or 2.7 that is capable of running Django
                including Mac OS X (installing prerequisites may differ depending on platform). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Optional components:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">an Image Store (Glance) endpoint </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">an Object Store (Swift) endpoint </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">a <fo:basic-link external-destination="url(http://wiki.openstack.org/Quantum)"><fo:inline>Quantum</fo:inline></fo:basic-link> (networking)
                endpoint</fo:block></fo:block><fo:block id="installing-openstack-dashboard"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Installing the OpenStack Dashboard</fo:marker><fo:block font-size="17.28pt">Installing the OpenStack Dashboard</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are the overall steps for building the dashboard.</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d399e2860"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2861"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Get the source for the openstack-dashboard project.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2863"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configure the openstack-dashboard.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2865"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Install.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2867"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Run the server that starts the dashboard.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Before you begin, you must have git installed. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create a source directory to house the project:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2871">mkdir src
cd src            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, get the openstack-dashboard project, which provides all the look and feel for the OpenStack Dashboard.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2873">
git clone https://github.com/4P/openstack-dashboard
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should now have a directory called openstack-dashboard, which contains the OpenStack Dashboard application.</fo:block><fo:block id="build-and-configure-openstack-dashboard"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Configure Openstack-Dashboard</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now you can configure the dashboard application. The first step in configuring the application
                is to create your local_settings.py file. An example is provided that you can copy
                to local_settings.py and then modify for your environment.
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2879">
cd openstack-dashboard/openstack-dashboard
cp local_settings.py.example local/local_settings.py
vi local_settings.py
                </fo:block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the new copy of the local_settings.py file, change these important options:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2881"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2882"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OPENSTACK_ADMIN_TOKEN : Token for Keystone endpoint.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2884"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OPENSTACK_KEYSTONE_URL : URL for the Keystone endpoint.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="d399e2886"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="12pt">Keystone Configuration (required)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                
                The admin token can be generated by executing something like the following using the keystone-manage command on the Keystone host:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2889"> keystone-manage token add 999888777666 admin admin 2015-02-05T00:00</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To use this token you would add the following to local_settings.py:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2891">OPENSTACK_ADMIN_TOKEN = "999888777666"</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Keystone endpoint setting takes the following form:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2893">OPENSTACK_KEYSTONE_URL = "http://mykeystoneurl:5000/v2.0/".</fo:block></fo:block><fo:block id="d399e2894"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="12pt">Object Storage Configuration (optional)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If a Swift endpoint is available and configured in the Keystone service catalog turning on the Swift UI is as simple as adding the following to local_settings.py:
                    
                </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2897">SWIFT_ENABLED = True</fo:block></fo:block><fo:block id="d399e2898"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="12pt">Quantum Configuration (optional)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Quantum currently requires the following settings:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2901">
QUANTUM_ENABLED = True
QUANTUM_URL = '127.0.0.1'
QUANTUM_PORT = '9696'
QUANTUM_TENANT = '1234'
QUANTUM_CLIENT_VERSION='0.1'
            </fo:block></fo:block></fo:block><fo:block id="install-dashboard"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Install the Dashboard</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After Dashboard has been configured install the Dashboard virtual environment using the terminal commands below:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d399e2905"><fo:list-block provisional-distance-between-starts="36pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="36pt" src="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/note.svg)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" color="rgb(196,0,34)" font-family="CartoGothic Std">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note: the instructions below are for Ubuntu, however, setuptools can be installed on a wide variety of platforms: http://pypi.python.org/pypi/setuptools</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2907">$ apt-get install -y python-setuptools 
                    $ sudo easy_install virtualenv
                    $ python tools/install_venv.py</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Installing the virtual environment will take some time depending on download speeds. </fo:block></fo:block><fo:block id="run-the-server"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Run the Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Dashboard is run using the standard Django manage.py script from the context of the virtual environment. Run the server on a high port value so that you can validate the installation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e2913">tools/with_venv.sh dashboard/manage.py runserver 0.0.0.0:8000</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Make sure that your firewall isn't blocking TCP/8000 and just point your browser at this server on port 8000. If you are running the server on the same machine as your browser, this would be "http://localhost:8000". </fo:block><fo:block id="d399e2915"><fo:external-graphic src="url(/Users/anne.gentle/src/openstack-manuals/doc/src/docbkx/openstack-compute-admin/figures/dashboard-overview.png)" width="auto" height="auto" content-width="60%" content-height="60%" content-type="content-type:image/png"/></fo:block></fo:block></fo:block></fo:block><fo:block id="getting-started-with-the-vnc-proxy"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Getting Started with the VNC Proxy</fo:marker><fo:block font-size="20.735999999999997pt">Getting Started with the VNC Proxy</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The VNC Proxy is an OpenStack component that allows users of Nova to
            access their instances through a websocket enabled browser (like
            Google Chrome 4.0). See <fo:basic-link external-destination="url(http://caniuse.com/#search=websocket)"><fo:inline>http://caniuse.com/#search=websocket</fo:inline></fo:basic-link> for a reference list of supported web browsers.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            A VNC Connection works like so:
        </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2926"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2927"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                    User connects over an API and gets a URL like
                    http://ip:port/?token=xyz
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2929"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                    User pastes URL in browser
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2931"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                    Browser connects to VNC Proxy though a websocket enabled client
                    like noVNC
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2933"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                    VNC Proxy authorizes users token, maps the token to a host and
                    port of an instance's VNC server
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2935"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                    VNC Proxy initiates connection to VNC server, and continues
                    proxying until the session ends
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="configuring-the-vnc-proxy"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Configuring the VNC Proxy</fo:marker><fo:block font-size="17.28pt">Configuring the VNC Proxy</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The nova-vncproxy requires a websocket enabled html client to work properly. At this time,
                the only tested client is a slightly modified fork of noVNC, which you can at find <fo:basic-link external-destination="url(http://github.com/openstack/noVNC.git)"><fo:inline>http://github.com/openstack/noVNC.git</fo:inline></fo:basic-link>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The noVNC tool must be in the location specified by --vncproxy_wwwroot, which defaults to
                /var/lib/nova/noVNC. nova-vncproxy will fail to launch until this code is properly installed. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                By default, nova-vncproxy binds 0.0.0.0:6080. This can be
                configured with:
            </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2944"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2945"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        --vncproxy_port=[port]
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2947"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        --vncproxy_host=[host]
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="enabling-vnc-consoles-in-nova"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Enabling VNC Consoles in Nova</fo:marker><fo:block font-size="17.28pt">Enabling VNC Consoles in Nova</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                At the moment, VNC support is supported only when using libvirt.
                To enable VNC Console, configure the following flags in the nova.conf file:
            </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2953"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2954"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        --vnc_console_proxy_url=http://[proxy_host]:[proxy_port] -
                        proxy_port defaults to 6080. This URL must point to
                        nova-vncproxy
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2956"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        --vnc_enabled=[True|False] - defaults to True. If this flag is
                        not set your instances will launch without VNC support.
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="getting-an-instances-vnc-console"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Getting an Instance's VNC Console</fo:marker><fo:block font-size="17.28pt">Getting an Instance's VNC Console</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                You can access an instance's VNC Console URL in the following
                methods:
            </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2962"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2963"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        Using the direct api: eg: 'stack --user=admin --project=admin
                        compute get_vnc_console instance_id=1'
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2965"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>
                        Support for Dashboard, and the Openstack API will be
                        forthcoming
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                At the moment, VNC Consoles are only supported through the web
                browser, but more general VNC support is in the works.
            </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_openstack-compute-tutorials"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">10. OpenStack Compute Tutorials</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We want OpenStack to make sense, and sometimes the best way to make sense of the cloud is to try out some basic ideas with cloud computing. Flexible, elastic, and scalable are a few attributes of cloud computing, so these tutorials show various ways to use virtual computing or web-based storage with OpenStack components.</fo:block><fo:block id="running-elastic-web-app-cloud"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Running Your First Elastic Web Application on the Cloud</fo:marker><fo:block font-size="20.735999999999997pt">Running Your First Elastic Web Application on the Cloud</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this OpenStack Compute tutorial, we’ll walk through the creation of an elastic,
            scalable cloud running a WordPress installation on a few virtual machines.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The tutorial assumes you have OpenStack Compute already installed on Ubuntu 10.04. You
            can tell OpenStack Compute is installed by running "sudo nova-manage service list" to
            ensure it is installed and the necessary services are running and ready. You should see
            a set of nova- services in a response, and they should have a sideways smiley face in
            each row, indicating they're running. You should run the tutorial as a root user or a
            user with sudo access.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you haven't installed OpenStack Compute yet, you can use an ISO image that is based
            on a Ubuntu Linux Server 10.04 LTS distribution containing only the components needed to
            run OpenStack Compute. See <fo:basic-link external-destination="url(http://sourceforge.net/projects/stackops/files/)"><fo:inline>http://sourceforge.net/projects/stackops/files/</fo:inline></fo:basic-link> for download files and
            information, license information, and a README file to get started.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We'll go through this tutorial in parts:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2978"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2979"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Setting up a user, project, and network for this cloud.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2981"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Getting images for your application servers.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2983"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>On the instances you spin up, installing Wordpress and its dependencies, the Memcached plugin, and multiple memcache servers.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="part-i-setting-up-cloud-infrastructure"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Part I: Setting Up the Cloud Infrastructure</fo:marker><fo:block font-size="17.28pt">Part I: Setting Up the Cloud Infrastructure</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this part, we'll get the networking layer set up based on what we think most
                networks would work like. We'll also create a user and a project to house our cloud
                and its network. Onward, brave cloud pioneers! </fo:block><fo:block id="d399e2988"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Configuring the network</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ideally on large OpenStack Compute deployments, each project is in a protected
                    network segment. Our project in this case is a LAMP stack running Wordpress with
                    the Memcached plugin for added database efficiency. So we need a public IP
                    address for the Wordpress server but we can use flat networking for this. Here's
                    how you set those network settings. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Usually networking is set in nova.conf, but VLAN-based networking with DHCP is
                    the default setting when no network manager is defined in nova.conf. To check
                    this network setting, open your nova.conf, typically in /etc/nova/nova.conf and
                    look for -network_manager. The possible options are:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e2992"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2993"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>-network_manager=nova.network.manager.FlatManager for a simple,
                            no-VLAN networking type, </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2995"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>-network_manager=nova.network.manager.FlatDHCPManager for flat
                            networking with a built-in DHCP server, </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e2997"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>-network_manager= nova.network.manager.VlanManager, which is the most
                            tested in production but requires network hardware with VLAN
                            tagging.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here is an example nova.conf for a single node installation of OpenStack
                    Compute.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3000"># Sets the network type
--network_manager=nova.network.manager.FlatManager
# Sets whether to use IPV6 addresses
--use_ipv6=false
# DHCP bridge information
--dhcpbridge_flagfile=/etc/nova/nova.conf
--dhcpbridge=nova-dhcpbridge
--flat_network_bridge=br100
--logdir=/var/log/nova
# Top-level directory for maintaining nova's state 
--state_path=/var/lib/nova
# These indicate where nova-api services are installed
--s3_host=184.106.239.134
--rabbit_host=184.106.239.134
--ec2_api=184.106.239.134
--ec2_url=http://184.106.239.134:8773/services/Cloud
# Block of IP addresses that are fixed IPs
--fixed_range=192.168.0.0/12
# Number of addresses in each private subnet
--network_size=24
# FlatDHCP bridges to this interface if set, be very careful setting it on an interface that does not already have an IP associated with it
--flat_interface=eth0
# Public IP of the server running nova-network, when instances without a floating IP hit the internet, traffic is snatted to this IP
--routing_source_ip=184.106.239.134
# Not required, but handy for debugging
--verbose
# Tells nova where to connect for database
--sql_connection=mysql://nova:notnova@184.106.239.134/nova</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that we know the networking configuration, let's set up the network for
                    our project. With Flat DHCP, the host running nova-network acts as the gateway
                    to the virtual nodes, so ideally this will have a public IP address for our
                    tutorial. Be careful when setting up --flat_interface in nova.conf, if you
                    specify an interface that already has an IP it will break and if this is the
                    interface you are connecting through with SSH, you cannot fix it unless you have
                    ipmi/console access. Also the --flat_network_bridge is now required.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For this tutorial, we set a 24 value for network_size, the number of addresses
                    in each private subnet, since that falls inside the /12 CIDR-notated range
                    that's set in ‘fixed-range’ in nova.conf. We probably won't use that many at
                    first, but it's good to have the room to scale.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Currently, there can only be one network set in nova.conf. When you issue the
                    nova-manage network create command, it uses the settings in the nova.conf flag
                    file. From the --fixed_range setting, iptables are set. Those iptables are
                    regenerated each time the nova-network service restarts, also. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d399e3004"><fo:list-block provisional-distance-between-starts="36pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="36pt" src="url(/Users/anne.gentle/src/openstack-manuals/doc/target/docbkx/images/note.svg)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" color="rgb(196,0,34)" font-family="CartoGothic Std">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The nova-manage service assumes that the first IP address is your network
                        (like 192.168.0.0), that the 2nd IP is your gateway (192.168.0.1), and that
                        the broadcast is the very last IP in the range you defined (192.168.0.255).
                        If this is not the case you will need to manually edit the sql db ‘networks’
                        table.o but that scenario shouldn't happen for this tutorial.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Run this command as root or sudo:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3007"> nova-manage network create public 192.168.3.0/12 1 256</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On running this command, entries are made in the ‘networks’ and ‘fixed_ips’
                    table in the nova database. However, one of the networks listed in the
                    ‘networks’ table needs to be marked as bridge in order for the code to know that
                    a bridge exists. The Network is marked as bridged automatically based on the
                    type of network manager selected. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next you want to integrate this network bridge, named br100, into your
                    network. A bridge connects two Ethernet segments together.</fo:block></fo:block><fo:block id="d399e3010"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Ensure the Database is Up-to-date</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first command you run using nova-manage is one called db sync, which
                    ensures that your database is updated. You must run this as root.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3013">nova-manage db sync</fo:block></fo:block><fo:block id="d399e3014"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Creating a user</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenStack Compute can run many projects for many users, so for our tutorial
                    we'll create a user and project just for this scenario. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We control the actions a user can take through roles, such as admin for
                    Administrator who has complete system access, itsec for IT Security, netadmin
                    for Network Administrator, and so on.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In addition to these roles controlling access to the Eucalyptus API,
                    credentials are supplied and bundled by OpenStack compute in a zip file when you
                    create a project. The user accessing the cloud infrastructure through ec2
                    commands are given an access and secret key through the project itself. Let's
                    create a user that has the access we want for this project.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To add an admin user named cloudypants, use:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3020">nova-manage user admin cloudypants</fo:block></fo:block><fo:block id="d399e3021"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Creating a project and related credentials</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next we'll create the project, which in turn gives you certifications in a zip
                    file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Enter this command to create a project named wpscales as the admin user,
                    cloudypants, that you created above.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3025">nova-manage project create wpscales cloudypants</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Great, now you have a project that is set apart from the rest of the clouds
                    you might control with OpenStack Compute. Now you need to give the user some
                    credentials so they can run commands for the instances with in that project's
                    cloud. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These are the certs you will use to launch instances, bundle images, and all
                    the other assorted API and command-line functions.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First, we'll create a directory that'll house these credentials, in this case
                    in the root directory. You need to sudo here or save this to your own directory
                    with 'mkdir -p ~/creds' so that the credentials match the user and are stored in
                    their home.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3029">mkdir –p /root/creds</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now, run nova-manage to create a zip file for your project called wpscales
                    with the user cloudypants (the admin user we created previously). </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3031">sudo nova-manage project zipfile wpscales cloudypants /root/creds/novacreds.zip</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, you can unzip novacreds.zip in your home directory, and add these
                    credentials to your environment. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3033">unzip /root/creds/novacreds.zip -d /root/creds/</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sending that information and sourcing it as part of your .bashrc file
                    remembers those credentials for next time.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3035">cat /root/creds/novarc &gt;&gt; ~/.bashrc
source ~/.bashrc</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Okay, you've created the basic scaffolding for your cloud so that you can get
                    some images and run instances. Onward to Part II!</fo:block></fo:block></fo:block><fo:block id="part-ii-getting-virtual-machines"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Part II: Getting Virtual Machines to Run the Virtual Servers</fo:marker><fo:block font-size="17.28pt">Part II: Getting Virtual Machines to Run the Virtual Servers</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Understanding what you can do with cloud computing means you should have a grasp
                on the concept of virtualization. With virtualization, you can run operating systems
                and applications on virtual machines instead of physical computers. To use a virtual
                machine, you must have an image that contains all the information about which
                operating system to run, the user login and password, files stored on the system,
                and so on.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For this tutorial, we've created an image that you can download that allows the
                networking you need to run web applications and so forth. In order to use it with
                the OpenStack Compute cloud, you download the image, then use uec-publish-tarball to
                publish it. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are the commands to get your virtual image. Be aware that the download of the
                compressed file may take a few minutes.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3042">image="ubuntu1010-UEC-localuser-image.tar.gz"
wget http://c0179148.cdn1.cloudfiles.rackspacecloud.com/
ubuntu1010-UEC-localuser-image.tar.gz
uec-publish-tarball $image wpbucket x86_64</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">What you'll get in return from this command is three references: emi, eri and eki.
                These are acronyms - emi stands for eucalyptus machine image, eri stands for
                eucalyptus ramdisk image, and eki stands for eucalyptus kernal image. Amazon has
                similar references for their images - ami, ari, and aki.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You need to use the emi value when you run the instance. These look something like
                “ami-zqkyh9th″ - basically a unique identifier.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Okay, now that you have your image and it's published, realize that it has to be
                decompressed before you can launch an image from it. We can realize what state an
                image is in using the 'euca-describe-instances' command. Basically, run:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3046">euca-describe-instances</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">and look for the state in the text that returns. You can also use
                euca-describe-images to ensure the image is untarred. Wait until the state shows
                "available" so that you know the instances is ready to roll.</fo:block></fo:block><fo:block id="installing-needed-software-for-web-scale"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Part III: Installing the Needed Software for the Web-Scale Scenario</fo:marker><fo:block font-size="17.28pt">Part III: Installing the Needed Software for the Web-Scale Scenario</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once that state is "available" you can enter this command, which will use your
                credentials to start up the instance with the identifier you got by publishing the
                image.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3051">emi=ami-zqkyh9th
euca-run-instances $emi -k mykey -t m1.tiny</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now you can look at the state of the running instances by using
                euca-describe-instances again. The instance will go from “launching” to “running” in
                a short time, and you should be able to connect via SSH. Look at the IP addresses so
                that you can connect to the instance once it starts running.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Basically launch a terminal window from any computer, and enter: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3054">ssh -i mykey ubuntu@10.127.35.119</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On this particular image, the 'ubuntu' user has been set up as part of the sudoers
                group, so you can escalate to 'root' via the following command:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3056">sudo -i</fo:block><fo:block id="d399e3057"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">On the first VM, install WordPress</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now, you can install WordPress. Create and then switch to a blog
                    directory:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3060">mkdir blog
cd blog</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Download WordPress directly to you by using wget:</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3062">wget http://wordpress.org/latest.tar.gz           </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Then unzip the package using: </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3064">tar -xzvf latest.tar.gz</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The WordPress package will extract into a folder called wordpress in the same
                    directory that you downloaded latest.tar.gz. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, enter "exit" and disconnect from this SSH session.</fo:block></fo:block><fo:block id="d399e3067"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">On a second VM, install MySQL</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, SSH into another virtual machine and install MySQL and use these
                    instructions to install the WordPress database using the MySQL Client from a
                    command line: <fo:basic-link external-destination="url(http://codex.wordpress.org/Installing_WordPress#Using_the_MySQL_Client)"><fo:inline>Using the MySQL Client - Wordpress Codex</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="d399e3071"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">On a third VM, install Memcache</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Memcache makes Wordpress database reads and writers more efficient, so your virtual servers
                    can go to work for you in a scalable manner. SSH to a third virtual machine and
                    install Memcache:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" font-family="monospace" font-size="85%" hyphenation-character="\" background-color="#E0E0E0" id="d399e3075">apt-get install memcached</fo:block>
                </fo:block></fo:block><fo:block id="d399e3076"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:block font-size="14.399999999999999pt">Configure the Wordpress Memcache plugin</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">From a web browser, point to the IP address of your Wordpress server. Download and install the Memcache Plugin. Enter the IP address of your Memcache server.</fo:block></fo:block></fo:block><fo:block id="running-a-blog-in-the-cloud"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Running a Blog in the Cloud</fo:marker><fo:block font-size="17.28pt">Running a Blog in the Cloud</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">That's it! You're now running your blog on a cloud server in OpenStack Compute, and you've scaled it horizontally using additional virtual images to run the database and Memcache. Now if your blog gets a big boost of comments, you'll be ready for the extra reads-and-writes to the database. </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="true" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block>OpenStack Compute Administration Manual</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block>Sep 22, 2011</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block>Diablo</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block-container reference-orientation="90" absolute-position="fixed" top="-1in" overflow="visible" height="2in" width="30in" z-index="1"><fo:block padding-before=".45in" font-size="1.5em" color="gray" font-weight="bold"><fo:leader leader-pattern="use-content" leader-length="30in" letter-spacing=".1em">  </fo:leader></fo:block></fo:block-container><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="CartoGothic Std" margin-left="0pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="4pc" end-indent="0pt"><fo:block id="ch_support-and-troubleshooting"><fo:block font-family="CartoGothic Std"><fo:block margin-left="0pt"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0pt" font-family="CartoGothic Std" color="rgb(196,0,34)" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">11. Support and Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Online resources aid in supporting OpenStack and the community members are willing and able to answer questions and help with bug suspicions. We are constantly improving and adding to the main features of OpenStack, but if you have any problems, do not hesitate to ask. Here are some ideas for supporting OpenStack and troubleshooting your existing installations.</fo:block><fo:block id="community-support"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Community Support</fo:marker><fo:block font-size="20.735999999999997pt">Community Support</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are some places you can locate others who want to help.</fo:block><fo:block id="d399e3088"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">The Launchpad Answers area</fo:marker><fo:block font-size="17.28pt">The Launchpad Answers area</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">During setup or testing, you may have questions about how to do something, or end up in
                a situation where you can't seem to get a feature to work correctly. One place to
                look for help is the Answers section on Launchpad. Launchpad is the "home" for the
                project code and its developers and thus is a natural place to ask about the
                project. When visiting the Answers section, it is usually good to at least scan over
                recently asked questions to see if your question has already been answered. If that
                is not the case, then proceed to adding a new question. Be sure you give a clear,
                concise summary in the title and provide as much detail as possible in the
                description. Paste in your command output or stack traces, link to screenshots, and
                so on. The Launchpad Answers areas are available here - OpenStack Compute: <fo:basic-link external-destination="url(https://answers.launchpad.net/nova)"><fo:inline>https://answers.launchpad.net/nova</fo:inline></fo:basic-link> OpenStack Object Storage: <fo:basic-link external-destination="url(https://answers.launchpad.net/swift)"><fo:inline>https://answers.launchpad.net/swift</fo:inline></fo:basic-link>. </fo:block></fo:block><fo:block id="d399e3093"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">OpenStack mailing list</fo:marker><fo:block font-size="17.28pt">OpenStack mailing list</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Posting your question or scenario to the OpenStack mailing list is a great way to get
                answers and insights. You can learn from and help others who may have the same
                scenario as you. Go to <fo:basic-link external-destination="url(https://launchpad.net/~openstack)"><fo:inline>https://launchpad.net/~openstack</fo:inline></fo:basic-link> and click "Subscribe to mailing list"
                or view the archives at <fo:basic-link external-destination="url(https://lists.launchpad.net/openstack/)"><fo:inline>https://lists.launchpad.net/openstack/</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="d399e3098"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">The OpenStack Wiki search </fo:marker><fo:block font-size="17.28pt">The OpenStack Wiki search </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:basic-link external-destination="url(http://wiki.openstack.org/)"><fo:inline>OpenStack wiki</fo:inline></fo:basic-link> contains content
        on a broad range of topics, but some of it sits a bit below the surface. Fortunately, the wiki 
        search feature is very powerful in that it can do both searches by title and by content. If 
        you are searching for specific information, say about "networking" or "api" for nova, you can 
        find lots of content using the search feature. More is being added all the time, so be sure to 
        check back often. You can find the search box in the upper right hand corner of any OpenStack wiki
        page. </fo:block></fo:block><fo:block id="d399e3102"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">The Launchpad Bugs area </fo:marker><fo:block font-size="17.28pt">The Launchpad Bugs area </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">So you think you've found a bug. That's great! Seriously, it is. The OpenStack community
                values your setup and testing efforts and wants your feedback. To log a bug you must
                have a Launchpad account, so sign up at https://launchpad.net/+login if you do not
                already have a Launchpad ID. You can view existing bugs and report your bug in the
                Launchpad Bugs area. It is suggested that you first use the search facility to see
                if the bug you found has already been reported (or even better, already fixed). If
                it still seems like your bug is new or unreported then it is time to fill out a bug
                report. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Some tips: </fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e3106"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3107"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Give a clear, concise summary! </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3109"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Provide as much detail as possible
                in the description. Paste in your command output or stack traces, link to
                screenshots, etc. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3111"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Be sure to include what version of the software you are using.
                This is especially critical if you are using a development branch eg. "Austin
                release" vs lp:nova rev.396. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3113"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Any deployment specific info is helpful as well. eg.
                Ubuntu 10.04, multi-node install.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Launchpad Bugs areas are available here - OpenStack Compute: <fo:basic-link external-destination="url(https://bugs.launchpad.net/nova)"><fo:inline>https://bugs.launchpad.net/nova</fo:inline></fo:basic-link> OpenStack Object Storage: <fo:basic-link external-destination="url(https://bugs.launchpad.net/swift)"><fo:inline>https://bugs.launchpad.net/swift</fo:inline></fo:basic-link>
            </fo:block></fo:block><fo:block id="d399e3118"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">The OpenStack IRC channel </fo:marker><fo:block font-size="17.28pt">The OpenStack IRC channel </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The OpenStack community lives and breathes in the #openstack IRC channel on the
                Freenode network. You can come by to hang out, ask questions, or get immediate
                feedback for urgent and pressing issues. To get into the IRC channel you need to
                install an IRC client or use a browser-based client by going to
                http://webchat.freenode.net/. You can also use Colloquy (Mac OS X,
                http://colloquy.info/) or mIRC (Windows, http://www.mirc.com/) or XChat (Linux).
                When you are in the IRC channel and want to share code or command output, the
                generally accepted method is to use a Paste Bin, the OpenStack project has one at
                http://paste.openstack.org. Just paste your longer amounts of text or logs in the
                web form and you get a URL you can then paste into the channel. The OpenStack IRC
                channel is: #openstack on irc.freenode.net. </fo:block></fo:block></fo:block><fo:block id="troubleshooting-openstack-object-storage"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Troubleshooting OpenStack Object Storage</fo:marker><fo:block font-size="20.735999999999997pt">Troubleshooting OpenStack Object Storage</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For OpenStack Object Storage, everything is logged in /var/log/syslog (or messages on some distros). Several settings enable further customization of logging, such as log_name, log_facility, and log_level, within the object server configuration files.</fo:block><fo:block id="handling-drive-failure"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Handling Drive Failure</fo:marker><fo:block font-size="17.28pt">Handling Drive Failure</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> In the event that a drive has failed, the first step is to make sure the drive is unmounted. This will make it easier for OpenStack Object Storage to work around the failure until it has been resolved. If the drive is going to be replaced immediately, then it is just best to replace the drive, format it, remount it, and let replication fill it up.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the drive can’t be replaced immediately, then it is best to leave it unmounted, and remove the drive from the ring. This will allow all the replicas that were on that drive to be replicated elsewhere until the drive is replaced. Once the drive is replaced, it can be re-added to the ring.</fo:block></fo:block><fo:block id="handling-server-failure"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Handling Server Failure</fo:marker><fo:block font-size="17.28pt">Handling Server Failure</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If a server is having hardware issues, it is a good idea to make sure the OpenStack Object Storage services are not running. This will allow OpenStack Object Storage to work around the failure while you troubleshoot.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the server just needs a reboot, or a small amount of work that should only last a couple of hours, then it is probably best to let OpenStack Object Storage work around the failure and get the machine fixed and back online. When the machine comes back online, replication will make sure that anything that is missing during the downtime will get updated.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the server has more serious issues, then it is probably best to remove all of the server’s devices from the ring. Once the server has been repaired and is back online, the server’s devices can be added back into the ring. It is important that the devices are reformatted before putting them back into the ring as it is likely to be responsible for a different set of partitions than before.</fo:block></fo:block><fo:block id="detecting-failed-drives"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Detecting Failed Drives</fo:marker><fo:block font-size="17.28pt">Detecting Failed Drives</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It has been our experience that when a drive is about to fail, error messages will spew into /var/log/kern.log. There is a script called swift-drive-audit that can be run via cron to watch for bad drives. If errors are detected, it will unmount the bad drive, so that OpenStack Object Storage can work around it. The script takes a configuration file with the following settings:
           </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" background-color="#E0E0E0" id="d399e3136">
            [drive-audit]
            Option 	Default 	Description
            log_facility 	LOG_LOCAL0 	Syslog log facility
            log_level 	INFO 	Log level
            device_dir 	/srv/node 	Directory devices are mounted under
            minutes 	60 	Number of minutes to look back in /var/log/kern.log
            error_limit 	1 	Number of errors to find before a device is unmounted
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This script has only been tested on Ubuntu 10.04, so if you are using a different distro or OS, some care should be taken before using in production.
        </fo:block></fo:block></fo:block><fo:block id="troubleshooting-openstack-compute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Troubleshooting OpenStack Compute</fo:marker><fo:block font-size="20.735999999999997pt">Troubleshooting OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Common problems for Compute typically involve misconfigured networking or credentials that are not sourced properly in the environment. Also, most flat networking configurations do not enable ping or ssh from a compute node to the instances running on that node. Another common problem is trying to run 32-bit images on a 64-bit compute node. This section offers more information about how to troubleshoot Compute.</fo:block><fo:block id="log-files-for-openstack-compute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Log files for OpenStack Compute</fo:marker><fo:block font-size="17.28pt">Log files for OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Log files are stored in /var/log/nova and there is a log file for each service, for example nova-compute.log. You can format the log strings using flags for the nova.log module. The flags used to set format strings are: logging_context_format_string and logging_default_format_string. If the log level is set to debug, you can also specify logging_debug_format_suffix to append extra formatting. For information about what variables are available for the formatter see: http://docs.python.org/library/logging.html#formatter </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You have two options for logging for OpenStack Compute based on configuration settings. In nova.conf, include the --logfile flag to enable logging. Alternatively you can set --use_syslog=1, and then the nova daemon logs to syslog.</fo:block></fo:block><fo:block id="common-errors-and-fixes-for-openstack-compute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0pt" font-family="CartoGothic Std"><fo:block keep-with-next.within-column="always"><fo:block font-family="CartoGothic Std" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0pt" color="rgb(196,0,34)"><fo:marker marker-class-name="section.head.marker">Common Errors and Fixes for OpenStack Compute</fo:marker><fo:block font-size="17.28pt">Common Errors and Fixes for OpenStack Compute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Launchpad Answers site offers a place to ask and answer questions, and you can also mark questions as frequently asked questions. This section describes some errors people have posted to Launchpad Answers and IRC. We are constantly fixing bugs, so online resources are a great way to get the most up-to-date errors and fixes.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Credential errors, 401, 403 forbidden errors</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A 403 forbidden error is caused by missing credentials. Through current installation methods, there are basically two ways to get the novarc file. The manual method requires getting it from within a project zipfile, and the scripted method just generates novarc out of the project zip file and sources it for you. If you do the manual method through a zip file, then the following novarc alone, you end up losing the creds that are tied to the user you created with nova-manage in the steps before.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you run nova-api the first time, it generates the certificate authority information, including openssl.cnf. If it gets started out of order, you may not be able to create your zip file. Once your CA information is available, you should be able to go back to nova-manage to create your zipfile. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You may also need to check your proxy settings to see if they are causing problems with the novarc creation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Instance errors</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sometimes a particular instance shows "pending" or you cannot SSH to it. Sometimes the image itself is the problem. For example, when using flat manager networking, you do not have a dhcp server, and an ami-tiny image doesn't support interface injection so you cannot connect to it. The fix for this type of problem is to use an Ubuntu image, which should obtain an IP address correctly with FlatManager network settings. To troubleshoot other possible problems with an instance, such as one that stays in a spawning state, first check your instances directory for i-ze0bnh1q dir to make sure it has the following files:</fo:block><fo:list-block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d399e3154"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3155"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>libvirt.xml</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3157"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>disk</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3159"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>disk-raw</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3161"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>kernel</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3163"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>ramdisk</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d399e3165"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>console.log (Once the instance actually starts you should see a console.log.)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Check the file sizes to see if they are reasonable. If any are missing/zero/very small then nova-compute has somehow not completed download of the images from objectstore. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Also check nova-compute.log for exceptions. Sometimes they don't show up in the
                console output. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Next, check the /var/log/libvirt/qemu/i-ze0bnh1q.log file to see if it exists and has any useful error messages in it.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Finally, from the instances/i-ze0bnh1q directory, try <fo:inline font-family="monospace">virsh create libvirt.xml</fo:inline> and see if you get an error there.</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence></fo:root>